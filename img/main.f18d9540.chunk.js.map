{"version":3,"sources":["utils/theme.js","utils/paramsValidation.js","utils/cookie.js","utils/language.js","utils/cache.js","hooks/useFetch.js","hooks/useScript.js","hooks/useSessionStorage.js","hooks/useLocalStorage.js","hooks/useProfile.js","utils/clientDetails.js","Context.js","components/shared/Image.js","components/shared/Loading.js","components/shared/FooterWrapper.js","components/shared/AccessibleText.js","utils/analyticsFramework.js","components/shared/Link.js","components/legal/Legal.js","components/footer/Title.js","components/footer/Column.js","components/shared/Separator.js","components/footer/Columns.js","components/footer/Item.js","components/footer/SocialMediaIcon.js","components/footer/SocialMediaItem.js","components/footer/RelatedDisneySites.js","components/footer/SocialInformationItem.js","components/footer/DisneyReservationCenter.js","components/shared/Icon.js","hooks/useCheckMediaQuery.js","components/footer/Footer.js","components/shared/Container.js","components/header/SmartBanner.js","components/header/MessageCenter.js","components/header/TravelTrade.js","components/header/profile/Card.js","components/header/profile/MessageCountBadge.js","components/shared/Button.js","components/header/profile/NotificationsModalContent.js","components/header/profile/Profile.js","components/header/navigation/section/Title.js","components/shared/Fairy.js","components/header/navigation/Flyout.js","components/header/navigation/section/cart/Footer.js","components/shared/Title.js","components/header/navigation/section/cart/FlightItem.js","components/header/navigation/section/cart/RoomItem.js","components/header/navigation/section/cart/Item.js","components/header/navigation/section/cart/CompositeItem.js","components/header/navigation/section/cart/Message.js","components/header/navigation/section/cart/Full.js","components/header/navigation/section/schedule/Schedule.js","utils/date.js","components/header/navigation/section/schedule/MoreParkHours.js","components/header/navigation/section/LinkGroup.js","components/header/navigation/section/cart/Empty.js","hooks/useKeyboardNav.js","components/header/navigation/section/cart/Cart.js","components/header/navigation/LanguageSelector.js","components/header/navigation/section/Section.js","components/header/navigation/SearchBar.js","components/header/Matterhorn.js","components/header/ShowDisney.js","components/header/navigation/Navigation.js","components/header/SecondaryMessage.js","components/header/Header.js","components/shared/Modal.js","App.js","utils/logger.js","index.js","utils/index.js"],"names":["bodyMutationObserver","currentScript","urlParams","url","getCookie","key","cookie","document","split","find","row","error","console","setCookie","value","numberOfDays","expires","Date","setDate","getDate","toUTCString","removeCookie","loadExternalThemeStyles","theme","allowedThemes","includes","fileName","getCdn","querySelector","link","createElement","type","rel","href","head","appendChild","disconnect","findThemeInClassesList","classes","body","classList","index","length","contains","localeRegExp","getDefaultLocale","brand","config","brands","defaultLocale","toLowerCase","replace","processLanguageSelectorUrl","match","currentLocale","window","location","pathname","targetUrl","origin","concat","disneyland","disneyworld","disneycruise","disneybeachresorts","disneyaulani","hiltonhead","hongkongdisneyland","verobeach","storeParam","routesWithStoresConfiguration","messageCenterId","messageCenterParam","loadTheme","getParam","MutationObserver","observe","attributeFilter","loadAppConfiguration","URL","src","getElementById","searchParams","append","paramName","get","validateParam","defaultValue","param","validateParamValue","valuesArray","defaultIndex","loadBrandParam","splittedHostname","hostname","Object","values","loadLocaleParam","parsedLocale","locale","preventReadingLocaleFromCookie","localeCookieName","defaultLocaleCookie","getDefaultLocaleCookie","JSON","parse","decodeURIComponent","defaultLocaleCookieProperty","getDefaultLocaleCookieProperty","info","gdprHostnames","getGDPRLocale","language","region","validateParams","params","valid","loadAffiliations","affiliationParam","toUpperCase","openCacheStorage","a","caches","open","cache","name","log","validateCache","cacheStorage","cacheResult","headers","expirationHeader","delete","getCache","setCache","response","cacheValidMinutes","seconds","setSeconds","getSeconds","cachedResponseFields","status","statusText","forEach","v","k","put","Response","cleanExpiredCache","keys","then","keyList","userTypeKey","appEnv","getEnvironment","apiUrl","serviceEnv","useLt01ApiPrefix","baseApiUrl","defaultBaseApiUrl","urlInterceptor","indexOf","some","store","pathnameParts","storesStartIndex","findIndex","subpath","validateAndAddStoreParam","has","useFetch","options","trigger","useState","setResponse","setError","loading","setLoading","useEffect","abortController","AbortController","signal","requestUrl","res","fetch","ok","json","message","clone","aborted","doFetch","abort","dataStatus","useScript","position","setStatus","script","getAttribute","async","setAttribute","setAttributeFromEvent","event","addEventListener","setStateFromEvent","removeEventListener","useSessionStorage","initialValue","item","sessionStorage","getItem","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","useLocalStorage","localStorage","authenticationEvent","targetOneId","userDataCookieName","defaultUserType","oneIdPrefix","decodeCookieValue","currentCookieValue","decodedCookieValue","getCookieValue","cookieNames","baseCookieValue","cookieValue","cookieName","loadGuestAffiliations","affiliations","affiliationsCookie","geolocationCookie","affiliationsToAdd","affiliationsFromCookie","cookies","multiAffls","storedAffiliations","preventReadingGeoCookieWhenLoadedAffiliations","affiliationsFromGeolocation","geolocation","country","zipCode","countryToUse","push","zipCodes","zipCodeAffiliation","range","zipCodeIndex","publishNavigationEvent","eventName","dispatchEvent","CustomEvent","detail","useProfile","profile","affiliationsParam","chromeData","readDataFromCookie","setTravelAgent","isCdnPage","brandConfig","oneIdConfig","oneId","environmentConfiguration","default","oneIdEnv","usingOneIdLibrary","usingOneIdProfileLibrary","isOneIdSource","oneIdClientId","mapString","clientId","oneIdResponderPage","development","responderPage","oneIdLibraryUrl","oneIdLibrary","oneIdLibraryUrlPrefix","oneIdProfileLibraryUrl","oneIdProfileLibrary","oneIdProfileLibraryUrlPrefix","disneyIDUrl","getOneIdConfig","user","setUser","profileUrl","setProfileUrl","openedOneIdModal","setOpenedOneIdModal","isLoading","setIsLoading","setAffiliations","isUserTypeRequiredForContentRequest","userType","setUserType","loggedInStatusChanged","setLoggedInStatusChanged","travelAgent","setStorageMakeCartRequest","setSyndicatedDismissButton","disneyIdRef","useRef","swid","token","authToken","initOneId","authTokenCookie","swidCookie","userDataCookie","firstName","avatar","id","objectIsEmpty","lastName","messages","travelAgency","defaultAvatarUrl","exportAuthLogic","current","onLoginRedirectTo","onLogoutRedirectTo","resetOnActionRedirection","method","preventReloadAndRedirect","preventExecuteOneIdMethod","handleLogin","handleClick","handleProfile","handleLogout","sharedSessionLink","makeProfileRequestForGettingTAData","makeProfileRequest","apiUrlParams","encodeURIComponent","join","removeCartCookie","cartCookieToRemove","userData","PEP","PROFILE_AUTH","init","oneIdScriptSrc","loadScript","langPref","cssOverride","did","getLoggedInStatus","getGuest","access_token","DisneyID","loggedIn","guest","initOneIdEvents","handleRedirectAndReloadLogic","redirectKey","redirectUrl","assign","reload","on","data","launchLoginPreventReloadAndRedirect","launchReauthPreventReloadAndRedirect","isDevelopmentEnvironment","logoutPreventReloadAndRedirect","isEventSource","getLoginUrl","signIn","onLogoutRedirectUrl","signOut","currentTarget","signedIn","target","e","preventDefault","getOperatingSystem","userAgent","navigator","vendor","opera","test","MSStream","Context","createContext","contextEvent","ContextProvider","props","allowedLocales","chrome","chromeLinks","footer","header","languageSelector","legal","messageCenter","navigation","operatingSystem","defaultPosition","searchBar","secondaryMessage","showSections","showRelatedDisneySites","smartBanner","travelTrade","basePath","showDisney","logo","environment","setConfig","headerData","setHeaderData","footerData","setFooterData","legalFooterData","setLegalFooterData","profileData","modal","setModal","loadConfiguration","currentConfig","context","observer","changes","change","attributeName","attributes","setTimeout","contextEventLogic","newConfig","Provider","children","baseClass","Image","image","title","alt","width","height","modifier","className","Loading","mainClass","FooterWrapper","useContext","footerWrapperUrl","setFooterWrapperUrl","isUserTypeRequired","footerBaseUrl","content","AccessibleText","role","ariaLevel","aria-level","trackLink","model","customEvent","ref","WDPRO","Analytics","Framework","analyticsModel","checkInitialization","updatedModel","trackingType","trackElement","Link","accessibleText","analyticsLinkId","tabIndex","byPassBasePath","interstitial","headerInterstitials","footerInterstitials","legalFooterInterstitials","interstitials","handleTriggerAnalytics","linkId","onClick","handleInterstitial","handleModalLayer","onMouseEnter","Legal","wrap","legalFooter","LegalWrapper","Fragment","modules","map","module","webLinkList","descriptions","description","dangerouslySetInnerHTML","__html","Title","Column","Separator","vertical","section","Columns","columns","Item","emptyTitle","empty","SocialMediaIcon","SocialMediaItem","links","RelatedDisneySites","linksColumns","socialInformationItemClass","SocialInformationItem","elements","renderElement","element","text","DisneyReservationCenter","subtitle","Icon","icon","rotate","iconClass","iconUrl","useCheckMediaQuery","mediaQuery","mediaQueryList","matchMedia","matches","setMatch","handler","addListener","removeListener","syndicatedFooterContainerClass","syndicatedFooterSocialMediaContainerClass","Footer","column","labels","relatedDisneySites","showOnMobile","setShowOnMobile","isMobileView","mobileMediaQuery","renderSocialMediaAndInformationItem","componentsToRender","drcCtaTitle","drcCtaSubtitle","showMoreLinks","aria-hidden","accessibiltyTextFooterLinks","subComponents","moduleContent","subIndex","renderSocialMediaAndInformationItems","Container","direction","smartBannerClass","SmartBanner","toggle","setToggle","appBanner","sections","pages","bannerContent","mobileApplications","buttonLabel","prevState","style","backgroundImage","iconsPath","Message","configuration","closeMessageHandler","dismissible","expiration","display","setDisplay","aria-label","closeText","MessageCenter","disneySiteRegExp","messageIdPrefix","localeDetectionRegExp","storageViewedMessages","setStorageViewedMessages","showViewed","setShowViewed","messagesData","setMessagesData","setConfiguration","messagesViewed","setMessagesViewed","setMessages","referrer","alerts","daysToExpire","path","filter","exclude","rule","hasToDisplay","viewed","trim","processMessages","notViewed","removeIdsFromViewed","messageIds","renderMessage","data-nosnippet","messagesIds","messagesViewedIds","result","viewLessText","readMoreText","viewedMessagesPlural","viewedMessagesSingular","classTogglesCookieKey","travelTradeMainClass","travelTradeAgentInformationClass","guestSensitiveClass","removeSymbolsFromText","getClassTogglesCookieValue","parsedValue","travelAgentInfoHidden","TravelTrade","firstText","secondText","Boolean","expand","setExpand","travelAgentData","setTravelAgentData","travelAgentInfoLink","setTravelAgentInfoLink","classTogglesCookieValue","setClassTogglesCookie","ticketDataJarCookie","travelAgentCookieData","agencyName","emailAddress","email","phone","line1","addressLine1","line2","addressLine2","city","postalCode","stateOrProvince","state","partnerId","partnerIdType","rest","address","readTravelAgentDataFromCookie","travelAgentInfoLinkCA","substring","phoneLabel","travelAgentPartnerIdType","hideTravelAgentInfo","showTravelAgentInfo","Card","username","defaultAvatarTitle","MessageCountBadge","counter","action","Button","ariaExpanded","customStyles","disabled","linkContent","secondary","renderButtonContent","aria-expanded","NotificationsModalContent","syndicatedDismissButton","interstitialNotificationsModal","setSwid","setAuthToken","updateNotificationsAction","fetchTrigger","setFetchTrigger","optionParams","setOptionsParams","setRequestUrl","handleNotificationAction","operationType","invitationId","hrefData","post","friendSwid","self","toggleElement","elems","redirectLink","invitationMessage","issuedBy","invitationAccept","invitationDecline","showHideLegalDisclaimer","legalDisclaimer","horizontal","webLink","dismiss","secondaryButton","accountContainer","containerClass","messagesProperty","Profile","userStatusLinks","reservation","card","showIcon","notLoggedIn","renderComponent","redirectOnLogin","isUpdatingMessages","setIsUpdatingMessages","travelAgentSignedIn","travelAgentSignOut","travelAgentSignIn","reservationContent","reservationIcon","profileContent","cardContent","createAccount","orLabel","signedInContent","signOutContent","signInContent","modalContent","handleHideNotifications","handleUpdateNotifications","messageToRemove","updatedMessages","updatedUser","SectionTitle","collapse","accessibiltyText","inlineStyles","fairyName","Fairy","flyoutMainClass","Flyout","right","Primary","themeModifier","nameModifier","addFairyComponent","Secondary","currencyChangeSectionClass","price","buttons","checkOut","viewCartCheckOut","viewDetails","showLink","showButtons","currencyChangeDetail","startOver","emptyCart","interstitialEmptyCart","label","total","currency","symbol","buttonLink","showDisclaimer","setShowDisclaimer","getEmptyCartRedirectUrl","emptyCartUrl","currencyCharged","estimatedCost","disclaimerTitle","disclaimerText","primaryButton","subTitle","noWrap","mainTitleClass","Flight","arrival","departure","RoomItem","partyMix","reservationDates","category","Composite","items","separateItems","separateTitle","arrayIsEmpty","Full","compositeItems","standaloneItems","standaloneItemsTitle","currentDate","toISOString","scheduleClass","scheduleContainerClass","Schedule","linkClass","listItemClass","parkHour","schedule","schedules","renderSchedules","itemProp","itemScope","itemType","opened","startLocaleTime","endLocaleTime","operatingPark","renderSchedule","getCurrentDateInSelectedLocale","timeZone","dateStyle","validateFormat","isISO","calendar","validLocales","Intl","DateTimeFormat","supportedLocalesOf","localeMatcher","validLocale","formatter","date","format","month","day","year","localesDateFormat","localeDateFormat","dateParts","formatToParts","char","getCurrentDateInSelectedLocaleFallback","toLocaleDateString","moreParkHoursClass","MoreParkHours","titleClass","parkHoursTimeZone","defaultParkHoursTimeZone","mainListClass","mainLinkClass","moreParkHoursId","authenticationOptionsId","defaultAffiliationId","LinkGroup","renderDescription","renderLinkGroup","isDescription","isPromo","linkGroupId","hasParkHoursIcon","affiliationsToUse","groupClass","renderDescriptions","Empty","separateFooter","tab","enter","esc","left","up","down","useKeyboardNav","sectionRef","isMenuActive","setIsMenuActive","onFocus","setOnFocus","flyoutElements","setFlyoutElements","querySelectorAll","focusableElements","Array","from","moveMenuDown","moveMenu","moveMenuUp","n","moveToIndex","activeElement","focus","moveSectionLeft","moveSectionRight","previous","previousElementSibling","sectionTitle","firstChild","isLastItem","elementIsDisplayed","blur","next","nextElementSibling","handleKeyDown","keyCode","shiftKey","handleOnFocus","handleOnBlur","cartUserIdentifier","cartIdName","cartEvent","Cart","cartEmpty","cartLabel","initialPrice","otherItems","storageMakeCartRequest","isDCL","showFlyout","countUrl","setCountUrl","detailsUrl","setDetailsUrl","scope","hasItems","setHasItems","setItems","setStandaloneItems","setCompositeItems","setStandaloneItemsTitle","setPrice","unavailableItemsMessage","setUnavailableItemsMessage","setCurrencyChangeDetail","cartCookieJarName","setCartCookieJarName","cartCookieJarValue","setCartCookieJarValue","countResponse","detailsResponse","resetCartCookie","resetCart","cartEventLogic","cartCookieName","cartCookieJarContent","getCartCookies","isLoggedIn","cartId","new","cartIdDcl","idType","isUserCartCookieSet","isValidCartDCL","isValidCartOtherBrands","cart","setRequestUrls","totalNumberOfItems","cookieContent","setUserCartCookie","onKeyDown","onBlur","LanguageSelector","selection","setSelection","handleLanguageClick","cookiesToSet","preferredLanguage","localeCurrency","replaceAll","localeToCurrency","cookieJarName","cookieDecoded","setLanguageCookies","cookiesToSetNew","cookieJar","getLanguageCookies","renderLanguages","languages","localesToDisplay","processLocale","selectedLocale","newLocale","searchedLocale","primary","button","accessibilityText","Section","setCollapsedSection","currentCollapsedSection","sectionsConfiguration","iconsCdn","SearchBar","searchQuery","setSearchQuery","setSearchParams","showSuggestions","setShowSuggestions","searchService","handleSubmit","fullWordsEllipsis","fitText","lastIndexOf","loadResultsTimeout","validSearchQuery","pageName","part","baseParams","clearTimeout","handleClickOutside","confirmSearch","searchDisney","onKeyPress","onChange","placeholder","maxLength","autoComplete","clearSearch","searchResults","iconSource","webFontCode","desc","checkElement","selector","elem","onElementReady","Promise","resolve","requestAnimationFrame","Matterhorn","checkGocConfig","scriptLang","matterhorn","scripts","gocConfig","createScriptConfig","innerElem","remove","add","catch","ShowDisney","showModal","showVisitDisneyModal","renderContent","visitDisney","hideDisney","syndicatedNavigationClass","syndicatedNavigationNavClass","syndicatedNavigationChromeClass","syndicatedCdn","scrollTopAndLeft","top","scrollTo","behavior","Navigation","headerRef","showLogo","showChrome","showNavigation","navRef","sectionNavRef","menuToggle","setMenuToggle","searchBarToggle","setSearchBarToggle","collapsedSection","openMatterhorn","setOpenMatterhorn","brandLogoSrc","brandLogo","brandLogoClasses","showSearchBar","hideSearchBarForUserTypes","handleOutsideClick","handleCloseMenu","handleMenuToggle","headerHeight","scrollHeight","matterhornHeight","skipNavigation","accessibiltyTextShowNavigation","accessibiltyTextNavigationLinks","accessibiltyTextShowSearch","SecondaryMessage","dismissedCookieName","bannerMessage","setBannerMessage","dismissed","setDismissed","isTravelAgent","setIsTravelAgent","higherAffiliationsReducer","higherAffiliationLevelIndex","level","affiliationType","secondaryMessageIndex","dismissedCookie","travelAgentCookie","higherAffiliation","reduce","undefined","banner","closeAriaLabel","generateBanner","Header","headerUrl","setHeaderUrl","headerBaseUrl","bodyOnModalOpen","escapeKey","tabKey","syndicatedModalClass","syndicatedModalContainerClass","syndicatedModalTitleClass","syndicatedModalContentClass","syndicatedModalFooterClass","Modal","focusableModalElements","setFocusableModalElements","firstElement","setFirstElement","lastElement","setLastElement","modalRef","handleClose","handleTabKey","aria-modal","headerComponent","messageCenterComponent","legalComponent","footerComponent","App","targetContainer","component","targetId","elementToRender","ReactDOM","createPortal","this","logger","maxStringLength","_log","_error","_warn","warn","_debug","debug","args","parseMessage","send","logMessage","truncateMessageObject","depth","prop","truncateMessageString","str","substr","root","render","StrictMode","productionEnvironment","latestEnvironment","developmentEnvironment","localEnvironment","hostnamesAllowed","developmentSubdomains","object","array","mainSubdomain","offsetHeight","offsetWidth","process","NODE_ENV","isIconsUrl","baseUrl","cdn","assets","syndicated","env"],"mappings":"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","file":"static/js/main.f18d9540.chunk.js","sourcesContent":["import { getCdn } from \"utils\";\nimport { allowedThemes } from \"config\";\n\nlet bodyMutationObserver;\n\nexport const loadExternalThemeStyles = (theme) => {\n\tif (theme && allowedThemes.includes(theme)) {\n\t\tconst fileName = `${getCdn()}/themes/${theme}.css`;\n\t\tif (!document.querySelector('link[href=\"' + fileName + '\"]')) {\n\t\t\tconst link = document.createElement(\"link\");\n\n\t\t\tlink.type = \"text/css\";\n\t\t\tlink.rel = \"stylesheet\";\n\t\t\tlink.href = fileName;\n\t\t\tdocument.head.appendChild(link);\n\t\t}\n\t\tif (bodyMutationObserver) {\n\t\t\tbodyMutationObserver.disconnect();\n\t\t}\n\t}\n};\n\nconst findThemeInClassesList = (classes = document.body.classList) => {\n\tfor (let index = 0; index < allowedThemes.length; index++) {\n\t\tif (classes.contains(allowedThemes[index])) {\n\t\t\tloadExternalThemeStyles(allowedThemes[index]);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nexport const extractThemeFromBodyClasses = () => {\n\tconst theme = findThemeInClassesList();\n\tif (!theme && !bodyMutationObserver) {\n\t\tbodyMutationObserver = new MutationObserver(() => {\n\t\t\tfindThemeInClassesList();\n\t\t});\n\t\tbodyMutationObserver.observe(document.body, { attributeFilter: [\"class\"] });\n\t}\n};\n","import config from \"config.json\";\nimport { getCookie } from \"utils/cookie\";\nimport {\n\tloadExternalThemeStyles,\n\textractThemeFromBodyClasses,\n} from \"utils/theme\";\nimport {\n\tgetDefaultLocale,\n\tlocaleRegExp,\n\tgetDefaultLocaleCookie,\n\tgetDefaultLocaleCookieProperty,\n\tgetGDPRLocale,\n} from \"utils/language\";\n\nlet currentScript, urlParams, url;\nconst brands = {\n\tdisneyland: \"dlr\",\n\tdisneyworld: \"wdw\",\n\tdisneycruise: \"dcl\",\n\tdisneybeachresorts: \"beachresorts\",\n\tdisneyaulani: \"dpr\",\n\thiltonhead: \"hh\",\n\thongkongdisneyland: \"hkdl\",\n\tverobeach: \"vb\",\n};\nconst storeParam = \"store\";\nconst storesStartPath = \"reservations\";\nconst routesWithStoresConfiguration = [\n\t\"/header\",\n\t\"/footer\",\n\t\"/legal\",\n\t\"/message-center\",\n];\nconst messageCenterId = \"message-center\";\nconst messageCenterParam = \"messageCenter\";\nconst themeParamId = \"theme\";\n\nif (process.env.NODE_ENV === \"production\") {\n\tcurrentScript = document.currentScript;\n}\n\nconst loadTheme = () => {\n\tconst theme = getParam(themeParamId);\n\tif (theme) {\n\t\tloadExternalThemeStyles(theme);\n\t} else {\n\t\textractThemeFromBodyClasses();\n\t}\n};\n\nconst loadAppConfiguration = () => {\n\turl = new URL(currentScript ? currentScript.src : window.location.href);\n\tconst isMessageCenter = document.getElementById(messageCenterParam);\n\tif (isMessageCenter) {\n\t\turl.searchParams.append(messageCenterId, true);\n\t\turl.searchParams.append(messageCenterParam, false);\n\t\turl.searchParams.append(`${messageCenterId}Container`, messageCenterParam);\n\t}\n\turlParams = url.searchParams;\n\tloadTheme();\n};\n\nconst getParam = (paramName) => {\n\treturn urlParams.get(paramName)?.toLowerCase() || \"\";\n};\n\nconst addParam = (name, value) => {\n\turlParams.append(name, value);\n};\n\nconst validateParam = (paramName, defaultValue = false) => {\n\tconst param = getParam(paramName);\n\treturn param ? param === \"true\" || param === \"1\" : defaultValue;\n};\n\nconst validateParamValue = (paramName, valuesArray, defaultIndex = 0) => {\n\tconst param = getParam(paramName);\n\treturn param && valuesArray.includes(param)\n\t\t? param\n\t\t: valuesArray[defaultIndex];\n};\n\nconst loadBrandParam = () => {\n\tconst splittedHostname = window.location.hostname.split(\".\");\n\tfor (const brand in brands) {\n\t\tif (splittedHostname.includes(brand)) {\n\t\t\treturn brands[brand];\n\t\t}\n\t}\n\treturn validateParamValue(\"brand\", Object.values(brands));\n};\n\nconst loadLocaleParam = () => {\n\tconst brand = loadBrandParam();\n\tlet locale = getParam(\"locale\") || getDefaultLocale(brand);\n\tlet parsedLocale;\n\tlet cookie = null;\n\n\tif (!config.brands[brand].preventReadingLocaleFromCookie) {\n\t\tconst localeCookieName = getDefaultLocaleCookie(brand);\n\t\tcookie =\n\t\t\tgetCookie(`${localeCookieName}_aka`) || getCookie(localeCookieName);\n\t}\n\n\tif (cookie) {\n\t\ttry {\n\t\t\tconst cookieJarObj = JSON.parse(decodeURIComponent(cookie));\n\t\t\tconst cookieProperty = getDefaultLocaleCookieProperty(brand);\n\t\t\tparsedLocale = cookieJarObj[cookieProperty];\n\t\t\tif (parsedLocale) {\n\t\t\t\tlocale = parsedLocale;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.info(`unable to parse the localeCookie_jar`);\n\t\t}\n\t} else {\n\t\tparsedLocale = window.location.pathname\n\t\t\t.match(localeRegExp)?.[0]\n\t\t\t.replace(/\\//g, \"\");\n\t\tif (parsedLocale) {\n\t\t\tlocale = parsedLocale;\n\t\t} else {\n\t\t\tparsedLocale = getGDPRLocale(brand);\n\t\t\tif (parsedLocale) {\n\t\t\t\tlocale = parsedLocale;\n\t\t\t}\n\t\t}\n\t}\n\tconst [language, region] = locale.toLowerCase().replace(\"_\", \"-\").split(\"-\");\n\treturn `${language}${region ? \"-\" + region : \"\"}`;\n};\n\nconst validateParams = (params = []) => {\n\tlet valid = false;\n\tfor (let index = 0; index < params.length && !valid; index++) {\n\t\tvalid = validateParam(params[index]);\n\t}\n\treturn valid;\n};\n\nconst validateAndAddStoreParam = (url) => {\n\tif (routesWithStoresConfiguration.some((key) => url.href.includes(key))) {\n\t\tconst store = getParam(storeParam);\n\t\tif (store) {\n\t\t\turl.searchParams.append(storeParam, store);\n\t\t} else {\n\t\t\tconst pathname = window.location.pathname;\n\t\t\tconst pathnameParts = pathname.split(\"/\");\n\t\t\tconst storesStartIndex = pathnameParts.findIndex(\n\t\t\t\t(subpath) => subpath === storesStartPath\n\t\t\t);\n\t\t\tif (storesStartIndex !== -1 && pathnameParts[storesStartIndex + 1]) {\n\t\t\t\turl.searchParams.append(\n\t\t\t\t\tstoreParam,\n\t\t\t\t\tpathnameParts[storesStartIndex + 1]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst loadAffiliations = () => {\n\tconst affiliationParam = getParam(\"affiliation\").toUpperCase();\n\treturn affiliationParam ? affiliationParam.split(\"-\") : [];\n};\n\nloadAppConfiguration();\n\nexport {\n\taddParam,\n\tcurrentScript,\n\tgetParam,\n\tloadBrandParam,\n\tloadLocaleParam,\n\tloadAffiliations,\n\turlParams,\n\tvalidateParam,\n\tvalidateParams,\n\tvalidateParamValue,\n\tvalidateAndAddStoreParam,\n\tloadAppConfiguration,\n};\n","export const getCookie = (key) => {\n\tif (!key) return;\n\ttry {\n\t\tconst cookie = document.cookie\n\t\t\t.split(\"; \")\n\t\t\t.find((row) => row.split(\"=\")[0] === key);\n\t\treturn cookie ? cookie.split(\"=\")[1] : \"\";\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n};\n\nexport const setCookie = (key, value, numberOfDays) => {\n\tif (!key) return;\n\ttry {\n\t\tconst expires = new Date();\n\t\texpires.setDate(expires.getDate() + numberOfDays);\n\t\tdocument.cookie = `${key}=${value}; expires=${expires.toUTCString()}; path=/`;\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n};\n\nexport const removeCookie = (key) => {\n\tif (!key) return;\n\ttry {\n\t\tdocument.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:00 GMT`;\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n};\n","import config from \"config.json\";\nimport { objectIsEmpty } from \"./index\";\nimport { getCookie, setCookie } from \"./cookie\";\n\nexport const localeRegExp = /\\/([a-z]{2}((_|-)[A-z]{2})?)(\\/|$)/;\n\nexport const getDefaultLocale = (brand) => {\n\treturn (config?.brands?.[brand]?.defaultLocale || config.defaultLocale)\n\t\t.toLowerCase()\n\t\t.replace(\"_\", \"-\");\n};\n\nexport const getDefaultLocaleCookie = (brand) => {\n\treturn (\n\t\tconfig?.brands?.[brand]?.defaultLocaleCookie || config.defaultLocaleCookie\n\t);\n};\n\nexport const getDefaultLocaleCookieProperty = (brand) => {\n\treturn (\n\t\tconfig?.brands?.[brand]?.defaultLocaleCookieProperty ||\n\t\tconfig.defaultLocaleCookieProperty\n\t);\n};\n\nexport const processLanguageSelectorUrl = (url) => {\n\tif (url.match(/^http/)) return url;\n\tconst currentLocale = window.location.pathname.match(localeRegExp)?.[0] || \"\";\n\tconst targetUrl = window.location.href.replace(window.location.origin, \"\");\n\n\tif (currentLocale) {\n\t\treturn targetUrl.replace(currentLocale, url);\n\t} else {\n\t\treturn url.concat(targetUrl.replace(\"/\", \"\"));\n\t}\n};\n\nexport const setLanguageCookies = (cookies) => {\n\tconst cookieExpirationInDays = 2;\n\tfor (const cookieJarName in cookies) {\n\t\tconst cookie = getCookie(cookieJarName);\n\t\ttry {\n\t\t\tif (cookie) {\n\t\t\t\tconst cookieDecoded = JSON.parse(decodeURIComponent(cookie));\n\t\t\t\tif (cookieDecoded) {\n\t\t\t\t\tsetCookie(\n\t\t\t\t\t\tcookieJarName,\n\t\t\t\t\t\tencodeURIComponent(\n\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t...cookieDecoded,\n\t\t\t\t\t\t\t\t...cookies[cookieJarName],\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcookieExpirationInDays\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t}\n};\n\nexport const getLanguageCookies = (\n\tcookiesToSet,\n\tlocale,\n\tlocaleCurrency,\n\tpreferredLanguage\n) => {\n\tconst cookiesToSetNew = {};\n\tif (!objectIsEmpty(cookiesToSet)) {\n\t\tfor (const cookieJar in cookiesToSet) {\n\t\t\tcookiesToSetNew[cookieJar] = {};\n\t\t\tfor (const cookie in cookiesToSet[cookieJar]) {\n\t\t\t\tswitch (cookie) {\n\t\t\t\t\tcase \"preferredRegion\":\n\t\t\t\t\t\tcookiesToSetNew[cookieJar][cookie] = locale;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"localeCurrency\":\n\t\t\t\t\t\tcookiesToSetNew[cookieJar][cookie] = localeCurrency;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"preferredLanguage\":\n\t\t\t\t\t\tcookiesToSetNew[cookieJar][cookie] = preferredLanguage;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"language\":\n\t\t\t\t\t\tcookiesToSetNew[cookieJar][cookie] = preferredLanguage;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcookiesToSetNew[cookieJar][cookie] =\n\t\t\t\t\t\t\tcookiesToSet[cookieJar][cookie];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn cookiesToSetNew;\n};\n\nexport const getGDPRLocale = (brand) => {\n\tconst gdprHostnames = config?.brands?.[brand]?.gdprHostnames;\n\tif (!gdprHostnames) return null;\n\tlet locale;\n\n\tfor (const hostname in gdprHostnames) {\n\t\tif (\n\t\t\twindow.location.hostname.includes(hostname) &&\n\t\t\tgdprHostnames[hostname]\n\t\t) {\n\t\t\tlocale = gdprHostnames[hostname];\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn locale;\n};\n","import { cache } from \"config.json\";\n\nconst openCacheStorage = async () => {\n\ttry {\n\t\treturn await caches?.open(cache.name);\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n\treturn null;\n};\n\nexport const validateCache = async (cacheStorage, key) => {\n\tif (cacheStorage && key) {\n\t\ttry {\n\t\t\tconst cacheResult = (await cacheStorage?.match(key)) || null;\n\t\t\tif (cacheResult) {\n\t\t\t\tconst expirationDate = Date.parse(\n\t\t\t\t\tcacheResult.headers.get(cache.expirationHeader)\n\t\t\t\t);\n\t\t\t\tif (expirationDate < new Date()) {\n\t\t\t\t\tawait cacheStorage.delete(key);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cacheResult;\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t}\n\treturn null;\n};\n\nexport const getCache = async (key) => {\n\tif (key) {\n\t\tconst cacheStorage = await openCacheStorage();\n\t\tif (cacheStorage) {\n\t\t\treturn await validateCache(cacheStorage, key);\n\t\t}\n\t}\n\treturn null;\n};\n\nexport const setCache = async (key, response, cacheValidMinutes = 5) => {\n\tif (key && response) {\n\t\ttry {\n\t\t\tconst cacheStorage = await openCacheStorage();\n\t\t\tif (cacheStorage) {\n\t\t\t\tconst expires = new Date();\n\t\t\t\tconst seconds = 60;\n\t\t\t\texpires.setSeconds(expires.getSeconds() + cacheValidMinutes * seconds);\n\t\t\t\tconst cachedResponseFields = {\n\t\t\t\t\tstatus: response.status,\n\t\t\t\t\tstatusText: response.statusText,\n\t\t\t\t\theaders: { [cache.expirationHeader]: expires.toUTCString() },\n\t\t\t\t};\n\t\t\t\tresponse.headers.forEach((v, k) => {\n\t\t\t\t\tcachedResponseFields.headers[k] = v;\n\t\t\t\t});\n\t\t\t\tawait cacheStorage.put(\n\t\t\t\t\tkey,\n\t\t\t\t\tnew Response(response.body, cachedResponseFields)\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t}\n};\n\nexport const cleanExpiredCache = async () => {\n\ttry {\n\t\tconst cacheStorage = await openCacheStorage();\n\t\tcacheStorage?.keys().then((keyList) => {\n\t\t\tfor (let index = 0; index < keyList.length; index++) {\n\t\t\t\tvalidateCache(cacheStorage, keyList[index].url);\n\t\t\t}\n\t\t});\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n};\n","import { useState, useEffect } from \"react\";\nimport { defaultBaseApiUrl, brands } from \"config.json\";\nimport { getEnvironment } from \"utils\";\nimport {\n\tloadBrandParam,\n\tloadLocaleParam,\n\tvalidateAndAddStoreParam,\n} from \"utils/paramsValidation\";\nimport { getCache, setCache } from \"utils/cache\";\n\nconst userTypeKey = \"userType\";\nconst brand = loadBrandParam();\nconst appEnv = getEnvironment();\n\nconst apiUrl = (() => {\n\tlet serviceEnv = \"\";\n\tswitch (appEnv) {\n\t\tcase \"development\":\n\t\tcase \"latest\":\n\t\t\tserviceEnv = \"latest.\";\n\t\t\tbreak;\n\t\tcase \"stage\":\n\t\t\tserviceEnv = \"stage.\";\n\t\t\tbreak;\n\t\tcase \"lt01\":\n\t\t\tserviceEnv = brands[brand].useLt01ApiPrefix ? \"lt01.\" : \"load.\";\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tserviceEnv = \"\";\n\t}\n\treturn (brands[brand]?.baseApiUrl || defaultBaseApiUrl).replace(\n\t\t\"{env}\",\n\t\tserviceEnv\n\t);\n})();\n\nconst urlInterceptor = (url, locale) => {\n\tif (url?.indexOf(\"/navigation/\") === 0) {\n\t\turl = new URL(`${apiUrl}${url.replace(\"/navigation\", \"\")}`);\n\t\turl.searchParams.append(\"brand\", brand);\n\t\turl.searchParams.append(\"locale\", locale);\n\t\tvalidateAndAddStoreParam(url);\n\t\tif (\n\t\t\turl.pathname.indexOf(\"/content/\") &&\n\t\t\t!url.searchParams.has(userTypeKey)\n\t\t) {\n\t\t\turl.searchParams.append(\n\t\t\t\tuserTypeKey,\n\t\t\t\turl.searchParams.has(\"store\") ? \"TRAVEL_AGENT\" : \"GUEST\"\n\t\t\t);\n\t\t}\n\t\turl = url.href;\n\t}\n\treturn url;\n};\n\nconst useFetch = (url, options, cacheValidMinutes = 0, trigger) => {\n\tconst locale = loadLocaleParam();\n\tconst [response, setResponse] = useState(null);\n\tconst [error, setError] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tuseEffect(() => {\n\t\tconst abortController = new AbortController();\n\t\tconst signal = abortController.signal;\n\t\tconst doFetch = async () => {\n\t\t\tsetError(null);\n\t\t\tsetLoading(true);\n\t\t\ttry {\n\t\t\t\tlet res;\n\t\t\t\tconst requestUrl = urlInterceptor(url, locale);\n\t\t\t\tif (cacheValidMinutes) {\n\t\t\t\t\tres = await getCache(requestUrl);\n\t\t\t\t}\n\t\t\t\tif (!res) {\n\t\t\t\t\tres = await fetch(requestUrl, { ...options, ...{ signal } });\n\t\t\t\t\tif (!res.ok) {\n\t\t\t\t\t\tconst responseError = {\n\t\t\t\t\t\t\tbody: await res.json(),\n\t\t\t\t\t\t\tmessage: res.message || \"Request error\",\n\t\t\t\t\t\t\tstatus: res.status,\n\t\t\t\t\t\t\tstatusText: res.statusText,\n\t\t\t\t\t\t\ttype: res.type,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthrow responseError;\n\t\t\t\t\t}\n\t\t\t\t\tif (cacheValidMinutes) {\n\t\t\t\t\t\tawait setCache(requestUrl, res.clone(), cacheValidMinutes);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst json = await res.json();\n\t\t\t\tif (!signal.aborted) {\n\t\t\t\t\tsetResponse(json);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tif (!signal.aborted) {\n\t\t\t\t\tsetResponse(null);\n\t\t\t\t\tsetError(e);\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (!signal.aborted) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif (url) {\n\t\t\tdoFetch();\n\t\t}\n\t\treturn () => {\n\t\t\tabortController?.abort();\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [trigger]);\n\treturn { response, error, loading };\n};\nexport default useFetch;\n","import { useEffect, useState } from \"react\";\n\nconst dataStatus = \"data-status\";\n\nconst useScript = (src, position) => {\n\tconst [status, setStatus] = useState(src ? \"loading\" : \"idle\");\n\n\tuseEffect(() => {\n\t\tif (!src) {\n\t\t\tsetStatus(\"idle\");\n\t\t\treturn;\n\t\t}\n\n\t\tlet script = document.querySelector(`script[src=\"${src}\"]`);\n\n\t\tif (!script) {\n\t\t\tscript = document.createElement(\"script\");\n\t\t\tscript.src = src;\n\t\t\tscript.async = true;\n\t\t\tscript.setAttribute(dataStatus, \"loading\");\n\n\t\t\tif (position) {\n\t\t\t\tdocument[position].appendChild(script);\n\t\t\t}\n\n\t\t\tconst setAttributeFromEvent = (event) => {\n\t\t\t\tscript.setAttribute(\n\t\t\t\t\tdataStatus,\n\t\t\t\t\tevent.type === \"load\" ? \"ready\" : \"error\"\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tscript.addEventListener(\"load\", setAttributeFromEvent);\n\t\t\tscript.addEventListener(\"error\", setAttributeFromEvent);\n\t\t} else {\n\t\t\tsetStatus(script.getAttribute(dataStatus));\n\t\t}\n\n\t\tconst setStateFromEvent = (event) => {\n\t\t\tsetStatus(event.type === \"load\" ? \"ready\" : \"error\");\n\t\t};\n\n\t\tscript.addEventListener(\"load\", setStateFromEvent);\n\t\tscript.addEventListener(\"error\", setStateFromEvent);\n\n\t\t// Remove event listeners on cleanup\n\t\treturn () => {\n\t\t\tif (script) {\n\t\t\t\tscript.removeEventListener(\"load\", setStateFromEvent);\n\t\t\t\tscript.removeEventListener(\"error\", setStateFromEvent);\n\t\t\t}\n\t\t};\n\t}, [src, position]);\n\n\treturn status;\n};\n\nexport default useScript;\n","import { useState } from \"react\";\n\nconst useSessionStorage = (key, initialValue) => {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = window.sessionStorage.getItem(key);\n\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = (value) => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\twindow.sessionStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n};\n\nexport default useSessionStorage;\n","import { useState } from \"react\";\n\nconst useLocalStorage = (key, initialValue) => {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = window.localStorage.getItem(key);\n\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = (value) => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\twindow.localStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n};\n\nexport default useLocalStorage;\n","import { useState, useEffect, useRef } from \"react\";\nimport useFetch from \"hooks/useFetch\";\nimport {\n\tgetEnvironment,\n\tisCdnPage,\n\tmapString,\n\tgetCdn,\n\tgetLoginUrl,\n\tobjectIsEmpty,\n\tisDevelopmentEnvironment,\n} from \"utils\";\nimport { getCookie, removeCookie } from \"utils/cookie\";\nimport useScript from \"hooks/useScript\";\nimport useSessionStorage from \"hooks/useSessionStorage\";\nimport useLocalStorage from \"hooks/useLocalStorage\";\nimport config from \"config.json\";\n\nconst swidCookieName = \"SWID\";\nconst authTokenCookieName = \"pep_oauth_token\";\nconst authenticationEvent = \"navigationAuth\";\nconst navigationPublishEvent = \"navigation\";\nconst syndicatedMakeCartRequest = \"syndicatedMakeUserCartRequest\";\nconst syndicatedDismissButton = \"syndicatedDismissButton\";\nconst targetOneId = \"ngeGate\";\nconst userDataCookieName = \"rememberme\";\nconst defaultUserType = \"GUEST\";\nconst oneIdPrefix = \"oneId-\";\n\nconst decodeCookieValue = (currentCookieValue) => {\n\tif (currentCookieValue) {\n\t\ttry {\n\t\t\tconst decodedCookieValue = JSON.parse(\n\t\t\t\tdecodeURIComponent(currentCookieValue)\n\t\t\t);\n\t\t\tif (decodedCookieValue) {\n\t\t\t\treturn decodedCookieValue;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t}\n\treturn null;\n};\n\nconst getCookieValue = (cookieNames = [], baseCookieValue) => {\n\tlet cookieValue = null;\n\tif (baseCookieValue) {\n\t\tcookieValue = decodeCookieValue(baseCookieValue);\n\t}\n\tif (!cookieValue) {\n\t\tfor (let index = 0; index < cookieNames.length; index++) {\n\t\t\tconst cookieName = cookieNames[index];\n\t\t\tconst currentCookieValue = decodeCookieValue(getCookie(cookieName));\n\t\t\tif (currentCookieValue) {\n\t\t\t\treturn currentCookieValue;\n\t\t\t}\n\t\t}\n\t}\n\treturn cookieValue;\n};\n\nconst loadGuestAffiliations = (\n\tbrand,\n\taffiliations = [],\n\taffiliationsCookie = null,\n\tgeolocationCookie = null\n) => {\n\tlet affiliationsToAdd = [];\n\ttry {\n\t\tconst affiliationsFromCookie = getCookieValue(\n\t\t\tconfig.cookies.affiliations,\n\t\t\taffiliationsCookie\n\t\t);\n\t\tif (affiliationsFromCookie) {\n\t\t\taffiliationsToAdd = affiliationsFromCookie?.[brand]?.multiAffls?.length\n\t\t\t\t? affiliationsFromCookie?.[brand]?.multiAffls\n\t\t\t\t: affiliationsFromCookie?.[brand]?.storedAffiliations || [];\n\t\t\taffiliations = affiliations.concat(affiliationsToAdd);\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n\n\ttry {\n\t\tif (\n\t\t\tconfig.brands[brand].preventReadingGeoCookieWhenLoadedAffiliations &&\n\t\t\taffiliationsToAdd?.length\n\t\t) {\n\t\t\treturn affiliations;\n\t\t}\n\t\tconst affiliationsFromGeolocation = getCookieValue(\n\t\t\tconfig.cookies.geolocation,\n\t\t\tgeolocationCookie\n\t\t);\n\t\tif (affiliationsFromGeolocation) {\n\t\t\tconst {\n\t\t\t\tregion = \"\",\n\t\t\t\tcountry = \"\",\n\t\t\t\tzipCode = \"\",\n\t\t\t} = affiliationsFromGeolocation;\n\t\t\tif (country) {\n\t\t\t\tconst countryToUse = country\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(/[+ ]/g, \"_\")\n\t\t\t\t\t.replace(/-/g, \"\");\n\t\t\t\tif (config.affiliations.country[countryToUse]) {\n\t\t\t\t\taffiliations.push(config.affiliations.country[countryToUse]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (config.affiliations.region[region]) {\n\t\t\t\taffiliations.push(config.affiliations.region[region]);\n\t\t\t}\n\t\t\tif (zipCode) {\n\t\t\t\tconst zipCodes = zipCode.replace(/-/g, \"+\").split(\"+\");\n\t\t\t\tlet zipCodeAffiliation = null;\n\t\t\t\tfor (\n\t\t\t\t\tlet index = 0;\n\t\t\t\t\tindex < Object.keys(config.affiliations.zipCode).length &&\n\t\t\t\t\t!zipCodeAffiliation;\n\t\t\t\t\tindex++\n\t\t\t\t) {\n\t\t\t\t\tconst range = Object.keys(config.affiliations.zipCode)[index].split(\n\t\t\t\t\t\t\"_\"\n\t\t\t\t\t);\n\t\t\t\t\tfor (\n\t\t\t\t\t\tlet zipCodeIndex = 0;\n\t\t\t\t\t\tzipCodeIndex < zipCodes.length && !zipCodeAffiliation;\n\t\t\t\t\t\tzipCodeIndex++\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tzipCodes[zipCodeIndex] >= range[0] &&\n\t\t\t\t\t\t\tzipCodes[zipCodeIndex] <= range[1]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tzipCodeAffiliation =\n\t\t\t\t\t\t\t\tconfig.affiliations.zipCode[\n\t\t\t\t\t\t\t\t\tObject.keys(config.affiliations.zipCode)[index]\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (zipCodeAffiliation) {\n\t\t\t\t\taffiliations.push(zipCodeAffiliation);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n\treturn affiliations;\n};\n\nconst publishNavigationEvent = (eventName) => {\n\tdocument.dispatchEvent(\n\t\tnew CustomEvent(navigationPublishEvent, {\n\t\t\tdetail: {\n\t\t\t\tevent: eventName,\n\t\t\t},\n\t\t})\n\t);\n};\n\nconst useProfile = (\n\tbrand,\n\tlocale,\n\tprofile,\n\tstore,\n\taffiliationsParam,\n\tchromeData\n) => {\n\tconst getOneIdConfig = () => {\n\t\tconst oneIdConfig = {\n\t\t\t...config.profile.oneId,\n\t\t\t...brandConfig?.oneId,\n\t\t\t...config.environmentConfiguration?.default?.oneId,\n\t\t\t...config.environmentConfiguration?.[appEnv]?.oneId,\n\t\t};\n\t\tconst oneIdEnv = oneIdConfig?.oneIdEnv;\n\t\tconst usingOneIdLibrary = oneIdConfig?.usingOneIdLibrary\n\t\t\t? oneIdConfig.usingOneIdLibrary.includes(brand)\n\t\t\t: false;\n\t\tconst usingOneIdProfileLibrary = oneIdConfig?.usingOneIdProfileLibrary\n\t\t\t? oneIdConfig.usingOneIdProfileLibrary.includes(brand)\n\t\t\t: false;\n\t\tconst isOneIdSource = usingOneIdLibrary || usingOneIdProfileLibrary;\n\t\tconst oneIdClientId = isOneIdSource\n\t\t\t? mapString(oneIdConfig?.clientId, oneIdEnv)\n\t\t\t: \"\";\n\t\tconst oneIdResponderPage = isOneIdSource\n\t\t\t? mapString(\n\t\t\t\t\tisCdnPage()\n\t\t\t\t\t\t? `${window.location.pathname.replace(\"/index.html\", \"\")}${\n\t\t\t\t\t\t\t\tconfig.environmentConfiguration.development?.oneId\n\t\t\t\t\t\t\t\t\t?.responderPage\n\t\t\t\t\t\t  }`\n\t\t\t\t\t\t: oneIdConfig?.responderPage,\n\t\t\t\t\toneIdEnv,\n\t\t\t\t\toneIdClientId\n\t\t\t  )\n\t\t\t: \"\";\n\t\tconst oneIdLibraryUrl = isOneIdSource\n\t\t\t? mapString(oneIdConfig?.oneIdLibrary, oneIdConfig?.oneIdLibraryUrlPrefix)\n\t\t\t: \"\";\n\t\tconst oneIdProfileLibraryUrl = usingOneIdProfileLibrary\n\t\t\t? mapString(\n\t\t\t\t\toneIdConfig?.oneIdProfileLibrary,\n\t\t\t\t\toneIdConfig?.oneIdProfileLibraryUrlPrefix\n\t\t\t  )\n\t\t\t: \"\";\n\t\tconst disneyIDUrl = isOneIdSource\n\t\t\t? usingOneIdProfileLibrary\n\t\t\t\t? oneIdProfileLibraryUrl\n\t\t\t\t: oneIdLibraryUrl\n\t\t\t: \"\";\n\t\treturn {\n\t\t\t...oneIdConfig,\n\t\t\tusingOneIdProfileLibrary,\n\t\t\tisOneIdSource,\n\t\t\toneIdClientId,\n\t\t\toneIdResponderPage,\n\t\t\toneIdLibraryUrl,\n\t\t\tdisneyIDUrl,\n\t\t};\n\t};\n\n\tconst readDataFromCookie = () => {\n\t\tsetTravelAgent({\n\t\t\treadDataFromCookie: true,\n\t\t});\n\t};\n\n\tconst resetOnActionRedirection = () => {\n\t\tif (disneyIdRef.current?.onLoginRedirectTo) {\n\t\t\tdisneyIdRef.current.onLoginRedirectTo = null;\n\t\t}\n\t\tif (disneyIdRef.current?.onLogoutRedirectTo) {\n\t\t\tdisneyIdRef.current.onLogoutRedirectTo = null;\n\t\t}\n\t};\n\n\tconst appEnv = isCdnPage() ? \"development\" : getEnvironment();\n\tconst brandConfig = config.brands?.[brand];\n\tconst oneIdConfig = getOneIdConfig();\n\tconst isOneIdSource = oneIdConfig?.isOneIdSource || false;\n\n\tconst [user, setUser] = useState(null);\n\tconst [profileUrl, setProfileUrl] = useState(\"\");\n\tconst [openedOneIdModal, setOpenedOneIdModal] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(profile && isOneIdSource);\n\tconst [affiliations, setAffiliations] = useState([]);\n\tconst [userType, setUserType] = useState(\n\t\tbrandConfig?.isUserTypeRequiredForContentRequest &&\n\t\t\twindow.location.pathname.split(\"/\").includes(\"trade-public\")\n\t\t\t? \"TRAVEL_AGENT_NOT_SIGNED_IN\"\n\t\t\t: null\n\t);\n\tconst [loggedInStatusChanged, setLoggedInStatusChanged] = useState(false);\n\tconst [travelAgent, setTravelAgent] = useState(null);\n\tconst [, setStorageMakeCartRequest] = useSessionStorage(\n\t\tsyndicatedMakeCartRequest,\n\t\ttrue\n\t);\n\tconst [, setSyndicatedDismissButton] = useLocalStorage(\n\t\tsyndicatedDismissButton,\n\t\tfalse\n\t);\n\n\tconst disneyIdRef = useRef();\n\tconst status = useScript(\n\t\tprofile && isOneIdSource ? oneIdConfig?.disneyIDUrl : null,\n\t\t\"head\"\n\t);\n\n\tconst { response, error } = useFetch(\n\t\tprofileUrl,\n\t\t{\n\t\t\theaders: { swid: user?.swid || \"\", token: user?.authToken || \"\" },\n\t\t},\n\t\t0,\n\t\tprofileUrl\n\t);\n\n\tuseEffect(() => {\n\t\tsetAffiliations(loadGuestAffiliations(brand, affiliationsParam));\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [affiliationsParam]);\n\n\tuseEffect(() => {\n\t\tif (profile && isOneIdSource && status === \"ready\") {\n\t\t\tinitOneId();\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [status]);\n\n\tuseEffect(() => {\n\t\tif (!profile || isOneIdSource) return;\n\t\ttry {\n\t\t\tconst authTokenCookie = getCookie(authTokenCookieName);\n\t\t\tconst swidCookie = getCookie(swidCookieName);\n\t\t\tlet userDataCookie = getCookie(userDataCookieName);\n\n\t\t\tif (userDataCookie) {\n\t\t\t\tuserDataCookie = JSON.parse(decodeURIComponent(userDataCookie));\n\t\t\t}\n\n\t\t\tswidCookie &&\n\t\t\t\tuserDataCookie &&\n\t\t\t\tsetUser({\n\t\t\t\t\t...user,\n\t\t\t\t\tswid: swidCookie,\n\t\t\t\t\tauthToken: authTokenCookie,\n\t\t\t\t\tfirstName: userDataCookie?.name || \"\",\n\t\t\t\t\tavatar: {\n\t\t\t\t\t\t...user?.avatar,\n\t\t\t\t\t\tid: userDataCookie?.avatar || \"\",\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [profile, loggedInStatusChanged]);\n\n\tuseEffect(() => {\n\t\tif (response) {\n\t\t\t!userType && setUserType(defaultUserType);\n\n\t\t\tif (\n\t\t\t\tresponse[config.cookies.affiliations[0]] ||\n\t\t\t\tresponse[config.cookies.geolocation[0]]\n\t\t\t) {\n\t\t\t\tsetAffiliations(\n\t\t\t\t\tloadGuestAffiliations(\n\t\t\t\t\t\tbrand,\n\t\t\t\t\t\taffiliationsParam,\n\t\t\t\t\t\tresponse[config.cookies.affiliations[0]],\n\t\t\t\t\t\tresponse[config.cookies.geolocation[0]]\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!objectIsEmpty(response.user)) {\n\t\t\t\tresponse.user?.affiliations?.length &&\n\t\t\t\t\tsetAffiliations(response.user.affiliations);\n\t\t\t\tsetUser({\n\t\t\t\t\t...user,\n\t\t\t\t\tfirstName: response.user?.firstName || user?.firstName,\n\t\t\t\t\tlastName: response.user?.lastName,\n\t\t\t\t\tavatar: response.user?.avatar,\n\t\t\t\t\taffiliations: response.user?.affiliations,\n\t\t\t\t\tmessages: response.user?.messages,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (response.travelAgent?.travelAgency) {\n\t\t\t\tsetTravelAgent(response.travelAgent);\n\t\t\t\tresponse.travelAgent?.userType &&\n\t\t\t\t\tsetUserType(response.travelAgent.userType);\n\t\t\t} else {\n\t\t\t\treadDataFromCookie();\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [response]);\n\n\tuseEffect(() => {\n\t\tif (error) {\n\t\t\tif (!userType) {\n\t\t\t\tsetUserType(defaultUserType);\n\t\t\t}\n\t\t\tif (user) {\n\t\t\t\tsetUser({\n\t\t\t\t\t...user,\n\t\t\t\t\tavatar: {\n\t\t\t\t\t\t...user?.avatar,\n\t\t\t\t\t\turl: `${getCdn()}${config.profile.defaultAvatarUrl}`,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\treadDataFromCookie();\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [error]);\n\n\tuseEffect(() => {\n\t\tconst exportAuthLogic = (event) => {\n\t\t\tresetOnActionRedirection();\n\t\t\tconst {\n\t\t\t\tmethod,\n\t\t\t\tonLoginRedirectTo = null,\n\t\t\t\tonLogoutRedirectTo = null,\n\t\t\t\tpreventReloadAndRedirect = false,\n\t\t\t\tpreventExecuteOneIdMethod = false,\n\t\t\t} = event.detail;\n\t\t\tswitch (method) {\n\t\t\t\tcase \"launchLogin\":\n\t\t\t\t\thandleLogin(\n\t\t\t\t\t\tevent,\n\t\t\t\t\t\tonLoginRedirectTo,\n\t\t\t\t\t\tonLogoutRedirectTo,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tpreventReloadAndRedirect,\n\t\t\t\t\t\tpreventExecuteOneIdMethod\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"launchReauth\":\n\t\t\t\t\tif (isOneIdSource) {\n\t\t\t\t\t\thandleClick(\n\t\t\t\t\t\t\tmethod,\n\t\t\t\t\t\t\tonLoginRedirectTo,\n\t\t\t\t\t\t\tonLogoutRedirectTo,\n\t\t\t\t\t\t\tpreventReloadAndRedirect,\n\t\t\t\t\t\t\tpreventExecuteOneIdMethod\n\t\t\t\t\t\t)(event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"launchProfile\":\n\t\t\t\t\thandleProfile(event, onLoginRedirectTo, onLogoutRedirectTo, true);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"logout\":\n\t\t\t\t\thandleLogout(\n\t\t\t\t\t\tevent,\n\t\t\t\t\t\tonLogoutRedirectTo,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tpreventReloadAndRedirect,\n\t\t\t\t\t\tpreventExecuteOneIdMethod\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"setLoggedInStatus\":\n\t\t\t\t\tsetLoggedInStatusChanged(true);\n\t\t\t\t\tif (onLogoutRedirectTo) {\n\t\t\t\t\t\tif (!disneyIdRef.current) {\n\t\t\t\t\t\t\tdisneyIdRef.current = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisneyIdRef.current.onLogoutRedirectTo = onLogoutRedirectTo;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif (isOneIdSource) {\n\t\t\t\t\t\thandleClick(method)(event);\n\t\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener(authenticationEvent, exportAuthLogic);\n\n\t\tif (!isLoading && chromeData) {\n\t\t\tpublishNavigationEvent(`${authenticationEvent}Listening`);\n\t\t}\n\n\t\treturn () =>\n\t\t\tdocument.removeEventListener(authenticationEvent, exportAuthLogic);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isLoading, chromeData]);\n\n\tuseEffect(() => {\n\t\tconst sharedSessionLink = getCookie(\"SHARED_SESSION_LINK\");\n\t\tconst remembermeCookie = getCookie(userDataCookieName);\n\t\tconst makeProfileRequestForGettingTAData =\n\t\t\t!remembermeCookie && !user?.swid && sharedSessionLink;\n\t\tif (\n\t\t\tuser?.swid ||\n\t\t\tbrandConfig?.makeProfileRequest ||\n\t\t\tmakeProfileRequestForGettingTAData\n\t\t) {\n\t\t\tconst apiUrl = config.profile.apiUrl;\n\t\t\tconst apiUrlParams = [];\n\t\t\tif (user?.avatar?.id) {\n\t\t\t\tapiUrlParams.push(`avatarId=${user.avatar.id}`);\n\t\t\t}\n\t\t\tif (user?.swid) {\n\t\t\t\tapiUrlParams.push(\"isUser=true\");\n\t\t\t}\n\t\t\tif (sharedSessionLink) {\n\t\t\t\tapiUrlParams.push(\n\t\t\t\t\t`sharedSessionLink=${encodeURIComponent(sharedSessionLink) || \"\"}`\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetProfileUrl(\n\t\t\t\tapiUrlParams.length ? `${apiUrl}?${apiUrlParams.join(\"&\")}` : apiUrl\n\t\t\t);\n\t\t} else if (!user?.swid) {\n\t\t\tsetProfileUrl(\"\");\n\t\t}\n\t\tif (!makeProfileRequestForGettingTAData) {\n\t\t\treadDataFromCookie();\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [user?.swid, brand, affiliationsParam]);\n\n\tconst removeCartCookie = () => {\n\t\tconst cartCookieToRemove = `CART-${brand}${store ? `_${store}` : \"\"}_jar`;\n\t\tif (cartCookieToRemove) {\n\t\t\tremoveCookie(cartCookieToRemove.split(\"=\")[0]);\n\t\t}\n\t};\n\n\tconst initOneId = async () => {\n\t\ttry {\n\t\t\tlet userData = null;\n\t\t\tif (oneIdConfig?.usingOneIdProfileLibrary && window.PEP?.PROFILE_AUTH) {\n\t\t\t\tawait window.PEP.PROFILE_AUTH.init({\n\t\t\t\t\toneIdScriptSrc: oneIdConfig?.oneIdLibraryUrl,\n\t\t\t\t\tloadScript: true,\n\t\t\t\t\tclientId: oneIdConfig?.oneIdClientId,\n\t\t\t\t\tlangPref: locale,\n\t\t\t\t\tresponderPage: oneIdConfig?.oneIdResponderPage,\n\t\t\t\t\tcssOverride: oneIdConfig?.cssOverride,\n\t\t\t\t});\n\t\t\t\tdisneyIdRef.current = window.PEP.PROFILE_AUTH.did;\n\t\t\t\tconst userIsLoggedIn = await disneyIdRef.current.getLoggedInStatus();\n\t\t\t\tif (userIsLoggedIn) {\n\t\t\t\t\tuserData = await disneyIdRef.current.getGuest();\n\t\t\t\t\tuserData?.profile &&\n\t\t\t\t\t\tsetUser({\n\t\t\t\t\t\t\t...user,\n\t\t\t\t\t\t\t...userData.profile,\n\t\t\t\t\t\t\tauthToken: userData?.token?.access_token,\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (window.DisneyID) {\n\t\t\t\tdisneyIdRef.current = window.DisneyID.get({\n\t\t\t\t\tclientId: oneIdConfig?.oneIdClientId,\n\t\t\t\t\tresponderPage: oneIdConfig?.oneIdResponderPage,\n\t\t\t\t\tcssOverride: oneIdConfig?.cssOverride,\n\t\t\t\t});\n\t\t\t\tuserData = await disneyIdRef.current.init();\n\t\t\t\tuserData?.loggedIn &&\n\t\t\t\t\tuserData?.guest?.profile &&\n\t\t\t\t\tsetUser({\n\t\t\t\t\t\t...user,\n\t\t\t\t\t\t...userData.guest.profile,\n\t\t\t\t\t\tauthToken: userData.guest.token?.access_token,\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tinitOneIdEvents();\n\t\t\tpublishNavigationEvent(`${oneIdPrefix}init`);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t} finally {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t};\n\n\tconst handleRedirectAndReloadLogic = (redirectKey = \"Login\") => {\n\t\tconst redirectUrl =\n\t\t\tdisneyIdRef.current[`on${redirectKey}RedirectTo`] ||\n\t\t\tdisneyIdRef.current[`on${redirectKey}RedirectUrl`];\n\t\tif (redirectUrl) {\n\t\t\twindow.location.assign(redirectUrl);\n\t\t} else {\n\t\t\twindow.location.reload();\n\t\t}\n\t};\n\n\tconst initOneIdEvents = () => {\n\t\tdisneyIdRef.current.on(\"login\", (data) => {\n\t\t\tif (\n\t\t\t\tdisneyIdRef.current.launchLoginPreventReloadAndRedirect ||\n\t\t\t\tdisneyIdRef.current.launchReauthPreventReloadAndRedirect\n\t\t\t) {\n\t\t\t\tdata?.profile &&\n\t\t\t\t\tsetUser({ ...data.profile, authToken: data.token?.access_token });\n\t\t\t\tpublishNavigationEvent(`${oneIdPrefix}login`);\n\t\t\t} else if (isDevelopmentEnvironment(getEnvironment())) {\n\t\t\t\thandleRedirectAndReloadLogic();\n\t\t\t}\n\t\t});\n\n\t\tdisneyIdRef.current.on(\"session-init\", () => {\n\t\t\tif (\n\t\t\t\t!disneyIdRef.current.launchLoginPreventReloadAndRedirect &&\n\t\t\t\t!disneyIdRef.current.launchReauthPreventReloadAndRedirect\n\t\t\t) {\n\t\t\t\thandleRedirectAndReloadLogic();\n\t\t\t}\n\t\t});\n\n\t\tdisneyIdRef.current.on(\"logout\", () => {\n\t\t\tsetUser(null);\n\t\t\tif (!disneyIdRef.current.logoutPreventReloadAndRedirect) {\n\t\t\t\thandleRedirectAndReloadLogic(\"Logout\");\n\t\t\t}\n\t\t\tpublishNavigationEvent(`${oneIdPrefix}logout`);\n\t\t});\n\n\t\tdisneyIdRef.current.on(\"update\", (data) => {\n\t\t\t// data.profile contains the changed info\n\t\t\tdata?.profile && setUser({ ...user, ...data.profile });\n\t\t\tpublishNavigationEvent(`${oneIdPrefix}update`);\n\t\t});\n\n\t\tdisneyIdRef.current.on(\"close\", () => {\n\t\t\tsetOpenedOneIdModal(false);\n\t\t\tpublishNavigationEvent(`${oneIdPrefix}close`);\n\t\t});\n\n\t\t[\"create\", \"reauth\", \"refresh\", \"low-trust\"].forEach((event) => {\n\t\t\tdisneyIdRef.current.on(event, () =>\n\t\t\t\tpublishNavigationEvent(`${oneIdPrefix}${event}`)\n\t\t\t);\n\t\t});\n\t};\n\n\tconst handleLogin = (\n\t\tevent,\n\t\tonLoginRedirectTo = null,\n\t\tonLogoutRedirectTo = null,\n\t\tisEventSource = false,\n\t\tpreventReloadAndRedirect = false,\n\t\tpreventExecuteOneIdMethod = false\n\t) => {\n\t\tif (isOneIdSource) {\n\t\t\thandleClick(\n\t\t\t\t\"launchLogin\",\n\t\t\t\tonLoginRedirectTo,\n\t\t\t\tonLogoutRedirectTo,\n\t\t\t\tpreventReloadAndRedirect,\n\t\t\t\tpreventExecuteOneIdMethod\n\t\t\t)(event);\n\t\t} else if (isEventSource) {\n\t\t\twindow.location.assign(getLoginUrl(chromeData?.signIn?.href || \"/login\"));\n\t\t}\n\t};\n\n\tconst handleLogout = (\n\t\tevent,\n\t\tonLogoutRedirectTo = null,\n\t\tisEventSource = false,\n\t\tpreventReloadAndRedirect = false,\n\t\tpreventExecuteOneIdMethod = false\n\t) => {\n\t\tsetSyndicatedDismissButton(false);\n\t\tsetStorageMakeCartRequest(true);\n\t\tremoveCartCookie();\n\t\tif (isOneIdSource) {\n\t\t\tdisneyIdRef.current.onLogoutRedirectUrl = chromeData?.signOut?.href;\n\t\t\thandleClick(\n\t\t\t\t\"logout\",\n\t\t\t\tnull,\n\t\t\t\tonLogoutRedirectTo,\n\t\t\t\tpreventReloadAndRedirect,\n\t\t\t\tpreventExecuteOneIdMethod\n\t\t\t)(event);\n\t\t} else if (isEventSource && onLogoutRedirectTo) {\n\t\t\twindow.location.assign(onLogoutRedirectTo);\n\t\t} else if (\n\t\t\tdisneyIdRef.current?.onLogoutRedirectTo &&\n\t\t\tevent?.currentTarget?.href\n\t\t) {\n\t\t\tevent.currentTarget.href = disneyIdRef.current.onLogoutRedirectTo;\n\t\t}\n\t};\n\n\tconst handleProfile = (\n\t\tevent,\n\t\tonLoginRedirectTo = null,\n\t\tonLogoutRedirectTo = null,\n\t\tisEventSource = false\n\t) => {\n\t\tif (chromeData?.signedIn) {\n\t\t\tif (isOneIdSource && chromeData.signedIn?.target === targetOneId) {\n\t\t\t\thandleClick(\n\t\t\t\t\t\"launchProfile\",\n\t\t\t\t\tonLoginRedirectTo,\n\t\t\t\t\tonLogoutRedirectTo\n\t\t\t\t)(event);\n\t\t\t} else if (chromeData.signedIn?.href && isEventSource) {\n\t\t\t\twindow.location.assign(chromeData.signedIn.href);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleClick = (\n\t\tmethod,\n\t\tonLoginRedirectTo = null,\n\t\tonLogoutRedirectTo = null,\n\t\tpreventReloadAndRedirect = false,\n\t\tpreventExecuteOneIdMethod = false\n\t) => {\n\t\treturn async (e) => {\n\t\t\tif (\n\t\t\t\tisLoading ||\n\t\t\t\t!isOneIdSource ||\n\t\t\t\t!disneyIdRef.current ||\n\t\t\t\t!disneyIdRef.current[method]\n\t\t\t)\n\t\t\t\treturn;\n\t\t\te.preventDefault();\n\t\t\tif (onLoginRedirectTo) {\n\t\t\t\tdisneyIdRef.current.onLoginRedirectTo = onLoginRedirectTo;\n\t\t\t}\n\t\t\tif (onLogoutRedirectTo) {\n\t\t\t\tdisneyIdRef.current.onLogoutRedirectTo = onLogoutRedirectTo;\n\t\t\t}\n\t\t\tif (preventReloadAndRedirect) {\n\t\t\t\tdisneyIdRef.current[\n\t\t\t\t\t`${method}PreventReloadAndRedirect`\n\t\t\t\t] = preventReloadAndRedirect;\n\t\t\t}\n\t\t\tif (!preventExecuteOneIdMethod) {\n\t\t\t\ttry {\n\t\t\t\t\tawait disneyIdRef.current[method]();\n\t\t\t\t\tif (method?.indexOf(\"launch\") === 0) {\n\t\t\t\t\t\tsetOpenedOneIdModal(true);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\n\treturn {\n\t\tisLoading,\n\t\tuser,\n\t\tisOneIdSource,\n\t\tsetUser,\n\t\tuserType,\n\t\ttravelAgent,\n\t\thandleClick,\n\t\topenedOneIdModal,\n\t\taffiliations,\n\t\thandleLogin,\n\t\thandleLogout,\n\t\thandleProfile,\n\t};\n};\n\nexport default useProfile;\n","export const getOperatingSystem = () => {\n\tconst userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\tif (/windows phone/i.test(userAgent)) {\n\t\treturn \"windowsPhone\";\n\t}\n\tif (/android/i.test(userAgent)) {\n\t\treturn \"android\";\n\t}\n\tif (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n\t\treturn \"ios\";\n\t}\n\treturn \"\";\n};\n","import { createContext, useEffect, useState } from \"react\";\nimport {\n\tcurrentScript,\n\tgetParam,\n\tloadAffiliations,\n\tloadAppConfiguration,\n\tloadBrandParam,\n\tloadLocaleParam,\n\tvalidateParam,\n\tvalidateParams,\n\tvalidateParamValue,\n} from \"utils/paramsValidation\";\nimport { loadExternalThemeStyles } from \"utils/theme\";\nimport useProfile from \"hooks/useProfile\";\nimport { getDefaultLocale } from \"utils/language\";\nimport { getOperatingSystem } from \"utils/clientDetails\";\nimport { defaultLocale, defaultPosition, brands } from \"config.json\";\nimport { getEnvironment } from \"utils\";\n\nexport const Context = createContext();\n\nconst timeToReloadParameters = 100;\nconst contextEvent = \"navigationContext\";\n\nconst ContextProvider = (props) => {\n\tconst [config, setConfig] = useState({\n\t\tallowedLocales: \"\",\n\t\tbrand: loadBrandParam(),\n\t\tchrome: false,\n\t\tchromeLinks: true,\n\t\tfooter: false,\n\t\theader: false,\n\t\tlanguageSelector: true,\n\t\tlegal: false,\n\t\tlocale: defaultLocale,\n\t\tmessageCenter: true,\n\t\tnavigation: false,\n\t\toperatingSystem: getOperatingSystem(),\n\t\tposition: defaultPosition,\n\t\tprofile: true,\n\t\tsearchBar: true,\n\t\tsecondaryMessage: true,\n\t\tshowSections: true,\n\t\tshowRelatedDisneySites: true,\n\t\tsmartBanner: true,\n\t\tstore: \"\",\n\t\ttravelTrade: true,\n\t\taffiliations: [],\n\t\tbasePath: \"\",\n\t\tshowDisney: true,\n\t\tlogo: true,\n\t\ttheme: \"\",\n\t\tenvironment: getEnvironment(),\n\t});\n\tconst [headerData, setHeaderData] = useState({ loading: true });\n\tconst [footerData, setFooterData] = useState({ loading: true });\n\tconst [legalFooterData, setLegalFooterData] = useState({ loading: true });\n\tconst profileData = useProfile(\n\t\tconfig.brand,\n\t\tconfig.locale,\n\t\tconfig.profile,\n\t\tconfig.store,\n\t\tconfig.affiliations,\n\t\theaderData?.chrome\n\t);\n\tconst [modal, setModal] = useState(null);\n\n\tconst loadConfiguration = () => {\n\t\tsetConfig((currentConfig) => ({\n\t\t\t...currentConfig,\n\t\t\tallowedLocales: getParam(\"allowedLocales\"),\n\t\t\tchrome:\n\t\t\t\tvalidateParam(\"chrome\") ||\n\t\t\t\t(validateParam(\"header\") && !validateParam(\"hideNavigation\")),\n\t\t\tchromeLinks: validateParam(\"chromeLinks\", true),\n\t\t\tfooter: validateParam(\"footer\"),\n\t\t\theader: validateParams([\"header\", \"chrome\", \"navigation\"]),\n\t\t\tlanguageSelector: validateParam(\"languageSelector\", true),\n\t\t\tlegal: validateParam(\"legal\"),\n\t\t\tlocale: loadLocaleParam(),\n\t\t\tmessageCenter: validateParam(\"messageCenter\", true),\n\t\t\tnavigation:\n\t\t\t\tvalidateParams([\"header\", \"navigation\"]) &&\n\t\t\t\t!validateParam(\"hideNavigation\"),\n\t\t\tposition: validateParamValue(\"position\", [\"top\", \"sticky\"]),\n\t\t\tprofile: validateParam(\"profile\", true),\n\t\t\tsearchBar: validateParam(\"searchBar\", true),\n\t\t\tsecondaryMessage: validateParam(\"secondaryMessage\", true),\n\t\t\tshowRelatedDisneySites: validateParam(\"showRelatedDisneySites\", true),\n\t\t\tshowSections: validateParam(\"showSections\", true),\n\t\t\tsmartBanner: validateParam(\"smartBanner\", true),\n\t\t\tstore: getParam(\"store\"),\n\t\t\ttravelTrade: validateParam(\"travelTrade\", true),\n\t\t\taffiliations: loadAffiliations(),\n\t\t\tshowDisney: validateParam(\"showDisney\", true),\n\t\t\tlogo: validateParam(\"logo\", true),\n\t\t\ttheme: getParam(\"theme\"),\n\t\t}));\n\t};\n\n\tuseEffect(() => {\n\t\tif (config.locale) {\n\t\t\tconst defaultLocale = getDefaultLocale(config.brand);\n\t\t\tlet basePath = config.locale === defaultLocale ? \"\" : `/${config.locale}`;\n\t\t\tif (basePath && brands?.[config.brand]?.allowedLocales?.[config.locale]) {\n\t\t\t\tbasePath = `/${brands[config.brand].allowedLocales[config.locale]}`;\n\t\t\t}\n\t\t\tsetConfig((config) => ({ ...config, basePath }));\n\t\t}\n\t}, [config.locale, config.brand]);\n\n\tuseEffect(() => {\n\t\tsetConfig((currentConfig) => ({\n\t\t\t...currentConfig,\n\t\t\t...(legalFooterData?.context || {}),\n\t\t\t...(footerData?.context || {}),\n\t\t\t...(headerData?.context || {}),\n\t\t}));\n\t}, [headerData, footerData, legalFooterData]);\n\n\tuseEffect(() => {\n\t\tloadConfiguration();\n\t\tlet observer;\n\t\tif (currentScript) {\n\t\t\tobserver = new MutationObserver((changes) => {\n\t\t\t\tchanges.forEach((change) => {\n\t\t\t\t\tif (change.attributeName.includes(\"src\")) {\n\t\t\t\t\t\tloadAppConfiguration();\n\t\t\t\t\t\tloadConfiguration();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tobserver.observe(currentScript, { attributes: true });\n\t\t\tsetTimeout(() => {\n\t\t\t\tloadAppConfiguration();\n\t\t\t\tloadConfiguration();\n\t\t\t}, timeToReloadParameters);\n\t\t}\n\t\tconst contextEventLogic = (event) => {\n\t\t\tsetConfig((config) => {\n\t\t\t\tconst newConfig = { ...config, ...(event?.detail || {}) };\n\t\t\t\tconsole.log(newConfig);\n\t\t\t\tloadExternalThemeStyles(event?.detail?.theme);\n\t\t\t\treturn newConfig;\n\t\t\t});\n\t\t};\n\t\tdocument.addEventListener(contextEvent, contextEventLogic);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(contextEvent, contextEventLogic);\n\t\t\tif (observer) {\n\t\t\t\tobserver.disconnect();\n\t\t\t}\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<Context.Provider\n\t\t\tvalue={{\n\t\t\t\tconfig,\n\t\t\t\tprofileData,\n\t\t\t\theaderData,\n\t\t\t\tsetHeaderData,\n\t\t\t\tfooterData,\n\t\t\t\tsetFooterData,\n\t\t\t\tlegalFooterData,\n\t\t\t\tsetLegalFooterData,\n\t\t\t\tmodal,\n\t\t\t\tsetModal,\n\t\t\t\tsetConfig,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</Context.Provider>\n\t);\n};\n\nexport default ContextProvider;\n","const baseClass = \"syndicated-image\";\n\nconst Image = ({\n\tname = \"\",\n\timage: {\n\t\turl = \"\",\n\t\ttitle = \"\",\n\t\talt = title,\n\t\twidth = null,\n\t\theight = null,\n\t} = {},\n}) => {\n\tconst modifier = name ? `${baseClass}--${name}` : \"\";\n\n\tif (!url) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<img\n\t\t\tclassName={`${baseClass} ${modifier}`}\n\t\t\tsrc={url}\n\t\t\talt={alt}\n\t\t\ttitle={title}\n\t\t\twidth={width}\n\t\t\theight={height}\n\t\t/>\n\t);\n};\n\nexport default Image;\n","import Image from \"components/shared/Image\";\nimport { getCdn } from \"utils\";\n\nconst Loading = ({ title = \"\" }) => (\n\t<div className=\"syndicated-loading\">\n\t\t<Image\n\t\t\tname=\"loading\"\n\t\t\timage={{\n\t\t\t\turl: `${getCdn()}/gifs/loading/peploading_30x30.gif`,\n\t\t\t\ttitle: title,\n\t\t\t}}\n\t\t/>\n\t</div>\n);\n\nexport default Loading;\n","import { Context } from \"Context\";\nimport { useContext, useEffect, useState } from \"react\";\nimport Loading from \"./Loading\";\nimport useFetch from \"hooks/useFetch\";\nimport { content, brands } from \"config.json\";\n\nconst cacheMinutes = 5;\nconst mainClass = \"syndicated-footer-wrapper\";\n\nconst FooterWrapper = ({ children }) => {\n\tconst {\n\t\tconfig: { brand, legal, footer, theme, store },\n\t\tfooterData,\n\t\tlegalFooterData,\n\t\tsetConfig,\n\t\tsetFooterData,\n\t\tsetLegalFooterData,\n\t\tprofileData: { userType },\n\t} = useContext(Context);\n\tconst [footerWrapperUrl, setFooterWrapperUrl] = useState(\"\");\n\tconst { response, error } = useFetch(\n\t\tfooterWrapperUrl,\n\t\t{},\n\t\tcacheMinutes,\n\t\tfooterWrapperUrl\n\t);\n\n\tlet classes = `${mainClass} ${mainClass}--${brand}`;\n\n\tif (theme) {\n\t\tclasses += ` syndicated-theme--${theme}`;\n\t}\n\n\tif (store) {\n\t\tclasses += ` ${mainClass}__store ${mainClass}__store--${store}`;\n\t}\n\n\tuseEffect(() => {\n\t\tconst isUserTypeRequired =\n\t\t\tbrands?.[brand]?.isUserTypeRequiredForContentRequest;\n\t\tif (!isUserTypeRequired || (isUserTypeRequired && userType)) {\n\t\t\tconst footerBaseUrl =\n\t\t\t\tlegal && !footer ? content.apiUrl.legal : content.apiUrl.footer;\n\t\t\tsetFooterWrapperUrl(\n\t\t\t\tisUserTypeRequired && userType\n\t\t\t\t\t? `${footerBaseUrl}?userType=${userType}`\n\t\t\t\t\t: footerBaseUrl\n\t\t\t);\n\t\t}\n\t}, [userType, brand, footer, legal]);\n\n\tuseEffect(() => {\n\t\tif (response) {\n\t\t\tif (legal && !footer) {\n\t\t\t\tsetLegalFooterData(response);\n\t\t\t} else {\n\t\t\t\tsetFooterData(response);\n\t\t\t}\n\t\t\tsetConfig((config) => ({ ...config, ...(response.context || {}) }));\n\t\t} else if (error) {\n\t\t\tsetFooterData({ error: true, loading: false });\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [error, response]);\n\n\treturn (\n\t\t<footer className={classes}>\n\t\t\t{footerData.loading && legalFooterData.loading && <Loading />}\n\t\t\t{((!footerData.loading && !footerData.error) ||\n\t\t\t\t(!legalFooterData.loading && !legalFooterData.error)) && (\n\t\t\t\t<div className=\"syndicated-footer-wrapper__container\">{children}</div>\n\t\t\t)}\n\t\t</footer>\n\t);\n};\n\nexport default FooterWrapper;\n","const AccessibleText = ({ children, role = null, ariaLevel = null }) => {\n\treturn (\n\t\t<span\n\t\t\trole={role}\n\t\t\taria-level={ariaLevel}\n\t\t\tclassName=\"syndicated-accessible-text\"\n\t\t>\n\t\t\t{children}\n\t\t</span>\n\t);\n};\n\nexport default AccessibleText;\n","const getAnalyticsFramework = () => {\n\treturn (\n\t\twindow.WDPRO && window.WDPRO.Analytics && window.WDPRO.Analytics.Framework\n\t);\n};\n\nconst checkInitialization = (ref) => {\n\treturn ref && ref.analyticsModel.length;\n};\n\nconst trackLink = (model, customEvent) => {\n\tconst ref = getAnalyticsFramework();\n\tif (checkInitialization(ref)) {\n\t\tconst updatedModel = Object.assign(model, { trackingType: \"customLink\" });\n\t\tif (customEvent) {\n\t\t\tref.trackElement(customEvent, updatedModel);\n\t\t} else {\n\t\t\tref.trackElement(updatedModel);\n\t\t}\n\t} else {\n\t\tconsole.error(\n\t\t\t\"Something is wrong with Analytics Framework. Check that is correctly configured.\"\n\t\t);\n\t}\n};\n\nexport { trackLink };\n","import { useContext } from \"react\";\nimport AccessibleText from \"./AccessibleText\";\nimport { Context } from \"Context\";\nimport { trackLink } from \"utils/analyticsFramework\";\n\nconst interstitialPrefix = \"interstitial\";\nconst modalLayer = \"modalLayer\";\nconst storePrefix = \"/reservations/\";\n\nconst Link = ({\n\taccessibleText = \"\",\n\tanalyticsLinkId = null,\n\tchildren = null,\n\tclassName = null,\n\thandleClick = null,\n\thref,\n\ttitle = \"\",\n\ttabIndex = null,\n\ttarget = \"_self\",\n\trel = null,\n\trole = null,\n\tbyPassBasePath = false,\n}) => {\n\tconst {\n\t\theaderData: { interstitial: headerInterstitials = {} } = {},\n\t\tfooterData: { interstitial: footerInterstitials = {} } = {},\n\t\tlegalFooterData: { interstitial: legalFooterInterstitials = {} } = {},\n\t\tsetModal,\n\t\tconfig: { basePath, store },\n\t} = useContext(Context);\n\n\tconst interstitials = {\n\t\t...headerInterstitials,\n\t\t...footerInterstitials,\n\t\t...legalFooterInterstitials,\n\t};\n\n\tif (!href) {\n\t\tconsole.error(\"No href present\");\n\t\treturn null;\n\t}\n\n\tif (!title && children === null && !accessibleText) {\n\t\tconsole.error(\"No title or content present for: \", href);\n\t\treturn null;\n\t}\n\n\tif (href[0] === \"/\") {\n\t\tif (store) {\n\t\t\thref = `${storePrefix}${store}${href}`;\n\t\t}\n\t\tif (!byPassBasePath) {\n\t\t\thref = `${basePath}${href}`;\n\t\t}\n\t}\n\n\tconst handleInterstitial = (e) => {\n\t\tconst modal = interstitials[target];\n\t\tif (modal) {\n\t\t\te.preventDefault();\n\t\t\tmodal.href = href;\n\t\t\tsetModal(modal);\n\t\t}\n\t};\n\n\tconst handleModalLayer = (e) => {\n\t\tconst modal = interstitials[href.match(/[^#]+/g)[0]];\n\t\tif (modal) {\n\t\t\te.preventDefault();\n\t\t\tsetModal({ ...modal, href: href.match(/[^#]+/g)[1] || modal.href });\n\t\t}\n\t};\n\n\tconst handleTriggerAnalytics = (e) => {\n\t\tconst linkId = `${analyticsLinkId}_${\n\t\t\te.type === \"click\" ? \"CLICK\" : \"HOVER\"\n\t\t}`;\n\n\t\tif (analyticsLinkId) {\n\t\t\ttrackLink({ linkId });\n\t\t}\n\t};\n\n\treturn (\n\t\t<a\n\t\t\thref={href}\n\t\t\tonClick={(e) => {\n\t\t\t\ttarget && target.includes(interstitialPrefix) && handleInterstitial(e);\n\t\t\t\ttarget && target.includes(modalLayer) && handleModalLayer(e);\n\t\t\t\thandleClick && handleClick(e);\n\t\t\t\tanalyticsLinkId && handleTriggerAnalytics(e);\n\t\t\t}}\n\t\t\tonMouseEnter={(e) => {\n\t\t\t\tanalyticsLinkId && handleTriggerAnalytics(e);\n\t\t\t}}\n\t\t\tname={analyticsLinkId ? `&lid=${analyticsLinkId}` : null}\n\t\t\tclassName={className}\n\t\t\ttabIndex={tabIndex}\n\t\t\ttarget={target}\n\t\t\trole={role}\n\t\t\trel={rel}\n\t\t>\n\t\t\t{children || title}\n\t\t\t{accessibleText && <AccessibleText>{accessibleText}</AccessibleText>}\n\t\t</a>\n\t);\n};\n\nexport default Link;\n","import { Fragment, useContext } from \"react\";\nimport FooterWrapper from \"components/shared/FooterWrapper\";\nimport Link from \"components/shared/Link\";\nimport { Context } from \"Context\";\n\nconst Legal = ({ wrap = true }) => {\n\tconst {\n\t\tfooterData: { legalFooter },\n\t\tlegalFooterData,\n\t} = useContext(Context);\n\tconst LegalWrapper = wrap ? FooterWrapper : Fragment;\n\n\treturn (\n\t\t<LegalWrapper>\n\t\t\t<div className=\"syndicated-legal\">\n\t\t\t\t{(legalFooter || legalFooterData.legalFooter)?.modules?.map(\n\t\t\t\t\t(module, index) => (\n\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName={`syndicated-legal__links syndicated-legal__links--${module.id}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{module.webLinkList?.map((link, index) => (\n\t\t\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t\t\t<Link {...link} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\t{(legalFooter || legalFooterData.legalFooter)?.descriptions?.map(\n\t\t\t\t\t(description, index) => (\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName=\"syndicated-legal__copyright-title\"\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: description.title }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</LegalWrapper>\n\t);\n};\n\nexport default Legal;\n","const Title = ({ title }) =>\n\ttitle ? (\n\t\t<p\n\t\t\tdangerouslySetInnerHTML={{ __html: title }}\n\t\t\tclassName=\"syndicated-footer__title\"\n\t\t/>\n\t) : null;\n\nexport default Title;\n","import Link from \"components/shared/Link\";\nimport Title from \"components/footer/Title\";\n\nconst mainClass = \"syndicated-footer__list__column__section\";\n\nconst Column = ({ title, id, webLinkList = [] }) => {\n\treturn (\n\t\t<div className={`${mainClass}${id ? ` ${mainClass}--${id}` : \"\"}`}>\n\t\t\t<Title title={title} />\n\t\t\t<nav>\n\t\t\t\t<ul className={`${mainClass}__group`}>\n\t\t\t\t\t{webLinkList?.map((link, index) => (\n\t\t\t\t\t\t<li key={index} className={`${mainClass}__group__item`}>\n\t\t\t\t\t\t\t<Link {...link} className=\"syndicated-footer__link\" />\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</div>\n\t);\n};\n\nexport default Column;\n","const Separator = ({ vertical = false, section = \"\" }) => (\n\t<div\n\t\tclassName={`syndicated-separator--${vertical ? \"vertical\" : \"horizontal\"}${\n\t\t\tsection ? ` syndicated-separator--${section}` : \"\"\n\t\t}`}\n\t></div>\n);\n\nexport default Separator;\n","import { Fragment } from \"react\";\nimport Column from \"components/footer/Column\";\nimport AccessibleText from \"components/shared/AccessibleText\";\nimport Separator from \"components/shared/Separator\";\n\nconst Columns = ({ columns = [], accessibleText }) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t<AccessibleText>{accessibleText}</AccessibleText>\n\t\t\t<div className=\"syndicated-footer__list\">\n\t\t\t\t{columns.map((section, index) => (\n\t\t\t\t\t<section\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tclassName={`syndicated-footer__list__column syndicated-footer__list__column--${section.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{section.modules?.map((content, index) => (\n\t\t\t\t\t\t\t<Column {...content} key={index} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</section>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<Separator section=\"footer\" />\n\t\t</Fragment>\n\t);\n};\n\nexport default Columns;\n","import Title from \"components/footer/Title\";\n\nconst mainClass = \"syndicated-footer__item\";\n\nconst Item = ({ title, id, children, emptyTitle = false }) => (\n\t<li\n\t\tclassName={`syndicated-footer__item syndicated-footer--${id}${\n\t\t\temptyTitle ? ` ${mainClass}--empty-title` : \"\"\n\t\t}`}\n\t>\n\t\t<Title title={title} empty={emptyTitle} />\n\t\t{children}\n\t</li>\n);\n\nexport default Item;\n","import { getCdn } from \"utils\";\n\nconst SocialMediaIcon = ({ className, title = \"\", src }) => (\n\t<img\n\t\tsrc={src.indexOf(\"http\") === 0 ? src : `${getCdn(true)}/icons/${src}`}\n\t\talt={title}\n\t\ttitle={title}\n\t\tclassName={`syndicated-social-icon ${className}`}\n\t/>\n);\n\nexport default SocialMediaIcon;\n","import Link from \"components/shared/Link\";\nimport Item from \"components/footer/Item\";\nimport SocialMediaIcon from \"./SocialMediaIcon\";\n\nconst SocialMediaItem = ({ title, descriptions: links = [], id }) => (\n\t<Item title={title} id={id}>\n\t\t<div\n\t\t\tclassName={`syndicated-footer--social-media  syndicated-footer--${id}__content`}\n\t\t>\n\t\t\t{links?.map(({ link, image, id }, index) => (\n\t\t\t\t<div key={index}>\n\t\t\t\t\t{link && (\n\t\t\t\t\t\t<Link {...link} rel=\"noreferrer\">\n\t\t\t\t\t\t\t{image && (\n\t\t\t\t\t\t\t\t<div className={`syndicated-social-icon__wrapper`}>\n\t\t\t\t\t\t\t\t\t<SocialMediaIcon\n\t\t\t\t\t\t\t\t\t\tsrc={image.url}\n\t\t\t\t\t\t\t\t\t\ttitle={link.title}\n\t\t\t\t\t\t\t\t\t\tclassName={`syndicated-social-icon--${id}`}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<span>{link.title}</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t</Item>\n);\n\nexport default SocialMediaItem;\n","import Title from \"components/footer/Title\";\nimport Column from \"./Column\";\n\nconst RelatedDisneySites = ({ title, linksColumns = [] }) => (\n\t<ul className=\"syndicated-footer__language-and-related-sites-container\">\n\t\t<li>\n\t\t\t<Title title={title} />\n\t\t</li>\n\t\t{linksColumns?.map((section, index) => (\n\t\t\t<li key={index} className=\"syndicated-footer__list__column\">\n\t\t\t\t<Column webLinkList={section.webLinkList} />\n\t\t\t</li>\n\t\t))}\n\t</ul>\n);\n\nexport default RelatedDisneySites;\n","import Link from \"components/shared/Link\";\nimport { Fragment } from \"react\";\nimport Item from \"./Item\";\nimport SocialMediaIcon from \"./SocialMediaIcon\";\nimport Column from \"./Column\";\n\nconst socialInformationItemClass = \"syndicated-footer__social-information-item\";\n\nconst SocialInformationItem = ({\n\tid,\n\ttitle,\n\tdescriptions: elements = [],\n\twebLinkList = [],\n}) => {\n\tconst renderElement = ({ url: src, title, id }, link, index = 0) => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\t{...link}\n\t\t\t\tkey={index}\n\t\t\t\tclassName={`syndicated-footer__link ${socialInformationItemClass}__link`}\n\t\t\t>\n\t\t\t\t<SocialMediaIcon\n\t\t\t\t\tsrc={src}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tclassName={id ? `syndicated-social-icon--${id}` : \"\"}\n\t\t\t\t/>\n\t\t\t</Link>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Item title={title || \"<br>\"} emptyTitle={!title} id={id}>\n\t\t\t<div className={socialInformationItemClass}>\n\t\t\t\t{elements?.length > 0 && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{elements.length > 1 ? (\n\t\t\t\t\t\t\telements?.map((element, index) =>\n\t\t\t\t\t\t\t\trenderElement(element.image || {}, element.link, index)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t{elements[0].image &&\n\t\t\t\t\t\t\t\t\trenderElement(elements[0].image || {}, elements[0].link)}\n\t\t\t\t\t\t\t\t{elements[0].text && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`${socialInformationItemClass}__content${\n\t\t\t\t\t\t\t\t\t\t\telements[0].image\n\t\t\t\t\t\t\t\t\t\t\t\t? ` ${socialInformationItemClass}__content--with-image`\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>{elements[0].text}</span>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t{...elements[0].link}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"syndicated-footer__link\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t\t{webLinkList?.length > 0 && <Column webLinkList={webLinkList} />}\n\t\t\t</div>\n\t\t</Item>\n\t);\n};\n\nexport default SocialInformationItem;\n","import Separator from \"components/shared/Separator\";\n\nconst mainClass = \"syndicated-footer__disney-reservation-center\";\nconst DisneyReservationCenter = ({ title, subtitle }) =>\n\ttitle || subtitle ? (\n\t\t<div className={mainClass}>\n\t\t\t<Separator section=\"footer\" />\n\t\t\t<ul className={`${mainClass}__container`}>\n\t\t\t\t{title && (\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName={`${mainClass}__container__title`}\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: title }}\n\t\t\t\t\t></li>\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName={`${mainClass}__container__subtitle`}\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: subtitle }}\n\t\t\t\t\t></li>\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t\t<Separator section=\"footer\" />\n\t\t</div>\n\t) : null;\n\nexport default DisneyReservationCenter;\n","import { getCdn } from \"utils\";\n\nconst Icon = ({\n\ticon = null,\n\tclassName = \"\",\n\trotate = false,\n\ttitle = null,\n}) => {\n\tconst iconClass = `syndicated-icon${icon ? ` syndicated-icon--${icon}` : \"\"}${\n\t\trotate ? \" syndicated-icon--rotate\" : \"\"\n\t} ${className}`;\n\tconst iconUrl = `${getCdn(true)}/icons/pep/${icon}.svg`;\n\n\tif (!icon) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<img alt={title || \"\"} title={title} className={iconClass} src={iconUrl} />\n\t);\n};\n\nexport default Icon;\n","import { useEffect, useState } from \"react\";\n\nconst useCheckMediaQuery = (mediaQuery) => {\n\n\tconst mediaQueryList = window.matchMedia(mediaQuery);\n\tconst [match, setMatch] = useState(mediaQueryList.matches);\n\n\tuseEffect(() => {\n\t\tconst handler = (e) => {\n\t\t\tsetMatch(e.matches);\n\t\t};\n\n\t\tmediaQueryList.addListener(handler);\n\t\treturn () => mediaQueryList.removeListener(handler);\n\t//eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn match;\n};\n\nexport default useCheckMediaQuery;\n","import FooterWrapper from \"components/shared/FooterWrapper\";\nimport Legal from \"components/legal/Legal\";\nimport Columns from \"components/footer/Columns\";\nimport SocialMediaItem from \"components/footer/SocialMediaItem\";\nimport RelatedDisneySites from \"components/footer/RelatedDisneySites\";\nimport SocialInformationItem from \"components/footer/SocialInformationItem\";\nimport DisneyReservationCenter from \"components/footer/DisneyReservationCenter\";\nimport { useContext, useState } from \"react\";\nimport Icon from \"components/shared/Icon\";\nimport { Context } from \"Context\";\nimport useCheckMediaQuery from \"hooks/useCheckMediaQuery\";\nimport { mobileMediaQuery } from \"config.json\";\n\nconst mainClass = \"syndicated-footer\";\nconst syndicatedFooterContainerClass = `${mainClass}__container`;\nconst syndicatedFooterSocialMediaContainerClass = `${mainClass}__social-media-and-information-container`;\n\nconst Footer = () => {\n\tconst {\n\t\tconfig: { brand, showRelatedDisneySites },\n\t\tfooterData: { column, footer, labels, relatedDisneySites },\n\t} = useContext(Context);\n\tconst [showOnMobile, setShowOnMobile] = useState(false);\n\tconst isMobileView = useCheckMediaQuery(mobileMediaQuery);\n\n\tconst renderSocialMediaAndInformationItem = (\n\t\tcontent,\n\t\tindex,\n\t\tcomponentsToRender\n\t) => {\n\t\tif ([\"stayConnected\", \"disneyParks\"].includes(content.id)) {\n\t\t\tcomponentsToRender.push(<SocialMediaItem {...content} key={index} />);\n\t\t} else {\n\t\t\tcomponentsToRender.push(\n\t\t\t\t<SocialInformationItem {...content} key={index} />\n\t\t\t);\n\t\t}\n\t};\n\n\tconst renderSocialMediaAndInformationItems = () => {\n\t\tconst componentsToRender = [];\n\t\tfooter.modules?.forEach((content, index) => {\n\t\t\tif (content.modules) {\n\t\t\t\tconst subComponents = [];\n\t\t\t\tcontent.modules.forEach((moduleContent, subIndex) => {\n\t\t\t\t\trenderSocialMediaAndInformationItem(\n\t\t\t\t\t\tmoduleContent,\n\t\t\t\t\t\tsubIndex,\n\t\t\t\t\t\tsubComponents\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tcomponentsToRender.push(\n\t\t\t\t\t<ul\n\t\t\t\t\t\tclassName={`${syndicatedFooterSocialMediaContainerClass}__group`}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t>\n\t\t\t\t\t\t{subComponents}\n\t\t\t\t\t</ul>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\trenderSocialMediaAndInformationItem(content, index, componentsToRender);\n\t\t\t}\n\t\t});\n\t\treturn componentsToRender;\n\t};\n\n\treturn (\n\t\t<FooterWrapper>\n\t\t\t<div className={`${mainClass} ${mainClass}--${brand}`}>\n\t\t\t\t{labels && (\n\t\t\t\t\t<DisneyReservationCenter\n\t\t\t\t\t\ttitle={labels.drcCtaTitle}\n\t\t\t\t\t\tsubtitle={labels.drcCtaSubtitle}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${syndicatedFooterContainerClass}${\n\t\t\t\t\t\tshowOnMobile ? ` ${syndicatedFooterContainerClass}--show` : \"\"\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`${syndicatedFooterContainerClass}__button${\n\t\t\t\t\t\t\tshowOnMobile\n\t\t\t\t\t\t\t\t? ` ${syndicatedFooterContainerClass}__button--active`\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tonClick={() => setShowOnMobile(!showOnMobile)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon={\"norgie-closed\"} rotate={showOnMobile} />\n\t\t\t\t\t\t{labels?.showMoreLinks}\n\t\t\t\t\t</button>\n\t\t\t\t\t<div\n\t\t\t\t\t\taria-hidden={isMobileView && !showOnMobile}\n\t\t\t\t\t\tclassName={`${syndicatedFooterContainerClass}__content ${syndicatedFooterContainerClass}__content${\n\t\t\t\t\t\t\tshowOnMobile ? \"--show\" : \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{column && (\n\t\t\t\t\t\t\t<Columns\n\t\t\t\t\t\t\t\tcolumns={column.modules}\n\t\t\t\t\t\t\t\taccessibleText={labels?.accessibiltyTextFooterLinks}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{footer && (\n\t\t\t\t\t\t\t<ul className={syndicatedFooterSocialMediaContainerClass}>\n\t\t\t\t\t\t\t\t{renderSocialMediaAndInformationItems()}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{relatedDisneySites && showRelatedDisneySites && (\n\t\t\t\t\t\t\t<RelatedDisneySites\n\t\t\t\t\t\t\t\ttitle={relatedDisneySites.title}\n\t\t\t\t\t\t\t\tlinksColumns={relatedDisneySites.modules}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Legal wrap={false} />\n\t\t</FooterWrapper>\n\t);\n};\n\nexport default Footer;\n","const Container = ({ direction, children }) => {\n\tconst mainClass = \"syndicated-container\";\n\tlet classes = mainClass;\n\n\tif (direction) classes += ` ${mainClass}--flex-${direction}`;\n\n\treturn <div className={classes}>{children}</div>;\n};\n\nexport default Container;\n","import Container from \"components/shared/Container\";\nimport useLocalStorage from \"hooks/useLocalStorage\";\nimport { useContext } from \"react\";\nimport { Context } from \"Context\";\nimport { mobileApplications } from \"config.json\";\nimport { mapString, getCdn } from \"utils\";\nimport Link from \"components/shared/Link\";\nimport Image from \"components/shared/Image\";\n\nconst smartBannerClass = \"syndicated-smart-banner\";\nconst pathname = window.location.pathname;\n\nconst SmartBanner = () => {\n\tconst [toggle, setToggle] = useLocalStorage(\"smartBanner\", true);\n\tconst {\n\t\theaderData: { appBanner },\n\t\tconfig: { operatingSystem },\n\t} = useContext(Context);\n\n\tif (\n\t\t!toggle ||\n\t\t!appBanner ||\n\t\t![\"ios\", \"android\"].includes(operatingSystem) ||\n\t\t!appBanner?.descriptions?.sections?.[operatingSystem] ||\n\t\t(!appBanner?.pages?.includes(\"*\") && !appBanner?.pages?.includes(pathname))\n\t) {\n\t\treturn null;\n\t}\n\n\tconst bannerContent = appBanner.descriptions.sections;\n\n\treturn (\n\t\t<div className={smartBannerClass}>\n\t\t\t<Container direction=\"row\">\n\t\t\t\t<Image\n\t\t\t\t\timage={{\n\t\t\t\t\t\turl: `${getCdn()}/logos/mobileApps/${bannerContent.logo}.png`,\n\t\t\t\t\t\talt: bannerContent.title,\n\t\t\t\t\t}}\n\t\t\t\t\tname=\"smart-banner-icon\"\n\t\t\t\t/>\n\t\t\t\t<div className={`${smartBannerClass}__content`}>\n\t\t\t\t\t<div className={`${smartBannerClass}__content__title`}>\n\t\t\t\t\t\t{bannerContent.title}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={`${smartBannerClass}__content__subtitle`}>\n\t\t\t\t\t\t{bannerContent[operatingSystem].subtitle}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Link\n\t\t\t\t\thref={`${mapString(\n\t\t\t\t\t\tmobileApplications[operatingSystem],\n\t\t\t\t\t\tbannerContent[operatingSystem].id\n\t\t\t\t\t)}`}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\tclassName={`${smartBannerClass}__open`}\n\t\t\t\t>\n\t\t\t\t\t{appBanner.buttonLabel}\n\t\t\t\t</Link>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${smartBannerClass}__close`}\n\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\tonClick={() => setToggle((prevState) => !prevState)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundImage: `url(${getCdn(\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)}/icons/message-center/close.svg)`,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tx\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default SmartBanner;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport Container from \"components/shared/Container\";\nimport useSessionStorage from \"hooks/useSessionStorage\";\nimport useFetch from \"hooks/useFetch\";\nimport { content } from \"config.json\";\nimport { getCdn, objectIsEmpty } from \"utils\";\nimport { getCookie, setCookie } from \"utils/cookie\";\nimport { trackLink } from \"utils/analyticsFramework\";\nimport { Context } from \"Context\";\n\nconst iconsPath = `${getCdn(true)}/icons/message-center/`;\n\nfunction MessageCenter() {\n\tconst {\n\t\tconfig: { brand },\n\t} = useContext(Context);\n\n\tconst disneySiteRegExp = /(disney)\\w+/;\n\tconst messageIdPrefix = \"async-global-message-\";\n\tconst localeDetectionRegExp = /^\\/[\\w]{2}(-|_)[\\w]{2}\\/|^\\/(\\w{2})\\//;\n\n\tconst [storageViewedMessages, setStorageViewedMessages] = useSessionStorage(\n\t\t\"messageCenterViewed\",\n\t\t[]\n\t);\n\tconst [toggle, setToggle] = useState(true);\n\tconst [showViewed, setShowViewed] = useState(false);\n\tconst [messagesData, setMessagesData] = useState([]);\n\tconst [configuration, setConfiguration] = useState({});\n\tconst [messagesViewed, setMessagesViewed] = useState([]);\n\tconst [messages, setMessages] = useState([]);\n\n\tconst { response } = useFetch(content.apiUrl.messageCenter);\n\n\tuseEffect(() => {\n\t\tconst isInSite = document.referrer.match(disneySiteRegExp);\n\t\t!isInSite && setStorageViewedMessages([]);\n\t\tresponse?.descriptions?.length &&\n\t\t\tsetConfiguration(response.descriptions?.[0]?.sections);\n\t\tresponse?.alerts && setMessagesData(processMessages(response.alerts));\n\t\t//eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [response]);\n\n\tuseEffect(() => {\n\t\tconst viewed = messagesData.filter((message) => {\n\t\t\treturn message.viewed;\n\t\t});\n\n\t\tconst notViewed = messagesData.filter((message) => {\n\t\t\treturn !message.viewed;\n\t\t});\n\t\tsetMessagesViewed(viewed);\n\t\tsetMessages(notViewed);\n\t}, [messagesData]);\n\n\tuseEffect(() => {\n\t\tsetToggle(!!messages.length);\n\t\tsetShowViewed(!(!messages.length && messagesViewed.length));\n\t}, [messagesViewed, messages]);\n\n\tif (objectIsEmpty(configuration)) {\n\t\treturn null;\n\t}\n\n\tfunction processMessages(messages) {\n\t\tconst daysToExpire = 30;\n\t\tconst path = window.location.pathname.match(localeDetectionRegExp)\n\t\t\t? `/${window.location.pathname}`.replace(localeDetectionRegExp, \"\")\n\t\t\t: window.location.pathname;\n\n\t\treturn messages\n\t\t\t.filter((message) => {\n\t\t\t\tconst id = `${messageIdPrefix}${message.type}-${message.content?.length}`.replace(\n\t\t\t\t\t//eslint-disable-next-line no-useless-escape\n\t\t\t\t\t/[^A-Za-z0-9\\-]/g,\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\t\t\t\tmessage.id = id;\n\t\t\t\treturn hasToDisplay(message, path);\n\t\t\t})\n\t\t\t.map((message) => {\n\t\t\t\tif (message.type === \"terms\") message.expiration = daysToExpire;\n\t\t\t\tmessage.viewed = storageViewedMessages?.indexOf(message.id) !== -1;\n\t\t\t\tmessage.type = message.type?.toLowerCase().replace(/\\s/g, \"_\");\n\t\t\t\tmessage.content =\n\t\t\t\t\tmessage.content &&\n\t\t\t\t\tmessage.content !== \"&nbsp;\" &&\n\t\t\t\t\tmessage.content?.trim() !== \"\"\n\t\t\t\t\t\t? message.content\n\t\t\t\t\t\t: false;\n\t\t\t\treturn message;\n\t\t\t});\n\t}\n\n\tconst removeDuplicates = (messageIds) => {\n\t\treturn messageIds.filter((id, index, result) => {\n\t\t\treturn result.indexOf(id) === index;\n\t\t});\n\t};\n\n\tconst removeIdsFromViewed = (messageIds) => {\n\t\treturn messageIds.length\n\t\t\t? storageViewedMessages.filter(\n\t\t\t\t\t(viewed) => messageIds.indexOf(viewed) === -1\n\t\t\t  )\n\t\t\t: [];\n\t};\n\n\tconst toggleMessagesCenterHandler = () => {\n\t\tconst messagesIds = messages.map(({ id }) => id);\n\t\tconst messagesViewedIds = messagesViewed.map(({ id }) => id);\n\t\tif (toggle) {\n\t\t\tsetStorageViewedMessages(\n\t\t\t\tremoveDuplicates(\n\t\t\t\t\tstorageViewedMessages.concat(messagesIds).concat(messagesViewedIds)\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tsetStorageViewedMessages(removeIdsFromViewed(messagesViewedIds));\n\t\t}\n\t\tsetToggle((prevState) => !prevState);\n\t};\n\n\tconst toggleMessagesViewedHandler = () => {\n\t\tconst messagesViewedIds = messagesViewed.map(({ id }) => id);\n\t\tsetStorageViewedMessages(removeIdsFromViewed(messagesViewedIds));\n\t\tsetShowViewed((prevState) => !prevState);\n\t};\n\n\tconst closeMessageHandler = (id) => {\n\t\tif (id && brand) {\n\t\t\tconst updatedModel = {\n\t\t\t\tlinkId: `${brand.toUpperCase()}_${id}_Close`,\n\t\t\t};\n\t\t\ttrackLink(updatedModel, \"ViewModal\");\n\t\t}\n\t\tsetMessagesData(messagesData.filter((message) => message.id !== id));\n\t};\n\n\tconst renderMessage = (message, index) => (\n\t\t<Message\n\t\t\tdata={message}\n\t\t\tkey={message.id}\n\t\t\tconfiguration={configuration}\n\t\t\tcloseMessageHandler={closeMessageHandler}\n\t\t/>\n\t);\n\n\tfunction hasToDisplay(message, path) {\n\t\tconst exclude = message.exclude || [];\n\t\tconst cookieValue = getCookie(message.id);\n\n\t\tconst excluded = exclude.some((rule) =>\n\t\t\tpath.match(`^${rule.replace(\"*\", \".*\")}$`)\n\t\t);\n\t\treturn (\n\t\t\t!excluded &&\n\t\t\tmessage.pages?.some(\n\t\t\t\t(rule) => !cookieValue && path.match(`^${rule.replace(\"*\", \".*\")}$`)\n\t\t\t)\n\t\t);\n\t}\n\n\treturn (\n\t\tmessagesData.length > 0 && (\n\t\t\t<div className=\"syndicated-message-center\" data-nosnippet>\n\t\t\t\t<div className=\"syndicated-message-center__header\">\n\t\t\t\t\t<Container direction=\"row\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"syndicated-message-center__header__icon\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundImage: `url(${iconsPath}header.svg)`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\ti\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"syndicated-message-center__header__title\">\n\t\t\t\t\t\t\t{configuration.title}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"syndicated-message-center__header__toggle\"\n\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\tonClick={toggleMessagesCenterHandler}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{toggle ? configuration.viewLessText : configuration.readMoreText}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Container>\n\t\t\t\t</div>\n\t\t\t\t{toggle && (\n\t\t\t\t\t<div className=\"syndicated-message-center__content\">\n\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t{showViewed && !!messagesViewed.length && (\n\t\t\t\t\t\t\t\t<div className=\"syndicated-message-center__viewed-toggle-container\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"syndicated-message-center__viewed-toggle\"\n\t\t\t\t\t\t\t\t\t\tonClick={toggleMessagesViewedHandler}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{(messagesViewed.length > 1\n\t\t\t\t\t\t\t\t\t\t\t? configuration.viewedMessagesPlural || \"\"\n\t\t\t\t\t\t\t\t\t\t\t: configuration.viewedMessagesSingular || \"\"\n\t\t\t\t\t\t\t\t\t\t).replace(\"%s\", messagesViewed.length)}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!showViewed && messagesViewed.map(renderMessage)}\n\t\t\t\t\t\t\t{messages.map(renderMessage)}\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t);\n}\n\nconst Message = (props) => {\n\tconst daysOfOneYear = 365;\n\tconst {\n\t\tconfiguration,\n\t\tcloseMessageHandler,\n\t\tdata: { type, title, dismissible, content, id, expiration = daysOfOneYear },\n\t} = props;\n\n\tconst [display, setDisplay] = useState(true);\n\n\tconst getBackgroundIcon = (icon) => {\n\t\tif ([\"crisis\", \"capacity\"].includes(icon)) {\n\t\t\ticon = \"purple-alert\";\n\t\t} else if (icon === \"health_advisory\") {\n\t\t\ticon = \"yellow-alert\";\n\t\t}\n\n\t\treturn {\n\t\t\tbackgroundImage: `url(\"${iconsPath}${icon}.svg\")`,\n\t\t};\n\t};\n\n\tconst toggleDisplay = () => {\n\t\tsetCookie(id, true, expiration);\n\t\tsetDisplay(false);\n\t\tcloseMessageHandler(id);\n\t};\n\n\treturn (\n\t\tdisplay && (\n\t\t\t<div className=\"syndicated-message-center__message\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={`syndicated-message-center__message__icon\n\t\t\t\tsyndicated-message-center__message__icon--${type}`}\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tstyle={getBackgroundIcon(type)}\n\t\t\t\t>\n\t\t\t\t\ti\n\t\t\t\t</div>\n\t\t\t\t<div className=\"syndicated-message-center__message__data\">\n\t\t\t\t\t<div className=\"syndicated-message-center__message__data__title\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</div>\n\t\t\t\t\t{content && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"syndicated-message-center__message__data__content\"\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: content }}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{dismissible && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"syndicated-message-center__message__close\"\n\t\t\t\t\t\taria-label={configuration.closeText}\n\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\tonClick={toggleDisplay}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage: `url(${iconsPath}close.svg)`,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tx\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t);\n};\n\nexport default MessageCenter;\n","import Container from \"components/shared/Container\";\nimport Icon from \"components/shared/Icon\";\nimport Link from \"components/shared/Link\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { getCookie, setCookie } from \"utils/cookie\";\nimport { Context } from \"Context\";\n\nconst classTogglesCookieKey = \"classToggles_jar\";\nconst travelTradeMainClass = \"syndicated-travel-trade\";\nconst travelTradeAgentInformationClass = `${travelTradeMainClass}__agent-information`;\nconst canadaStoreSuffix = \"-ca\";\nconst guestSensitiveClass = \"guestSensitive\";\n\nconst removeSymbolsFromText = (text) => {\n\tif (text) {\n\t\treturn text.replace(/\\+/g, \" \");\n\t}\n\treturn \"\";\n};\n\nconst joinTexts = (firstText, secondText) => {\n\treturn removeSymbolsFromText(\n\t\t`${firstText || \"\"}${firstText && secondText ? \" \" : \"\"}${secondText || \"\"}`\n\t);\n};\n\nconst getClassTogglesCookieValue = () => {\n\tconst currentCookieValue = getCookie(classTogglesCookieKey);\n\tif (currentCookieValue) {\n\t\ttry {\n\t\t\tconst parsedValue = JSON.parse(decodeURIComponent(currentCookieValue));\n\t\t\tif (parsedValue && typeof parsedValue === \"object\") {\n\t\t\t\treturn parsedValue;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t}\n\treturn { travelAgentInfoHidden: false };\n};\n\nconst setClassTogglesCookie = (travelAgentInfoHidden) => {\n\tconst classTogglesCookieValue = getClassTogglesCookieValue() || {};\n\ttry {\n\t\tsetCookie(\n\t\t\tclassTogglesCookieKey,\n\t\t\tencodeURIComponent(\n\t\t\t\tJSON.stringify({ ...classTogglesCookieValue, travelAgentInfoHidden })\n\t\t\t),\n\t\t\t365\n\t\t);\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n};\n\nconst TravelTrade = () => {\n\tconst {\n\t\theaderData: { chrome },\n\t\tprofileData: { travelAgent },\n\t\tconfig: { store },\n\t} = useContext(Context);\n\tconst [expand, setExpand] = useState(\n\t\t!Boolean(getClassTogglesCookieValue()?.travelAgentInfoHidden)\n\t);\n\tconst [travelAgentData, setTravelAgentData] = useState(null);\n\tconst [travelAgentInfoLink, setTravelAgentInfoLink] = useState(null);\n\n\tconst readTravelAgentDataFromCookie = () => {\n\t\tconst ticketDataJarCookie = getCookie(\"TICKET_DATA_jar\");\n\t\tif (ticketDataJarCookie) {\n\t\t\ttry {\n\t\t\t\tconst travelAgentCookieData = JSON.parse(\n\t\t\t\t\tdecodeURIComponent(ticketDataJarCookie)\n\t\t\t\t);\n\t\t\t\tif (\n\t\t\t\t\ttravelAgentCookieData?.firstName &&\n\t\t\t\t\ttravelAgentCookieData?.agencyName\n\t\t\t\t) {\n\t\t\t\t\tconst {\n\t\t\t\t\t\temail: emailAddress,\n\t\t\t\t\t\tphone,\n\t\t\t\t\t\taddressLine1: line1,\n\t\t\t\t\t\taddressLine2: line2,\n\t\t\t\t\t\tcity,\n\t\t\t\t\t\tzipCode: postalCode,\n\t\t\t\t\t\tstate: stateOrProvince,\n\t\t\t\t\t\tcountry,\n\t\t\t\t\t\tagencyName: name,\n\t\t\t\t\t\tpartnerId,\n\t\t\t\t\t\tpartnerIdType,\n\t\t\t\t\t\t...rest\n\t\t\t\t\t} = travelAgentCookieData;\n\t\t\t\t\tsetTravelAgentData({\n\t\t\t\t\t\temailAddress,\n\t\t\t\t\t\ttravelAgency: {\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tpartnerId,\n\t\t\t\t\t\t\tpartnerIdType,\n\t\t\t\t\t\t\tphone,\n\t\t\t\t\t\t\taddress: {\n\t\t\t\t\t\t\t\tline1,\n\t\t\t\t\t\t\t\tline2,\n\t\t\t\t\t\t\t\tcity,\n\t\t\t\t\t\t\t\tstateOrProvince,\n\t\t\t\t\t\t\t\tpostalCode,\n\t\t\t\t\t\t\t\tcountry,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t...rest,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (travelAgentData) {\n\t\t\tsetClassTogglesCookie(!expand);\n\t\t\tdocument.dispatchEvent(\n\t\t\t\tnew CustomEvent(\"navigationTravelAgentInfo\", { detail: expand })\n\t\t\t);\n\t\t}\n\t}, [expand, travelAgentData]);\n\n\tuseEffect(() => {\n\t\tif (travelAgent?.firstName && travelAgent?.travelAgency) {\n\t\t\tsetTravelAgentData(travelAgent);\n\t\t} else if (travelAgent?.readDataFromCookie) {\n\t\t\treadTravelAgentDataFromCookie();\n\t\t}\n\t}, [travelAgent]);\n\n\tuseEffect(() => {\n\t\tif (\n\t\t\tchrome?.travelAgentInfoLinkCA &&\n\t\t\tstore?.substring(store?.length - canadaStoreSuffix.length) ===\n\t\t\t\tcanadaStoreSuffix\n\t\t) {\n\t\t\tsetTravelAgentInfoLink(chrome?.travelAgentInfoLinkCA);\n\t\t} else {\n\t\t\tsetTravelAgentInfoLink(chrome?.travelAgentInfoLink);\n\t\t}\n\t}, [chrome, store]);\n\n\treturn travelAgentData ? (\n\t\t<div className={travelTradeMainClass}>\n\t\t\t<Container direction=\"column\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${travelTradeAgentInformationClass} ${travelTradeAgentInformationClass}--${\n\t\t\t\t\t\texpand ? \"expanded\" : \" collapsed\"\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div className={`${travelTradeAgentInformationClass}__main`}>\n\t\t\t\t\t\t<h3 className={`${guestSensitiveClass}High`}>\n\t\t\t\t\t\t\t{removeSymbolsFromText(\n\t\t\t\t\t\t\t\t`${travelAgentData.firstName} ${travelAgentData.lastName}`\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p className={guestSensitiveClass}>\n\t\t\t\t\t\t\t{removeSymbolsFromText(travelAgentData.travelAgency?.name)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={`${travelTradeAgentInformationClass}__details`}>\n\t\t\t\t\t\t<p className={guestSensitiveClass}>\n\t\t\t\t\t\t\t{[\n\t\t\t\t\t\t\t\tjoinTexts(\n\t\t\t\t\t\t\t\t\ttravelAgentData.travelAgency?.address?.line1,\n\t\t\t\t\t\t\t\t\ttravelAgentData.travelAgency?.address?.line2\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ttravelAgentData.travelAgency?.address?.city,\n\t\t\t\t\t\t\t\ttravelAgentData.travelAgency?.address?.stateOrProvince,\n\t\t\t\t\t\t\t\ttravelAgentData.travelAgency?.address?.postalCode,\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t.filter((item) => item)\n\t\t\t\t\t\t\t\t.join(\", \")}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span className={guestSensitiveClass}>\n\t\t\t\t\t\t\t\t{travelAgentData.travelAgency?.phone\n\t\t\t\t\t\t\t\t\t? `${chrome?.phoneLabel?.toUpperCase() || \"\"}: ${\n\t\t\t\t\t\t\t\t\t\t\ttravelAgentData.travelAgency.phone\n\t\t\t\t\t\t\t\t\t  } | `\n\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{travelAgentData.travelAgency?.partnerIdType ||\n\t\t\t\t\t\t\t\t\tchrome?.travelAgentPartnerIdType}\n\t\t\t\t\t\t\t\t: {travelAgentData.travelAgency.partnerId}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={`${travelTradeAgentInformationClass}__link`}>\n\t\t\t\t\t\t{travelAgentInfoLink && <Link {...travelAgentInfoLink} />}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tclassName={`${travelTradeMainClass}__button${\n\t\t\t\t\t\texpand ? ` ${travelTradeMainClass}__button--expanded` : \"\"\n\t\t\t\t\t}`}\n\t\t\t\t\tonClick={() => setExpand(!expand)}\n\t\t\t\t>\n\t\t\t\t\t{expand ? chrome?.hideTravelAgentInfo : chrome?.showTravelAgentInfo}\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon=\"icon_expand-show-more\"\n\t\t\t\t\t\tclassName={expand ? \"syndicated-icon--rotate-180\" : \"\"}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t</Container>\n\t\t</div>\n\t) : null;\n};\n\nexport default TravelTrade;\n","import Link from \"components/shared/Link\";\nimport Image from \"components/shared/Image\";\n\nconst Card = ({ username, avatar, content }) => {\n\treturn (\n\t\t<Link {...content} className=\"syndicated-profile__card\">\n\t\t\t<Image\n\t\t\t\tname=\"avatar\"\n\t\t\t\timage={{\n\t\t\t\t\turl: avatar?.url,\n\t\t\t\t\ttitle: avatar?.title || content?.defaultAvatarTitle,\n\t\t\t\t\theight: 50,\n\t\t\t\t\twidth: 50,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<div className=\"syndicated-profile__card__details\">\n\t\t\t\t<h3 className=\"syndicated-profile__card__guest guestSensitive\">\n\t\t\t\t\t{username}\n\t\t\t\t</h3>\n\t\t\t\t<h4 className=\"syndicated-profile__card__label\">{content?.title}</h4>\n\t\t\t</div>\n\t\t</Link>\n\t);\n};\n\nexport default Card;\n","import useCheckMediaQuery from \"hooks/useCheckMediaQuery\";\nimport { mobileMediaQuery } from \"config.json\";\n\nconst MessageCountBadge = (props) => {\n\tconst isMobileView = useCheckMediaQuery(mobileMediaQuery);\n\tif (!props.counter || !props.action || isMobileView) {\n\t\treturn null;\n\t}\n\tconst mainClass = \"syndicated-message-badge\";\n\treturn (\n\t\t<button className={`${mainClass}${\"__button\"}`} onClick={props.action}>\n\t\t\t<div className={`${mainClass}${\"__content\"}`}>{props.counter}</div>\n\t\t</button>\n\t);\n};\nexport default MessageCountBadge;\n","import React, { useContext } from \"react\";\nimport Link from \"./Link\";\nimport { Context } from \"Context\";\nimport { Fragment } from \"react\";\nimport AccessibleText from \"./AccessibleText\";\n\nconst mainClass = \"syndicated-button\";\n\nconst Button = ({\n\tariaExpanded = null,\n\taccessibleText = \"\",\n\tchildren,\n\tclassName = \"\",\n\tcustomStyles = false,\n\tdisabled = null,\n\tlink = false,\n\tlinkContent = {},\n\tonClick = null,\n\tsecondary = false,\n\ttabIndex = null,\n\ttitle,\n\tstyle = null,\n}) => {\n\tconst { config: { brand } = {} } = useContext(Context);\n\n\tlet classes = className;\n\n\tif (!customStyles) {\n\t\tclasses += ` ${mainClass}`;\n\t\tclasses += ` ${mainClass}--${brand}`;\n\t\tclasses += ` ${mainClass}--${secondary ? \"secondary\" : \"primary\"}`;\n\t\tclasses += ` ${mainClass}--${link ? \"link\" : \"button\"}`;\n\t}\n\n\tconst renderButtonContent = () => {\n\t\tlet text = title;\n\t\tif (link && linkContent) {\n\t\t\ttext = linkContent.title;\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{text && (\n\t\t\t\t\t<span className={`${mainClass}__gradient`}>\n\t\t\t\t\t\t<span className={`${mainClass}__text`}>{text}</span>\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t\t{accessibleText && <AccessibleText>{accessibleText}</AccessibleText>}\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\treturn link ? (\n\t\t<Link {...linkContent} className={classes} role=\"button\">\n\t\t\t{renderButtonContent()}\n\t\t</Link>\n\t) : (\n\t\t<button\n\t\t\taria-expanded={ariaExpanded}\n\t\t\tclassName={classes}\n\t\t\tonClick={onClick}\n\t\t\ttabIndex={tabIndex}\n\t\t\tdisabled={disabled}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t{renderButtonContent()}\n\t\t</button>\n\t);\n};\n\nexport default Button;\n","import React, { Fragment, useState, useEffect, useContext } from \"react\";\nimport Loading from \"components/shared/Loading\";\nimport Separator from \"components/shared/Separator\";\nimport Button from \"components/shared/Button\";\nimport Link from \"components/shared/Link\";\nimport useFetch from \"hooks/useFetch\";\nimport { Context } from \"Context\";\nimport { mapString } from \"utils\";\nimport { getCookie } from \"utils/cookie\";\nimport useLocalStorage from \"hooks/useLocalStorage\";\nimport config from \"config.json\";\n\nconst NotificationsModalContent = (props) => {\n\tconst [syndicatedDismissButton, setSyndicatedDismissButton] = useLocalStorage(\n\t\t\"syndicatedDismissButton\",\n\t\tfalse\n\t);\n\tconst { origin } = window.location;\n\tconst swidCookieName = \"SWID\";\n\tconst authTokenCookieName = \"pep_oauth_token\";\n\tconst {\n\t\theaderData: {\n\t\t\tinterstitial: { interstitialNotificationsModal },\n\t\t},\n\t} = useContext(Context);\n\tconst [swid, setSwid] = useState(null);\n\tconst [authToken, setAuthToken] = useState(null);\n\tconst { messages, updateNotificationsAction } = props;\n\tconst mainClass = \"syndicated-notifications-modal\";\n\tconst [fetchTrigger, setFetchTrigger] = useState(0);\n\tconst [optionParams, setOptionsParams] = useState(null);\n\tconst [requestUrl, setRequestUrl] = useState(\"\");\n\tconst { response } = useFetch(\n\t\trequestUrl ? requestUrl : \"\",\n\t\toptionParams,\n\t\t0,\n\t\tfetchTrigger\n\t);\n\n\tconst handleNotificationAction = (links, operationType) => {\n\t\tif (!operationType) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet invitationId;\n\t\tconst hrefData = links[operationType].href;\n\t\tconst options = links[operationType].post;\n\n\t\tconst apiUrl = config.profile.apiUrl;\n\t\tconst friendSwid = hrefData.split(\"/\")[3] || \"\";\n\t\tconst headers = {\n\t\t\t...options.headers,\n\t\t\tswid: swid,\n\t\t\ttoken: authToken,\n\t\t};\n\n\t\tsetOptionsParams({\n\t\t\tmethod: \"PUT\",\n\t\t\theaders,\n\t\t\tbody: JSON.stringify(options.body),\n\t\t});\n\t\tswitch (operationType) {\n\t\t\tcase \"accept\":\n\t\t\t\tinvitationId = links[operationType].post.body[\"invitation-id\"];\n\t\t\t\tsetRequestUrl(\n\t\t\t\t\t`${apiUrl}/${friendSwid}/${operationType}/${invitationId}`\n\t\t\t\t);\n\t\t\t\tupdateNotificationsAction(links.self.href);\n\t\t\t\tsetFetchTrigger((fetch) => fetch + 1);\n\t\t\t\tbreak;\n\t\t\tcase \"decline\":\n\t\t\t\tinvitationId = hrefData.split(\"/\")[5] || \"\";\n\t\t\t\tsetRequestUrl(\n\t\t\t\t\t`${apiUrl}/${friendSwid}/${operationType}/${invitationId}`\n\t\t\t\t);\n\t\t\t\tupdateNotificationsAction(links.self.href);\n\t\t\t\tsetFetchTrigger((fetch) => fetch + 1);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tconst toggleElement = (elems) => {\n\t\tconst elemsArray = elems.split(\" \");\n\t\telemsArray.forEach((item) => {\n\t\t\tconst toggleElem = document.querySelector(item);\n\t\t\ttoggleElem.classList.toggle(`${mainClass}${\"--hidden\"}`);\n\t\t});\n\n\t\tif (elems.indexOf(\".top\") >= 0) {\n\t\t\tsetSyndicatedDismissButton(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (response !== null) {\n\t\t\tif (interstitialNotificationsModal.redirectLink) {\n\t\t\t\twindow.location.assign(\n\t\t\t\t\t`${origin}/${interstitialNotificationsModal.redirectLink}`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [response]);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\tconst authTokenCookie = getCookie(authTokenCookieName);\n\t\t\tconst swidCookie = getCookie(swidCookieName);\n\n\t\t\tauthTokenCookie && setAuthToken(authTokenCookie);\n\t\t\tswidCookie && setSwid(swidCookie);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className={`${mainClass}${\"__title-bar\"}`}>\n\t\t\t\t<h1>{interstitialNotificationsModal.title}</h1>\n\t\t\t</div>\n\t\t\t<div className={`${mainClass}${\"__container\"}`}>\n\t\t\t\t<div className={`${mainClass}${\"__messages-list\"}`}>\n\t\t\t\t\t{messages ? (\n\t\t\t\t\t\tmessages.map((message, index) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`${mainClass}${\"__message-item\"} guestSensitive`}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className={\"message-bullet\"}></span>{\" \"}\n\t\t\t\t\t\t\t\t{mapString(\n\t\t\t\t\t\t\t\t\tinterstitialNotificationsModal.invitationMessage,\n\t\t\t\t\t\t\t\t\t`${message.issuedBy.firstName} ${message.issuedBy.lastName}`\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className={`${mainClass}${\"__option-links\"}`}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`${mainClass}${\"__button\"}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\thandleNotificationAction(message.links, \"accept\")\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{interstitialNotificationsModal.invitationAccept}\n\t\t\t\t\t\t\t\t\t</button>{\" \"}\n\t\t\t\t\t\t\t\t\t|{\" \"}\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`${mainClass}${\"__button\"}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\thandleNotificationAction(message.links, \"decline\")\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{interstitialNotificationsModal.invitationDecline}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Loading />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tclassName={`${mainClass}${\"__show-hide-legal-disclaimer\"} ${mainClass}${\"__button\"}`}\n\t\t\t\t\tonClick={() => toggleElement(`.${mainClass}${\"__legal-disclaimer\"}`)}\n\t\t\t\t>\n\t\t\t\t\t{interstitialNotificationsModal.showHideLegalDisclaimer}\n\t\t\t\t</button>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${mainClass}${\"__legal-disclaimer\"} ${mainClass}${\"--hidden\"}`}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: interstitialNotificationsModal.legalDisclaimer,\n\t\t\t\t\t\t}}\n\t\t\t\t\t></div>\n\t\t\t\t</div>\n\t\t\t\t{!syndicatedDismissButton && (\n\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t<Separator horizontal />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{!syndicatedDismissButton && (\n\t\t\t\t\t<div className={`${mainClass}${\"__footer\"}`}>\n\t\t\t\t\t\t<div className={`${mainClass}${\"__dismiss-text\"}`}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`${mainClass}${\"__dismiss-text--description\"}`}\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: interstitialNotificationsModal.description,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>{\" \"}\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\thref={interstitialNotificationsModal.webLink.href}\n\t\t\t\t\t\t\t\ttitle={interstitialNotificationsModal.webLink.title}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={`${mainClass}${\"__dismiss-button\"}`}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={`modal-dismiss-link ${mainClass}${\"__button\"}`}\n\t\t\t\t\t\t\t\tonClick={() => toggleElement(`.${mainClass}${\"__footer\"} .top`)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{interstitialNotificationsModal.dismiss}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Separator horizontal />\n\t\t\t<div className={`${mainClass}${\"__modal-buttons\"}`}>\n\t\t\t\t<Button\n\t\t\t\t\tclassName={`${mainClass}${\"__button-check-out\"}`}\n\t\t\t\t\tonClick={props.action}\n\t\t\t\t\ttitle={interstitialNotificationsModal.secondaryButton}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nexport default NotificationsModalContent;\n","import { useContext, useState, useEffect, Fragment } from \"react\";\nimport { Context } from \"Context\";\nimport { mapString, getLoginUrl } from \"utils\";\nimport Link from \"components/shared/Link\";\nimport Icon from \"components/shared/Icon\";\nimport Card from \"./Card\";\nimport MessageCountBadge from \"./MessageCountBadge\";\nimport NotificationsModalContent from \"./NotificationsModalContent\";\nimport { brands } from \"config.json\";\n\nconst accountContainer = \"accountContainer\";\nconst containerClass = \"syndicated-profile__container\";\nconst messagesProperty = \"received-invitations\";\nconst targetOneId = \"ngeGate\";\n\nconst Profile = ({\n\tuserStatusLinks = false, //if true, it should render sign In/sign out links\n\tusername = false, //if true, it should render username link\n\treservation = false, //if true, it should render reservation link (available only in aulani and only rendered when the user is logged-in)\n\tcard = false, //if true, card component is rendered (link with the logged-in user's avatar)\n\toneId = false, //if true, the component passed in the renderComponent prop gets a handleClick event attached to integrate with OneId\n\ttarget = null, //if not empty and oneId prop is true, then a handleClick event is attached to integrate with OneId\n\tshowIcon = false, //if true, the link(s) will be rendered with the icon(s) coming from content\n\tnotLoggedIn = false, //if true, the handleClick will only be attached to the component rendered by renderComponent if the user is not logged-in\n\trenderComponent = null, //function with the component to which adds the handleClick event with the OneId integration\n\tredirectOnLogin = false, //if true, a redirection is made after logging in\n}) => {\n\tconst {\n\t\tconfig: { brand, profile },\n\t\tprofileData: {\n\t\t\tisLoading,\n\t\t\tuser = null,\n\t\t\tisOneIdSource,\n\t\t\thandleClick,\n\t\t\tsetUser,\n\t\t\thandleLogin,\n\t\t\thandleLogout,\n\t\t\thandleProfile,\n\t\t\ttravelAgent,\n\t\t} = {},\n\t\theaderData,\n\t\tsetModal,\n\t} = useContext(Context);\n\tconst [messages, setMessages] = useState([]);\n\tconst [isUpdatingMessages, setIsUpdatingMessages] = useState(false);\n\tconst brandConfig = brands?.[brand];\n\tconst isUserTypeRequired = brandConfig?.isUserTypeRequiredForContentRequest;\n\tconst {\n\t\tsignedIn,\n\t\ttravelAgentSignedIn,\n\t\tsignOut,\n\t\ttravelAgentSignOut,\n\t\tsignIn,\n\t\ttravelAgentSignIn,\n\t\treservationContent,\n\t\treservationIcon,\n\t\tprofile: profileContent,\n\t\tcard: cardContent,\n\t\tdefaultAvatarTitle,\n\t\tcreateAccount,\n\t\torLabel,\n\t} = headerData.chrome || {};\n\tconst signedInContent = signedIn || travelAgentSignedIn;\n\tconst signOutContent = signOut || travelAgentSignOut;\n\tconst signInContent = signIn || travelAgentSignIn;\n\n\tuseEffect(() => {\n\t\tif (user?.messages) {\n\t\t\tsetMessages(user?.messages[messagesProperty]);\n\t\t\tif (isUpdatingMessages) {\n\t\t\t\tsetModal({ content: modalContent() });\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [user]);\n\n\tif (isLoading) return null;\n\n\tif (renderComponent && oneId) {\n\t\tconst handleClickAttached = (e) => {\n\t\t\tif (target !== targetOneId) return null;\n\t\t\tif (!profile || !isOneIdSource || (notLoggedIn && user)) return null;\n\t\t\tif (user)\n\t\t\t\thandleProfile(e, redirectOnLogin ? e?.currentTarget?.href : null);\n\t\t\telse handleLogin(e, redirectOnLogin ? e?.currentTarget?.href : null);\n\t\t};\n\t\treturn renderComponent(handleClickAttached);\n\t}\n\n\tif (!profile) return null;\n\n\tconst handleShowNotifications = () => {\n\t\tsetModal({ content: modalContent() });\n\t};\n\n\tconst handleHideNotifications = () => {\n\t\tsetModal(false);\n\t};\n\n\tconst handleUpdateNotifications = (messageToRemove) => {\n\t\tsetIsUpdatingMessages(true);\n\t\tconst updatedMessages = messages.filter(\n\t\t\t(element) => element.links.self.href !== messageToRemove\n\t\t);\n\t\tconst updatedUser = { ...user };\n\t\tupdatedUser.messages[messagesProperty] = updatedMessages;\n\t\tsetUser({ ...updatedUser });\n\t\tsetMessages([...updatedMessages]);\n\t};\n\n\tconst modalContent = () => {\n\t\treturn (\n\t\t\t<NotificationsModalContent\n\t\t\t\taction={handleHideNotifications}\n\t\t\t\tupdateNotificationsAction={handleUpdateNotifications}\n\t\t\t\tmessages={messages}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn headerData.chrome ? (\n\t\tuser || (travelAgent?.firstName && isUserTypeRequired) ? (\n\t\t\t<Fragment>\n\t\t\t\t{username && signedInContent && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`${accountContainer} ${containerClass} ${containerClass}--guest ${containerClass}--${brand}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t{...signedInContent}\n\t\t\t\t\t\t\tclassName={`${containerClass}__link--guest guestSensitive`}\n\t\t\t\t\t\t\ttitle={mapString(\n\t\t\t\t\t\t\t\tsignedInContent.title,\n\t\t\t\t\t\t\t\t(user || travelAgent)?.firstName\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\thandleClick={(event) => handleProfile(event)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{messages && (\n\t\t\t\t\t\t\t<MessageCountBadge\n\t\t\t\t\t\t\t\taction={handleShowNotifications}\n\t\t\t\t\t\t\t\tcounter={messages.length}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{reservation && reservationContent && (\n\t\t\t\t\t<div className={`${accountContainer} ${containerClass}`}>\n\t\t\t\t\t\t<Link {...reservationContent} className={`${containerClass}__link`}>\n\t\t\t\t\t\t\t{showIcon && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<Icon icon={reservationIcon} />\n\t\t\t\t\t\t\t\t\t{reservationContent?.title}\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{userStatusLinks && signOutContent && (\n\t\t\t\t\t<div className={`${accountContainer} ${containerClass}`}>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t{...signOutContent}\n\t\t\t\t\t\t\tclassName={`${containerClass}__link signOut`}\n\t\t\t\t\t\t\thandleClick={(event) => handleLogout(event)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{showIcon && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<Icon icon={profileContent?.icon} />\n\t\t\t\t\t\t\t\t\t{signOutContent.title}\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{card && cardContent && (\n\t\t\t\t\t<Card\n\t\t\t\t\t\tusername={user?.firstName}\n\t\t\t\t\t\tavatar={user?.avatar}\n\t\t\t\t\t\tcontent={{\n\t\t\t\t\t\t\t...cardContent,\n\t\t\t\t\t\t\tdefaultAvatarTitle,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Fragment>\n\t\t) : userStatusLinks && (signInContent || createAccount) ? (\n\t\t\t<div className={`${accountContainer} ${containerClass}`}>\n\t\t\t\t{signInContent && (\n\t\t\t\t\t<Link\n\t\t\t\t\t\t{...signInContent}\n\t\t\t\t\t\thref={getLoginUrl(signInContent.href)}\n\t\t\t\t\t\tclassName={`${containerClass}__link signIn`}\n\t\t\t\t\t\thandleClick={(event) => handleLogin(event)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{showIcon && !createAccount && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<Icon icon={profileContent?.icon} />\n\t\t\t\t\t\t\t\t{signInContent?.title}\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t\t<span>{orLabel}</span>\n\t\t\t\t{createAccount && (\n\t\t\t\t\t<Link\n\t\t\t\t\t\t{...createAccount}\n\t\t\t\t\t\tclassName={`${containerClass}__link`}\n\t\t\t\t\t\thandleClick={handleClick(\"launchRegistration\")}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t) : null\n\t) : null;\n};\n\nexport default Profile;\n","import React from \"react\";\nimport Link from \"components/shared/Link\";\nimport Icon from \"components/shared/Icon\";\nimport { Fragment } from \"react\";\nimport Profile from \"components/header/profile/Profile\";\nimport AccessibleText from \"components/shared/AccessibleText\";\nimport { getCdn } from \"utils\";\n\nconst SectionTitle = (props) => {\n\tconst {\n\t\tcollapse,\n\t\tlink,\n\t\tname,\n\t\ticon = \"\",\n\t\ttitle = \"\",\n\t\tisMobileView = false,\n\t\taccessibiltyText,\n\t} = props;\n\tconst mainClass = \"syndicated-section-title\";\n\tconst targetOneId = \"ngeGate\";\n\tconst inlineStyles = {};\n\n\tif (name === \"mdx\") {\n\t\tinlineStyles.backgroundImage = `url(${getCdn(true)}/icons/header/mdx.svg)`;\n\t}\n\n\tconst linkContent = (\n\t\t<Fragment>\n\t\t\t<Icon\n\t\t\t\ticon={\"norgie-closed\"}\n\t\t\t\trotate={collapse}\n\t\t\t\tclassName={`${mainClass}__link__icon ${mainClass}__link__icon--norgie-closed`}\n\t\t\t/>\n\t\t\t<Icon\n\t\t\t\ticon={icon}\n\t\t\t\tclassName={`${mainClass}__link__icon ${mainClass}__link__icon--${name}`}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tclassName={`${mainClass}__link__category--${name}`}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: title }}\n\t\t\t\tstyle={inlineStyles}\n\t\t\t/>\n\t\t\t{accessibiltyText && <AccessibleText>{accessibiltyText}</AccessibleText>}\n\t\t</Fragment>\n\t);\n\n\treturn (\n\t\t<div className={`${mainClass} ${mainClass}--${name}`}>\n\t\t\t{!isMobileView && link?.target === targetOneId ? (\n\t\t\t\t<Profile\n\t\t\t\t\toneId\n\t\t\t\t\tnotLoggedIn\n\t\t\t\t\ttarget={link.target}\n\t\t\t\t\trenderComponent={(handleClick) => (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t{...link}\n\t\t\t\t\t\t\thandleClick={handleClick}\n\t\t\t\t\t\t\tclassName={`${mainClass}__link`}\n\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{linkContent}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Link {...link} className={`${mainClass}__link`} role=\"menuitem\">\n\t\t\t\t\t{linkContent}\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default SectionTitle;\n","import { getCdn } from \"utils\";\nimport Image from \"./Image\";\nconst fairyName = \"fairy\";\n\nconst Fairy = () => (\n\t<div className=\"syndicated-fairy\">\n\t\t<Image\n\t\t\tname={fairyName}\n\t\t\timage={{\n\t\t\t\turl: `${getCdn()}/images/header/fairy.png`,\n\t\t\t\ttitle: fairyName,\n\t\t\t}}\n\t\t/>\n\t</div>\n);\n\nexport default Fairy;\n","import Fairy from \"components/shared/Fairy\";\nimport { useContext } from \"react\";\nimport { Context } from \"Context\";\n\nconst flyoutMainClass = \"syndicated-flyout\";\nconst sectionHelp = \"help\";\n\nconst Flyout = ({\n\tright = false,\n\tcolumn = false,\n\tname = \"\",\n\tstore,\n\tchildren,\n}) => {\n\tlet classes = \"\";\n\tif (name) classes += ` ${flyoutMainClass}--${name}`;\n\tif (right) classes += ` ${flyoutMainClass}--right`;\n\tif (column) classes += ` ${flyoutMainClass}--column`;\n\tif (store) classes += ` ${flyoutMainClass}--store`;\n\n\treturn <div className={`${flyoutMainClass}${classes}`}>{children}</div>;\n};\n\nconst Primary = (props) => {\n\tconst {\n\t\tconfig: { brand },\n\t} = useContext(Context);\n\tconst { theme = \"\", name = \"\", isMobileView = false } = props;\n\tconst mainClass = `${flyoutMainClass}__primary`;\n\tconst themeModifier = theme ? `${mainClass}--${theme}` : \"\";\n\tconst nameModifier = name ? `${mainClass}--${name}` : \"\";\n\tconst addFairyComponent =\n\t\tbrand === \"wdw\" && name === sectionHelp && !isMobileView;\n\n\treturn (\n\t\t<div className={`${mainClass} ${themeModifier} ${nameModifier}`}>\n\t\t\t{addFairyComponent && <Fairy />}\n\t\t\t{props.children}\n\t\t</div>\n\t);\n};\n\nconst Secondary = (props) => {\n\tconst { theme = \"\", name = \"\" } = props;\n\n\tconst mainClass = `${flyoutMainClass}__secondary`;\n\tconst themeModifier = theme ? `${mainClass}--${theme}` : \"\";\n\tconst nameModifier = name ? `${mainClass}--${name}` : \"\";\n\n\treturn (\n\t\t<div className={`${mainClass} ${themeModifier} ${nameModifier}`}>\n\t\t\t{props.children}\n\t\t</div>\n\t);\n};\n\nFlyout.Primary = Primary;\nFlyout.Secondary = Secondary;\nexport default Flyout;\n","import { useState, useContext } from \"react\";\nimport Link from \"components/shared/Link\";\nimport Button from \"components/shared/Button\";\nimport Icon from \"components/shared/Icon\";\nimport Profile from \"components/header/profile/Profile\";\nimport Container from \"components/shared/Container\";\nimport Separator from \"components/shared/Separator\";\nimport { Context } from \"Context\";\n\nconst mainClass = \"syndicated-section__content__footer\";\nconst currencyChangeSectionClass = `${mainClass}__currency-change`;\n\nconst Footer = ({\n\tbrand,\n\tprice = {},\n\tbuttons: { checkOut, viewCartCheckOut, viewDetails } = {},\n\tshowLink = true,\n\tshowButtons = true,\n\tcurrencyChangeDetail = null,\n\tstartOver = null,\n\temptyCart = null,\n}) => {\n\tconst {\n\t\tconfig: { store },\n\t\theaderData: {\n\t\t\tinterstitial: { interstitialEmptyCart },\n\t\t},\n\t\tsetModal,\n\t} = useContext(Context);\n\n\tconst { label = \"\", total = \"\", currency = \"\", symbol = \"\" } = price;\n\n\tconst buttonLink = (showLink ? checkOut : viewCartCheckOut) || {};\n\n\tconst [showDisclaimer, setShowDisclaimer] = useState(false);\n\n\tconst handleDisclaimerToggle = (e) => {\n\t\te.preventDefault();\n\t\tsetShowDisclaimer(!showDisclaimer);\n\t};\n\n\tconst getEmptyCartRedirectUrl = () => {\n\t\tconst emptyCartUrl = interstitialEmptyCart?.webLink?.href;\n\t\treturn emptyCartUrl\n\t\t\t? `${window.location.origin}${emptyCartUrl}${store}/`\n\t\t\t: \"\";\n\t};\n\n\treturn (\n\t\t<div className={`${mainClass} ${mainClass}--${brand}`}>\n\t\t\t<div className={`${mainClass}__total ${mainClass}__total--${brand}`}>\n\t\t\t\t<span\n\t\t\t\t\tclassName={`${mainClass}__total__label ${mainClass}__total__label--${brand}`}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t<span className={`${mainClass}__total__content`}>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={`${mainClass}__total__content__value ${mainClass}__total__content__value--${brand}`}\n\t\t\t\t\t>{`${symbol}${total}`}</span>\n\t\t\t\t\t{currency && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={`${mainClass}__total__content__currency ${mainClass}__total__content__currency--${brand}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{currency}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t{currencyChangeDetail && (\n\t\t\t\t<div className={currencyChangeSectionClass}>\n\t\t\t\t\t<p className={`${currencyChangeSectionClass}--currency-charged`}>\n\t\t\t\t\t\t{currencyChangeDetail.currencyCharged}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className={`${currencyChangeSectionClass}--estimated-cost`}>\n\t\t\t\t\t\t{currencyChangeDetail.estimatedCost}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className={`${currencyChangeSectionClass}__total`}>\n\t\t\t\t\t\t<span>{currencyChangeDetail.total}</span>\n\t\t\t\t\t\t<span className={`${currencyChangeSectionClass}__total__currency`}>\n\t\t\t\t\t\t\t{currencyChangeDetail.currency}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className={`${currencyChangeSectionClass}__disclaimer`}>\n\t\t\t\t\t\t<button onClick={handleDisclaimerToggle}>\n\t\t\t\t\t\t\t{currencyChangeDetail.disclaimerTitle}\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\ticon={\"norgie-opened\"}\n\t\t\t\t\t\t\t\tclassName={showDisclaimer ? \"syndicated-icon--rotate-180\" : \"\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{showDisclaimer && <p>{currencyChangeDetail.disclaimerText}</p>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{showButtons && (\n\t\t\t\t<div className={`${mainClass}__button ${mainClass}__button--${brand}`}>\n\t\t\t\t\t{showLink && (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t{...viewDetails}\n\t\t\t\t\t\t\tclassName={`${mainClass}__button--view-details`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<Profile\n\t\t\t\t\t\toneId\n\t\t\t\t\t\tnotLoggedIn\n\t\t\t\t\t\tredirectOnLogin\n\t\t\t\t\t\ttarget={buttonLink.target}\n\t\t\t\t\t\trenderComponent={(handleClick) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={`${mainClass}__button--check-out`}\n\t\t\t\t\t\t\t\tlink={true}\n\t\t\t\t\t\t\t\tlinkContent={{ ...buttonLink, handleClick }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{store && emptyCart && (\n\t\t\t\t<div className={`${mainClass}__empty-cart`}>\n\t\t\t\t\t<Separator />\n\t\t\t\t\t<Container direction=\"row\">\n\t\t\t\t\t\t<span>{startOver}</span>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttitle={emptyCart}\n\t\t\t\t\t\t\tsecondary={true}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tsetModal({\n\t\t\t\t\t\t\t\t\ttitle: interstitialEmptyCart?.title,\n\t\t\t\t\t\t\t\t\tcontent: interstitialEmptyCart?.description,\n\t\t\t\t\t\t\t\t\tprimaryButton: interstitialEmptyCart?.primaryButton,\n\t\t\t\t\t\t\t\t\tsecondaryButton: interstitialEmptyCart?.secondaryButton,\n\t\t\t\t\t\t\t\t\thref: getEmptyCartRedirectUrl(),\n\t\t\t\t\t\t\t\t\ttarget: interstitialEmptyCart?.webLink?.target,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Container>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Footer;\n","const Title = ({ title = \"\", subTitle = \"\", name = \"\", noWrap = false }) => {\n\tconst mainClass = \"syndicated-title\";\n\tlet classes = mainClass;\n\tif (name) classes += ` ${mainClass}--${name}`;\n\n\tlet mainTitleClass = `${mainClass}__heading`;\n\tif (noWrap) mainTitleClass += ` ${mainTitleClass}--no-wrap`;\n\n\treturn (\n\t\t(title || subTitle) && (\n\t\t\t<div className={classes}>\n\t\t\t\t{title && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={mainTitleClass}\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: title }}\n\t\t\t\t\t></div>\n\t\t\t\t)}\n\t\t\t\t{subTitle && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`${mainClass}__subtitle`}\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: subTitle }}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t);\n};\n\nexport default Title;\n","import { Fragment } from \"react\";\nimport Title from \"components/shared/Title\";\n\nconst Flight = ({ content }) => {\n\tconst mainClass = \"syndicated-section__content__item\";\n\treturn (\n\t\t<div className={`${mainClass} ${mainClass}--flight`}>\n\t\t\t{content.arrival && content.departure ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Title name=\"arrival\" subTitle={content.arrival} />\n\t\t\t\t\t<Title name=\"departure\" subTitle={content.departure} />\n\t\t\t\t</Fragment>\n\t\t\t) : (\n\t\t\t\t<Title name=\"flight\" subTitle={content} />\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Flight;\n","import React from \"react\";\nimport Title from \"components/shared/Title\";\n\nconst RoomItem = ({ partyMix = \"\", reservationDates = \"\", content = \"\" }) => {\n\tconst mainClass = \"syndicated-section__content__item\";\n\n\treturn (\n\t\t<div className={`${mainClass} ${mainClass}--room`}>\n\t\t\t<Title name=\"dates\" subTitle={reservationDates} />\n\t\t\t<Title name=\"party-mix\" subTitle={partyMix} />\n\t\t\t<Title name=\"content\" subTitle={content} />\n\t\t</div>\n\t);\n};\n\nexport default RoomItem;\n","import React from \"react\";\nimport Title from \"components/shared/Title\";\nimport Flight from \"./FlightItem\";\nimport Room from \"./RoomItem\";\n\nconst Item = (props) => {\n\tconst { category = \"\", type = \"\", title = \"\", content = \"\" } = props;\n\n\tconst mainClass = \"syndicated-section__content__item\";\n\tlet classes = mainClass;\n\tconst name = type || category;\n\n\tif (name) classes += ` ${mainClass}--${name}`;\n\n\tif (category === \"room\") return <Room {...content} />;\n\n\tif (category === \"flight\") return <Flight {...props} />;\n\n\treturn (\n\t\t<div className={classes}>\n\t\t\t<Title name={name} title={title} subTitle={content} />\n\t\t</div>\n\t);\n};\n\nexport default Item;\n","import React, { Fragment } from \"react\";\nimport Item from \"./Item\";\nimport Separator from \"components/shared/Separator\";\nimport { arrayIsEmpty } from \"utils\";\n\nconst Composite = ({\n\tcategory,\n\ttitle,\n\titems,\n\tseparateItems = false,\n\tseparateTitle = true,\n}) => {\n\tconst mainClass = \"syndicated-section__content__composite\";\n\tlet classes = mainClass;\n\tif (category) classes += ` ${mainClass}--${category}`;\n\n\tif (arrayIsEmpty(items)) return null;\n\n\treturn (\n\t\t<div className={classes}>\n\t\t\t{title ? (\n\t\t\t\t<div className={`${mainClass}__title`}>{title}</div>\n\t\t\t) : (\n\t\t\t\tseparateTitle && <Separator />\n\t\t\t)}\n\t\t\t{items.map((item, key) => (\n\t\t\t\t<Fragment key={key}>\n\t\t\t\t\t<Item {...item} />\n\t\t\t\t\t{separateItems && <Separator />}\n\t\t\t\t</Fragment>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default Composite;\n","import React from \"react\";\n\nconst Message = ({ label, content }) => {\n\tconst mainClass = \"syndicated-section__content__message\";\n\treturn (\n\t\t<div className={`${mainClass}`}>\n\t\t\t<p className={`${mainClass}__title`}>{label}</p>\n\t\t\t<p\n\t\t\t\tclassName={`${mainClass}__content`}\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: content,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Message;\n","import { Fragment } from \"react\";\nimport Footer from \"./Footer\";\nimport Composite from \"./CompositeItem\";\nimport Message from \"./Message\";\nimport Separator from \"components/shared/Separator\";\nimport { arrayIsEmpty, objectIsEmpty } from \"utils\";\n\nconst Full = ({\n\tbrand,\n\tmessage,\n\tcompositeItems,\n\tstandaloneItems,\n\tstandaloneItemsTitle,\n\tcurrencyChangeDetail,\n\tprice,\n\tbuttons,\n\tstartOver,\n\temptyCart,\n}) => (\n\t<Fragment>\n\t\t{!objectIsEmpty(message) && <Message {...message} />}\n\t\t{!arrayIsEmpty(compositeItems) &&\n\t\t\tcompositeItems.map((item, key) => (\n\t\t\t\t<Fragment key={key}>\n\t\t\t\t\t<Separator />\n\t\t\t\t\t<Composite\n\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\tcategory={item.category}\n\t\t\t\t\t\titems={item.items}\n\t\t\t\t\t\tseparateTitle={false}\n\t\t\t\t\t\tseparateItems={item?.separateItems}\n\t\t\t\t\t/>\n\t\t\t\t\t<Separator />\n\t\t\t\t</Fragment>\n\t\t\t))}\n\t\t{!arrayIsEmpty(standaloneItems) && (\n\t\t\t<Composite\n\t\t\t\ttitle={standaloneItemsTitle}\n\t\t\t\tcategory=\"standalone\"\n\t\t\t\titems={standaloneItems}\n\t\t\t\tseparateItems={true}\n\t\t\t/>\n\t\t)}\n\t\t{(!arrayIsEmpty(compositeItems) || !arrayIsEmpty(standaloneItems)) && (\n\t\t\t<Footer\n\t\t\t\tbrand={brand}\n\t\t\t\tprice={price}\n\t\t\t\tshowLink={objectIsEmpty(message)}\n\t\t\t\tbuttons={buttons}\n\t\t\t\tcurrencyChangeDetail={currencyChangeDetail}\n\t\t\t\tstartOver={startOver}\n\t\t\t\temptyCart={emptyCart}\n\t\t\t/>\n\t\t)}\n\t</Fragment>\n);\n\nexport default Full;\n","import Icon from \"components/shared/Icon\";\nimport Link from \"components/shared/Link\";\nimport { Context } from \"Context\";\nimport { Fragment, useContext } from \"react\";\nimport { mapString } from \"utils\";\n\nconst currentDate = new Date().toISOString().split(\"T\")[0];\nconst scheduleClass = \"syndicated-schedule\";\nconst scheduleContainerClass = `${scheduleClass}__container`;\n\nconst Schedule = ({\n\tdescription,\n\tlink,\n\tlinkClass = \"\",\n\tlistItemClass = \"\",\n}) => {\n\tconst {\n\t\theaderData: { chrome },\n\t} = useContext(Context);\n\n\tif (!description?.parkHour?.schedule?.schedules) {\n\t\treturn null;\n\t}\n\n\tconst renderClosedSchedules = (type, opened) => {\n\t\treturn opened === false ? chrome?.[`${type.toLowerCase()}Park`] : \"\";\n\t};\n\n\tconst renderSchedules = () => {\n\t\tconst schedules = description?.parkHour?.schedule?.schedules;\n\t\treturn (schedules || []).map((schedule, index) => {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tkey={index}\n\t\t\t\t\titemProp=\"openingHoursSpecification\"\n\t\t\t\t\titemScope=\"\"\n\t\t\t\t\titemType=\"http://schema.org/OpeningHoursSpecification\"\n\t\t\t\t\tclassName={`${scheduleContainerClass}__hours__specification ${scheduleContainerClass}__hours__specification--${\n\t\t\t\t\t\tschedule.opened ? \"opened\" : \"closed\"\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div itemProp=\"validFrom\" content={currentDate}></div>\n\t\t\t\t\t<div itemProp=\"validThrough\" content={currentDate}></div>\n\t\t\t\t\t{schedule.opened &&\n\t\t\t\t\tschedule.startLocaleTime &&\n\t\t\t\t\tschedule.endLocaleTime ? (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<span itemProp=\"opens\" content={schedule.startLocaleTime}>\n\t\t\t\t\t\t\t\t{schedule.startLocaleTime}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{mapString(chrome?.operatingPark, \"\", \"\", \"\")}\n\t\t\t\t\t\t\t<span itemProp=\"closes\" content={schedule.endLocaleTime}>\n\t\t\t\t\t\t\t\t{schedule.endLocaleTime}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\trenderClosedSchedules(schedule.type, schedule.opened)\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t};\n\n\tconst renderSchedule = () => (\n\t\t<Fragment>\n\t\t\t<Icon icon={description?.icon} />\n\t\t\t<div className={`${scheduleContainerClass}__hours`}>\n\t\t\t\t<div\n\t\t\t\t\titemProp=\"name\"\n\t\t\t\t\tclassName={`${scheduleContainerClass}__hours__title`}\n\t\t\t\t>\n\t\t\t\t\t{link?.title || description?.title}\n\t\t\t\t</div>\n\t\t\t\t{renderSchedules()}\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n\n\treturn (\n\t\t<li\n\t\t\tclassName={`${scheduleClass} ${listItemClass}`}\n\t\t\titemScope=\"\"\n\t\t\titemType=\"http://schema.org/TouristAttraction\"\n\t\t>\n\t\t\t{link ? (\n\t\t\t\t<Link {...link} className={`${scheduleContainerClass} ${linkClass}`}>\n\t\t\t\t\t{renderSchedule()}\n\t\t\t\t</Link>\n\t\t\t) : (\n\t\t\t\trenderSchedule()\n\t\t\t)}\n\t\t</li>\n\t);\n};\n\nexport default Schedule;\n","import { brands } from \"config.json\";\nimport { loadBrandParam } from \"utils/paramsValidation\";\n\nconst brand = loadBrandParam();\n\nexport const getCurrentDateInSelectedLocale = (\n\ttimeZone = \"America/New_York\",\n\tdateStyle = \"ISO\",\n\tlocale = \"en-us\",\n\tvalidateFormat = false\n) => {\n\tconst currentDate = new Date();\n\tconst options = { timeZone };\n\tconst isISO = dateStyle === \"ISO\";\n\tif (isISO) {\n\t\tlocale = \"en-us\";\n\t} else {\n\t\tlocale = locale.replace(\"_\", \"-\").toLowerCase();\n\t\toptions.dateStyle = dateStyle; // full\n\t\toptions.calendar = \"gregory\";\n\t}\n\n\ttry {\n\t\tconst validLocales = Intl.DateTimeFormat.supportedLocalesOf(\n\t\t\t[locale, locale.split(\"-\")[0], \"en\"],\n\t\t\t{ localeMatcher: \"lookup\" }\n\t\t);\n\t\tconst validLocale = validLocales[0];\n\t\tconst formatter = new Intl.DateTimeFormat(validLocale, options);\n\t\tlet date = formatter.format(currentDate);\n\t\tif (isISO) {\n\t\t\tconst [month, day, year] = date.split(\"/\");\n\t\t\treturn `${year}-${month}-${day}`;\n\t\t} else {\n\t\t\tif (validateFormat && brands[brand]?.localesDateFormat) {\n\t\t\t\tconst localeDateFormat = brands[brand]?.localesDateFormat[locale];\n\t\t\t\tif (localeDateFormat) {\n\t\t\t\t\tconst dateParts = formatter.formatToParts(currentDate);\n\t\t\t\t\tdate = \"\";\n\t\t\t\t\tfor (let index = 0; index < localeDateFormat.length; index++) {\n\t\t\t\t\t\tconst char = localeDateFormat[index];\n\t\t\t\t\t\tif (![\"{\", \"}\"].includes(char)) {\n\t\t\t\t\t\t\tif (dateParts[char]) {\n\t\t\t\t\t\t\t\tdate += dateParts[char]?.value || \"\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdate += char;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn date;\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error);\n\t\treturn getCurrentDateInSelectedLocaleFallback(\n\t\t\tcurrentDate,\n\t\t\tdateStyle,\n\t\t\tlocale,\n\t\t\toptions\n\t\t);\n\t}\n};\n\nexport const getCurrentDateInSelectedLocaleFallback = (\n\tcurrentDate,\n\tdateStyle,\n\tlocale,\n\toptions\n) => {\n\tconst isISO = dateStyle === \"ISO\";\n\tconst date = currentDate.toLocaleDateString(locale, options);\n\tif (isISO) {\n\t\tconst [month, day, year] = date.split(\"/\");\n\t\treturn `${year}-${month}-${day}`;\n\t} else {\n\t\treturn date;\n\t}\n};\n","import { useContext } from \"react\";\nimport { Context } from \"Context\";\nimport Icon from \"components/shared/Icon\";\nimport Link from \"components/shared/Link\";\nimport Title from \"components/shared/Title\";\nimport { mapString } from \"utils\";\nimport { getCurrentDateInSelectedLocale } from \"utils/date\";\nimport { defaultParkHoursTimeZone, brands } from \"config.json\";\n\nconst moreParkHoursClass = `syndicated-link-groups__list__item--moreParkHours`;\n\nconst MoreParkHours = ({\n\tname,\n\tdescription,\n\tlistItemClass,\n\ttitleClass,\n\tlinkClass,\n}) => {\n\tconst {\n\t\tconfig: { locale, brand },\n\t} = useContext(Context);\n\tconst parkHoursTimeZone =\n\t\tbrands?.[brand]?.defaultParkHoursTimeZone || defaultParkHoursTimeZone;\n\n\treturn (\n\t\t<li className={listItemClass}>\n\t\t\t<div className={`${moreParkHoursClass}__container`}>\n\t\t\t\t<Icon icon={description?.icon} />\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${moreParkHoursClass}__container__content ${moreParkHoursClass}__container__content--${brand}`}\n\t\t\t\t>\n\t\t\t\t\t<Title\n\t\t\t\t\t\tclassName={titleClass}\n\t\t\t\t\t\ttitle={mapString(description?.title, \"\")}\n\t\t\t\t\t\tsubTitle={`<span class=\"${moreParkHoursClass}__container__content__date ${moreParkHoursClass}__container__content__date--${brand}\">${getCurrentDateInSelectedLocale(\n\t\t\t\t\t\t\tparkHoursTimeZone,\n\t\t\t\t\t\t\t\"full\",\n\t\t\t\t\t\t\tlocale,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)}</span>`}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t/>\n\t\t\t\t\t{description?.link && (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t{...description.link}\n\t\t\t\t\t\t\tclassName={`${linkClass} ${moreParkHoursClass}__container__content__link ${moreParkHoursClass}__container__content__link--${brand}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Title title={description.link.title} noWrap name={name} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\n\nexport default MoreParkHours;\n","import { Fragment, useContext } from \"react\";\nimport Icon from \"components/shared/Icon\";\nimport Image from \"components/shared/Image\";\nimport Title from \"components/shared/Title\";\nimport Link from \"components/shared/Link\";\nimport Profile from \"components/header/profile/Profile\";\nimport Schedule from \"components/header/navigation/section/schedule/Schedule\";\nimport MoreParkHours from \"components/header/navigation/section/schedule/MoreParkHours\";\nimport { Context } from \"Context\";\n\nconst mainClass = \"syndicated-link-groups\";\nconst mainListClass = `${mainClass}__list`;\nconst mainLinkClass = `${mainClass}__link`;\nconst mainTitleClass = `${mainClass}__title`;\nconst moreParkHoursId = \"moreParkHours\";\nconst authenticationOptionsId = \"authenticationOptions\";\nconst targetOneId = \"ngeGate\";\nconst defaultAffiliationId = \"default\";\n// const standardAffiliationId = \"STD_GST\";\n\nconst LinkGroup = ({\n\tid,\n\ttext,\n\twebLinkList,\n\tdescriptions,\n\tmodules,\n\tprofile,\n\tisMobileView,\n}) => {\n\tconst {\n\t\tprofileData: { affiliations },\n\t} = useContext(Context);\n\n\tconst titleClass = `${mainTitleClass}${\n\t\tid ? ` ${mainTitleClass}--${id}` : \"\"\n\t}`;\n\n\tconst renderDescription = ({ icon, link, title, description, image }) => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{image && <Image image={image} name={id} />}\n\t\t\t\t{icon && <Icon icon={icon} />}\n\t\t\t\t<Title\n\t\t\t\t\tclassName={titleClass}\n\t\t\t\t\ttitle={title || link?.title}\n\t\t\t\t\tsubTitle={description}\n\t\t\t\t\tname={id}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst renderLinkGroup = (\n\t\tdescriptions,\n\t\tisDescription = false,\n\t\tisPromo = false,\n\t\tlinkGroupId = \"\"\n\t) => {\n\t\tconst hasParkHoursIcon = descriptions.find(\n\t\t\t(description) =>\n\t\t\t\t(description.id === moreParkHoursId || description.parkHour) &&\n\t\t\t\tdescription.icon\n\t\t);\n\t\tlet affiliationsToUse = [defaultAffiliationId];\n\t\tif (isPromo) {\n\t\t\tif (\n\t\t\t\taffiliations.length &&\n\t\t\t\tdescriptions.filter(({ id }) => affiliations.includes(id)).length\n\t\t\t) {\n\t\t\t\taffiliationsToUse = [...affiliations];\n\t\t\t\t// Validate with Zinger the value for the default affiliation\n\t\t\t\t// if (affiliations.includes(standardAffiliationId)) {\n\t\t\t\t// \taffiliationsToUse.push(defaultAffiliationId);\n\t\t\t\t// }\n\t\t\t}\n\t\t}\n\n\t\tlet groupClass = mainListClass;\n\t\tif (id) groupClass += ` ${mainListClass}--${id}`;\n\t\tif (isPromo && isDescription) groupClass += ` ${mainListClass}--promo`;\n\t\tif (linkGroupId) groupClass += ` ${mainListClass}--${linkGroupId}`;\n\n\t\tconst linkContent = (link, description) => (\n\t\t\t<Fragment>\n\t\t\t\t{isDescription ? (\n\t\t\t\t\trenderDescription(description)\n\t\t\t\t) : (\n\t\t\t\t\t<Title title={link.title} noWrap subTitle={link.subTitle} name={id} />\n\t\t\t\t)}\n\t\t\t\t{isPromo && <Icon icon=\"next\" />}\n\t\t\t</Fragment>\n\t\t);\n\n\t\tconst renderDescriptions = descriptions.map((description, index) => {\n\t\t\tif (isPromo && !affiliationsToUse.includes(description.id)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (description.id === authenticationOptionsId) {\n\t\t\t\tgroupClass += ` ${mainListClass}--${authenticationOptionsId}`;\n\t\t\t}\n\n\t\t\tlet listItemClass = `${mainListClass}__item`;\n\t\t\tif (description.id)\n\t\t\t\tlistItemClass += ` ${listItemClass}--${description.id}`;\n\n\t\t\tconst link = isDescription ? description.link : description;\n\n\t\t\tlet linkClass = mainLinkClass;\n\t\t\tif (link) {\n\t\t\t\tif (id) linkClass += ` ${linkClass}--${id}`;\n\t\t\t\tif (\n\t\t\t\t\tdescription.id === moreParkHoursId ||\n\t\t\t\t\t(isDescription &&\n\t\t\t\t\t\t!description.title &&\n\t\t\t\t\t\t!description.image &&\n\t\t\t\t\t\t!description.icon)\n\t\t\t\t)\n\t\t\t\t\tlinkClass += ` ${mainLinkClass}--empty`;\n\t\t\t\tif (\n\t\t\t\t\t[\"entertainmentsSchedule\", \"parkCalendar\"].includes(description.id) &&\n\t\t\t\t\thasParkHoursIcon\n\t\t\t\t)\n\t\t\t\t\tlinkClass += ` ${mainLinkClass}--with-icons`;\n\t\t\t}\n\n\t\t\tif (description.id === moreParkHoursId) {\n\t\t\t\treturn (\n\t\t\t\t\t<MoreParkHours\n\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\tlinkClass={linkClass}\n\t\t\t\t\t\tlistItemClass={listItemClass}\n\t\t\t\t\t\tname={id}\n\t\t\t\t\t\ttitleClass={titleClass}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (description.parkHour) {\n\t\t\t\treturn (\n\t\t\t\t\t<Schedule\n\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\tlink={link}\n\t\t\t\t\t\tlistItemClass={listItemClass}\n\t\t\t\t\t\tlinkClass={linkClass}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<li key={index} className={listItemClass}>\n\t\t\t\t\t{link ? (\n\t\t\t\t\t\tlink?.target === targetOneId ? (\n\t\t\t\t\t\t\t<Profile\n\t\t\t\t\t\t\t\toneId\n\t\t\t\t\t\t\t\ttarget={link.target}\n\t\t\t\t\t\t\t\trenderComponent={(handleClick) => (\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t{...link}\n\t\t\t\t\t\t\t\t\t\thandleClick={handleClick}\n\t\t\t\t\t\t\t\t\t\tclassName={linkClass}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{linkContent(link, description)}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Link {...link} className={linkClass}>\n\t\t\t\t\t\t\t\t{linkContent(link, description)}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t)\n\t\t\t\t\t) : (\n\t\t\t\t\t\trenderDescription(description)\n\t\t\t\t\t)}\n\t\t\t\t\t{description.id === authenticationOptionsId && (\n\t\t\t\t\t\t<Profile userStatusLinks />\n\t\t\t\t\t)}\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\treturn <ul className={groupClass}>{renderDescriptions}</ul>;\n\t};\n\n\treturn (\n\t\t<div className=\"syndicated-link-groups\">\n\t\t\t{profile && !isMobileView && <Profile card />}\n\t\t\t{text && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={`syndicated-link-groups__text ${\n\t\t\t\t\t\tid ? `syndicated-link-groups__text--${id}` : \"\"\n\t\t\t\t\t}`}\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: text }}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{webLinkList && renderLinkGroup(webLinkList)}\n\t\t\t{modules?.map(\n\t\t\t\t({ webLinkList, title, descriptions, isPromo = false, id }, index) => (\n\t\t\t\t\t<Fragment key={index}>\n\t\t\t\t\t\t{title && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`${titleClass}${\n\t\t\t\t\t\t\t\t\tid ? ` ${mainTitleClass}--${id}` : \"\"\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: title }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{webLinkList && renderLinkGroup(webLinkList, false, false, id)}\n\t\t\t\t\t\t{descriptions && renderLinkGroup(descriptions, true, isPromo)}\n\t\t\t\t\t</Fragment>\n\t\t\t\t)\n\t\t\t)}\n\t\t\t{descriptions && renderLinkGroup(descriptions, true)}\n\t\t</div>\n\t);\n};\n\nexport default LinkGroup;\n","import { Fragment } from \"react\";\nimport Separator from \"components/shared/Separator\";\nimport Footer from \"./Footer\";\nimport LinkGroup from \"../LinkGroup\";\n\nconst Empty = ({\n\tbrand,\n\ttext,\n\tid,\n\tprice,\n\tdescriptions = [],\n\tseparateFooter = false,\n}) => (\n\t<Fragment>\n\t\t<Separator />\n\t\t<LinkGroup id={id} text={text} descriptions={descriptions} />\n\t\t{separateFooter && <Separator />}\n\t\t<Footer showButtons={false} price={price} brand={brand} />\n\t</Fragment>\n);\n\nexport default Empty;\n","import { useEffect, useState } from \"react\";\nimport { elementIsDisplayed } from \"utils\";\nimport useCheckMediaQuery from \"./useCheckMediaQuery\";\nimport { mobileMediaQuery, focusableElements } from \"config.json\";\n\nconst keys = {\n\ttab: 9,\n\tenter: 13,\n\tesc: 27,\n\tleft: 37,\n\tup: 38,\n\tright: 39,\n\tdown: 40,\n};\n\nconst useKeyboardNav = (sectionRef, isMenuActive, setIsMenuActive) => {\n\tconst isMobileView = useCheckMediaQuery(mobileMediaQuery);\n\tconst [onFocus, setOnFocus] = useState(false);\n\tconst [flyoutElements, setFlyoutElements] = useState(null);\n\n\tuseEffect(() => {\n\t\tconst elements = sectionRef?.current?.querySelectorAll(focusableElements);\n\t\telements?.length && setFlyoutElements(Array.from(elements));\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst moveMenuDown = () => {\n\t\tmoveMenu(1);\n\t};\n\n\tconst moveMenuUp = () => {\n\t\tmoveMenu(-1);\n\t};\n\n\tconst moveMenu = (n) => {\n\t\tconst currentIndex = flyoutElements?.indexOf(document.activeElement);\n\t\tconst moveToIndex = currentIndex + n;\n\n\t\tmoveToIndex >= 0 &&\n\t\t\tmoveToIndex < flyoutElements.length &&\n\t\t\tflyoutElements[moveToIndex]?.focus();\n\n\t\tmoveToIndex < 0 && moveSectionLeft();\n\t\tmoveToIndex >= flyoutElements.length && moveSectionRight();\n\t};\n\n\tconst moveSectionLeft = () => {\n\t\tconst previous = sectionRef?.current?.previousElementSibling;\n\t\tconst sectionTitle = previous.children[0]?.firstChild;\n\t\tconst isLastItem = !(previous && elementIsDisplayed(previous));\n\n\t\t!isLastItem && sectionTitle?.focus();\n\t\tisLastItem && document.activeElement.blur();\n\t};\n\n\tconst moveSectionRight = () => {\n\t\tconst next = sectionRef?.current?.nextElementSibling;\n\t\tconst sectionTitle = next?.children[0]?.firstChild;\n\t\tconst isLastItem = !(next && elementIsDisplayed(next));\n\n\t\t!isLastItem && sectionTitle?.focus();\n\t\tisLastItem && document.activeElement.blur();\n\t};\n\n\tconst handleOnFocus = (e) => {\n\t\tif (isMobileView) return null;\n\t\tsetOnFocus(true);\n\t};\n\tconst handleOnBlur = (e) => {\n\t\tif (isMobileView) return null;\n\t\tsetOnFocus(false);\n\t};\n\n\tconst handleKeyDown = (e) => {\n\t\tif (isMobileView || !Object.values(keys).includes(e.keyCode)) return null;\n\n\t\t// eslint-disable-next-line default-case\n\t\tswitch (e.keyCode) {\n\t\t\tcase keys.enter:\n\t\t\t\t!isMenuActive && e.preventDefault();\n\t\t\t\tsetIsMenuActive(true);\n\t\t\t\tbreak;\n\t\t\tcase keys.tab:\n\t\t\t\te.preventDefault();\n\t\t\t\tif (!e.shiftKey) {\n\t\t\t\t\t!isMenuActive && moveSectionRight();\n\t\t\t\t\tisMenuActive && onFocus && moveMenuDown();\n\t\t\t\t} else {\n\t\t\t\t\t!onFocus && moveSectionLeft();\n\t\t\t\t\tonFocus && moveMenuUp();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase keys.esc:\n\t\t\t\tsetIsMenuActive(false);\n\t\t\t\tbreak;\n\t\t\tcase keys.up:\n\t\t\t\te.preventDefault();\n\t\t\t\t!onFocus && moveSectionLeft();\n\t\t\t\tonFocus && moveMenuUp();\n\t\t\t\tbreak;\n\t\t\tcase keys.down:\n\t\t\t\te.preventDefault();\n\t\t\t\t!onFocus && moveSectionRight();\n\t\t\t\tonFocus && moveMenuDown();\n\t\t\t\tbreak;\n\t\t\tcase keys.left:\n\t\t\t\te.preventDefault();\n\t\t\t\tmoveSectionLeft();\n\t\t\t\tbreak;\n\t\t\tcase keys.right:\n\t\t\t\te.preventDefault();\n\t\t\t\tmoveSectionRight();\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\treturn {\n\t\tonFocus,\n\t\thandleKeyDown,\n\t\thandleOnFocus,\n\t\thandleOnBlur,\n\t};\n};\n\nexport default useKeyboardNav;\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\nimport SectionTitle from \"components/header/navigation/section/Title\";\nimport Flyout from \"components/header/navigation/Flyout\";\nimport Loading from \"components/shared/Loading\";\nimport Full from \"./Full\";\nimport Empty from \"./Empty\";\nimport useFetch from \"hooks/useFetch\";\nimport useKeyboardNav from \"hooks/useKeyboardNav\";\nimport useSessionStorage from \"hooks/useSessionStorage\";\nimport { arrayIsEmpty, objectIsEmpty, mapString } from \"utils\";\nimport { getCookie, setCookie, removeCookie } from \"utils/cookie\";\nimport { Context } from \"Context\";\nimport config from \"config.json\";\nconst syndicatedMakeCartRequest = \"syndicatedMakeUserCartRequest\";\nconst cartUserIdentifier = \"cartUserIdentifier\";\nconst cartIdName = \"cartId\";\nconst cartEvent = \"navigationCart\";\n\nconst Cart = ({\n\tcartEmpty,\n\tcartLabel,\n\tcheckOut,\n\tdescriptions = [],\n\ticon,\n\tid,\n\tlink,\n\tprice: initialPrice,\n\tstandaloneItemsTitle: otherItems,\n\ttitle,\n\tviewCartCheckOut,\n\tviewDetails,\n\tstartOver,\n\temptyCart,\n\taccessibiltyText,\n\tisMenuActive,\n\tsetIsMenuActive,\n}) => {\n\tconst {\n\t\tconfig: { brand, store },\n\t\tprofileData: { user },\n\t} = useContext(Context);\n\n\tconst [storageMakeCartRequest, setStorageMakeCartRequest] = useSessionStorage(\n\t\tsyndicatedMakeCartRequest\n\t);\n\n\tconst isDCL = brand === \"dcl\";\n\tconst showFlyout =\n\t\tisDCL || !window.location.pathname.split(\"/\").includes(\"cart\");\n\tconst [countUrl, setCountUrl] = useState(\"\");\n\tconst [detailsUrl, setDetailsUrl] = useState(\"\");\n\tconst [scope] = useState(isDCL ? \"\" : `${brand}${store ? `_${store}` : \"\"}`);\n\tconst [hasItems, setHasItems] = useState(false);\n\tconst [items, setItems] = useState([]);\n\tconst [standaloneItems, setStandaloneItems] = useState([]);\n\tconst [compositeItems, setCompositeItems] = useState([]);\n\tconst [standaloneItemsTitle, setStandaloneItemsTitle] = useState(\"\");\n\tconst [price, setPrice] = useState(initialPrice);\n\tconst [unavailableItemsMessage, setUnavailableItemsMessage] = useState({});\n\tconst [currencyChangeDetail, setCurrencyChangeDetail] = useState(null);\n\tconst [cartCookieJarName, setCartCookieJarName] = useState(\"\");\n\tconst [cartCookieJarValue, setCartCookieJarValue] = useState({});\n\tconst sectionRef = useRef(null);\n\tconst {\n\t\tonFocus,\n\t\thandleKeyDown,\n\t\thandleOnFocus,\n\t\thandleOnBlur,\n\t} = useKeyboardNav(sectionRef, isMenuActive, setIsMenuActive);\n\n\tconst mainClass = \"syndicated-section\";\n\tlet classes = mainClass;\n\tif (id) classes += ` ${mainClass}--${id}`;\n\tclasses += ` ${mainClass}--${hasItems ? \"full\" : \"empty\"}`;\n\tif (!showFlyout) classes += ` ${mainClass}--no-flyout`;\n\tif (isMenuActive && onFocus) classes += ` ${mainClass}--onfocus`;\n\n\tconst countResponse = useFetch(\n\t\tcountUrl,\n\t\t{ headers: { swid: user?.swid || \"\" } },\n\t\t0,\n\t\tcountUrl\n\t);\n\tconst detailsResponse = useFetch(\n\t\tdetailsUrl,\n\t\t{ headers: { swid: user?.swid || \"\" } },\n\t\t0,\n\t\tdetailsUrl\n\t);\n\n\tconst getCartCookies = () => {\n\t\tconst cartCookieName = isDCL\n\t\t\t? \"new\"\n\t\t\t: user?.swid\n\t\t\t? cartUserIdentifier\n\t\t\t: cartIdName;\n\t\tconst cartCookieJarName = isDCL ? \"cartIdMapping\" : `CART-${scope}_jar`;\n\t\tsetCartCookieJarName(cartCookieJarName);\n\t\tlet cartCookieJarContent = getCookie(cartCookieJarName);\n\t\tif (cartCookieJarContent) {\n\t\t\ttry {\n\t\t\t\tcartCookieJarContent = JSON.parse(\n\t\t\t\t\tdecodeURIComponent(cartCookieJarContent)\n\t\t\t\t);\n\t\t\t\tif (\n\t\t\t\t\tcartCookieJarContent[cartCookieName] ||\n\t\t\t\t\t(user?.swid && cartCookieJarContent[cartIdName])\n\t\t\t\t) {\n\t\t\t\t\tsetCartCookieJarValue(cartCookieJarContent);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.info(\"Error parsing the cart cookie, content is malformed\");\n\t\t\t}\n\t\t}\n\t};\n\n\tconst setRequestUrls = () => {\n\t\tconst isLoggedIn = !!user?.swid;\n\n\t\tconst {\n\t\t\tcartId = \"\",\n\t\t\tnew: cartIdDcl = null,\n\t\t\t[cartUserIdentifier]: {\n\t\t\t\tid = null,\n\t\t\t\ttype = !isDCL && isLoggedIn ? \"GUEST\" : \"\",\n\t\t\t\tidType = !isDCL && isLoggedIn ? \"swid\" : \"\",\n\t\t\t} = {},\n\t\t} = cartCookieJarValue;\n\n\t\t// if swid cookie matches the cartUserIdentifier swid cookie of the CART-XX_jar\n\t\tconst isUserCartCookieSet =\n\t\t\tisLoggedIn && id && type && idType && id === user.swid;\n\t\tisUserCartCookieSet && setStorageMakeCartRequest(true);\n\t\tconst makeRequest =\n\t\t\tisLoggedIn && !isUserCartCookieSet && storageMakeCartRequest;\n\t\tconst isValidCartDCL = !!(isDCL && cartIdDcl);\n\t\tconst isValidCartOtherBrands = !!(\n\t\t\tscope &&\n\t\t\t(cartId || isUserCartCookieSet || makeRequest)\n\t\t);\n\n\t\t!isDCL &&\n\t\t\tisValidCartOtherBrands &&\n\t\t\t!hasItems &&\n\t\t\tsetCountUrl(\n\t\t\t\tmapString(config.cart.apiUrl, \"count\", scope, cartId, type, idType)\n\t\t\t);\n\n\t\tif (isValidCartDCL || (isValidCartOtherBrands && hasItems)) {\n\t\t\tsetDetailsUrl(\n\t\t\t\tmapString(\n\t\t\t\t\tconfig.cart.apiUrl,\n\t\t\t\t\t\"details\",\n\t\t\t\t\tscope,\n\t\t\t\t\tisDCL ? cartIdDcl : cartId,\n\t\t\t\t\ttype,\n\t\t\t\t\tidType\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\tconst setUserCartCookie = () => {\n\t\tconst cookieExpirationInDays = 30;\n\t\tif (\n\t\t\t!isDCL &&\n\t\t\tuser?.swid &&\n\t\t\t(objectIsEmpty(cartCookieJarValue) || cartCookieJarValue?.[cartIdName])\n\t\t) {\n\t\t\tconst cookieContent = {\n\t\t\t\t[cartUserIdentifier]: {\n\t\t\t\t\ttype: \"GUEST\",\n\t\t\t\t\tid: user?.swid,\n\t\t\t\t\tidType: \"swid\",\n\t\t\t\t},\n\t\t\t};\n\t\t\tsetCookie(\n\t\t\t\tcartCookieJarName,\n\t\t\t\tencodeURIComponent(JSON.stringify(cookieContent)),\n\t\t\t\tcookieExpirationInDays\n\t\t\t);\n\t\t\tsetCartCookieJarValue(cookieContent);\n\t\t}\n\t};\n\n\tconst resetCartCookie = () => {\n\t\tuser?.swid && setStorageMakeCartRequest(false);\n\t\tremoveCookie(cartCookieJarName);\n\t\tsetCartCookieJarValue({});\n\t};\n\n\tconst resetCart = () => {\n\t\tsetCountUrl(\"\");\n\t\tsetDetailsUrl(\"\");\n\t\tsetItems([]);\n\t\tsetHasItems(false);\n\t};\n\n\tconst cartEventLogic = (event) => {\n\t\tif (event?.detail?.method === \"reload\") {\n\t\t\tresetCart();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\ttypeof storageMakeCartRequest === \"undefined\" &&\n\t\t\tsetStorageMakeCartRequest(true);\n\t\t//eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tgetCartCookies();\n\t\tif (!user?.swid && hasItems) {\n\t\t\tresetCart();\n\t\t}\n\t\t//eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [user?.swid, store]);\n\n\tuseEffect(() => {\n\t\t(cartCookieJarValue || user?.swid) && setRequestUrls();\n\t\t//eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [cartCookieJarValue, storageMakeCartRequest, user?.swid, hasItems]);\n\n\tuseEffect(() => {\n\t\tif (countResponse.response) {\n\t\t\tif (countResponse.response.totalNumberOfItems > 0) {\n\t\t\t\tsetHasItems(true);\n\t\t\t\tsetUserCartCookie();\n\t\t\t} else {\n\t\t\t\tresetCartCookie();\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [countResponse?.response]);\n\n\tuseEffect(() => {\n\t\tif (countResponse?.error) {\n\t\t\tif (countResponse.error?.status === 404) {\n\t\t\t\tresetCartCookie();\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [countResponse?.error]);\n\n\tuseEffect(() => {\n\t\tif (!arrayIsEmpty(detailsResponse?.response?.items)) {\n\t\t\tsetHasItems(true);\n\t\t\tsetItems(detailsResponse.response.items);\n\t\t\t!objectIsEmpty(detailsResponse.response?.price) &&\n\t\t\t\tsetPrice(detailsResponse.response.price);\n\t\t\t!objectIsEmpty(detailsResponse.response?.message) &&\n\t\t\t\tsetUnavailableItemsMessage(detailsResponse.response.message);\n\t\t\t!objectIsEmpty(detailsResponse.response?.currencyChangeDetail) &&\n\t\t\t\tsetCurrencyChangeDetail(detailsResponse.response.currencyChangeDetail);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [detailsResponse?.response]);\n\n\tuseEffect(() => {\n\t\tdetailsResponse?.error && setHasItems(false);\n\t}, [detailsResponse?.error]);\n\n\tuseEffect(() => {\n\t\tsetCompositeItems(items.filter((item) => !arrayIsEmpty(item?.items)));\n\t\tsetStandaloneItems(items.filter((item) => !item.items));\n\t}, [items]);\n\n\tuseEffect(() => {\n\t\t!arrayIsEmpty(standaloneItems) &&\n\t\t\t!arrayIsEmpty(compositeItems) &&\n\t\t\tsetStandaloneItemsTitle(otherItems);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [standaloneItems, compositeItems]);\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(cartEvent, cartEventLogic);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(cartEvent, cartEventLogic);\n\t\t};\n\t});\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classes}\n\t\t\ttabIndex={-1}\n\t\t\tref={sectionRef}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t\tonFocus={handleOnFocus}\n\t\t\tonBlur={handleOnBlur}\n\t\t>\n\t\t\t<SectionTitle\n\t\t\t\tlink={link}\n\t\t\t\tname={id}\n\t\t\t\ticon={hasItems ? \"cart-full\" : icon}\n\t\t\t\ttitle={title}\n\t\t\t\taccessibiltyText={accessibiltyText}\n\t\t\t/>\n\t\t\t{showFlyout && (\n\t\t\t\t<Flyout right={true} name={id}>\n\t\t\t\t\t<Flyout.Primary name={id}>\n\t\t\t\t\t\t<div className={`${mainClass}__content`}>\n\t\t\t\t\t\t\t<h2 className={`${mainClass}__content__title`}>{cartLabel}</h2>\n\t\t\t\t\t\t\t{countResponse?.loading || detailsResponse?.loading ? (\n\t\t\t\t\t\t\t\t<Loading />\n\t\t\t\t\t\t\t) : hasItems ? (\n\t\t\t\t\t\t\t\t<Full\n\t\t\t\t\t\t\t\t\tbrand={brand}\n\t\t\t\t\t\t\t\t\tmessage={unavailableItemsMessage}\n\t\t\t\t\t\t\t\t\tcompositeItems={compositeItems}\n\t\t\t\t\t\t\t\t\tstandaloneItems={standaloneItems}\n\t\t\t\t\t\t\t\t\tstandaloneItemsTitle={standaloneItemsTitle}\n\t\t\t\t\t\t\t\t\tprice={price}\n\t\t\t\t\t\t\t\t\tcurrencyChangeDetail={currencyChangeDetail}\n\t\t\t\t\t\t\t\t\tstartOver={startOver}\n\t\t\t\t\t\t\t\t\temptyCart={emptyCart}\n\t\t\t\t\t\t\t\t\tbuttons={{\n\t\t\t\t\t\t\t\t\t\tcheckOut,\n\t\t\t\t\t\t\t\t\t\tviewCartCheckOut,\n\t\t\t\t\t\t\t\t\t\tviewDetails,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Empty\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tbrand={brand}\n\t\t\t\t\t\t\t\t\ttext={cartEmpty}\n\t\t\t\t\t\t\t\t\tdescriptions={descriptions || []}\n\t\t\t\t\t\t\t\t\tprice={price?.sections || {}}\n\t\t\t\t\t\t\t\t\tseparateFooter={isDCL}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Flyout.Primary>\n\t\t\t\t</Flyout>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Cart;\n","import { Fragment, useContext, useEffect, useState } from \"react\";\nimport Link from \"components/shared/Link\";\nimport Separator from \"components/shared/Separator\";\nimport Icon from \"components/shared/Icon\";\nimport { Context } from \"Context\";\nimport Button from \"components/shared/Button\";\nimport useCheckMediaQuery from \"hooks/useCheckMediaQuery\";\nimport { mobileMediaQuery } from \"config.json\";\nimport {\n\tprocessLanguageSelectorUrl,\n\tgetLanguageCookies,\n\tsetLanguageCookies,\n} from \"utils/language\";\n\nconst LanguageSelector = () => {\n\tconst {\n\t\theaderData: { languageSelector },\n\t\tconfig: { allowedLocales, brand, locale },\n\t\tsetModal,\n\t} = useContext(Context);\n\n\tconst isMobileView = useCheckMediaQuery(mobileMediaQuery);\n\n\tconst [selection, setSelection] = useState(\"\");\n\n\tconst handleLanguageClick = (e, url) => {\n\t\tif (url.match(/^http/) || !languageSelector?.cookiesToSet) return;\n\t\tlet locale, preferredLanguage, localeCurrency;\n\t\te.preventDefault();\n\t\tpreferredLanguage = url.replaceAll(\"/\", \"\");\n\t\tlet [language, region] = preferredLanguage.split(\"-\");\n\t\tif (region) {\n\t\t\tregion = region.toUpperCase();\n\t\t}\n\t\tlocale = `${language}${region ? `_${region}` : \"\"}`;\n\t\tif (languageSelector?.localeToCurrency) {\n\t\t\tlocaleCurrency = languageSelector.localeToCurrency?.[locale];\n\t\t}\n\t\tsetLanguageCookies(\n\t\t\tgetLanguageCookies(\n\t\t\t\tlanguageSelector.cookiesToSet,\n\t\t\t\tlocale,\n\t\t\t\tlocaleCurrency,\n\t\t\t\tpreferredLanguage\n\t\t\t)\n\t\t);\n\t\twindow.location.reload();\n\t};\n\n\tconst renderLanguages = (languages) => {\n\t\tlet localesToDisplay = null;\n\t\tif (allowedLocales) {\n\t\t\tlocalesToDisplay = allowedLocales.split(\",\");\n\t\t}\n\t\treturn languages ? (\n\t\t\t<div className=\"syndicated-language-selector__container__content\">\n\t\t\t\t{languages?.map((link, key) => {\n\t\t\t\t\tif (localesToDisplay) {\n\t\t\t\t\t\tlet currentLocale = null;\n\t\t\t\t\t\tif (link?.href[0] === \"/\") {\n\t\t\t\t\t\t\tcurrentLocale = link.href.split(\"/\")[1]?.toLowerCase();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (currentLocale && !allowedLocales.includes(currentLocale)) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t{...link}\n\t\t\t\t\t\t\thref={processLanguageSelectorUrl(link?.href, brand)}\n\t\t\t\t\t\t\thandleClick={(event) => handleLanguageClick(event, link?.href)}\n\t\t\t\t\t\t\tbyPassBasePath={true}\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t) : null;\n\t};\n\n\tuseEffect(() => {\n\t\tconst processLocale = (value = \"\") => {\n\t\t\treturn value\n\t\t\t\t?.replace(/\\//g, \"\")\n\t\t\t\t.toLowerCase()\n\t\t\t\t.replace(\"-\", \"\")\n\t\t\t\t.replace(\"_\", \"\");\n\t\t};\n\t\tlet selectedLocale = null;\n\t\tif (locale && languageSelector) {\n\t\t\tconst newLocale = processLocale(locale);\n\t\t\tfor (let key of [\"primary\", \"secondary\"]) {\n\t\t\t\tconst searchedLocale = languageSelector[key]?.find(\n\t\t\t\t\t({ href }) => newLocale === processLocale(href)\n\t\t\t\t);\n\t\t\t\tif (searchedLocale) {\n\t\t\t\t\tselectedLocale = searchedLocale;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetSelection(selectedLocale?.title || \"\");\n\t}, [languageSelector, locale]);\n\n\tconst modalContent = () => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"syndicated-language-selector__container\">\n\t\t\t\t\t{renderLanguages(languageSelector.primary)}\n\t\t\t\t\t{languageSelector.primary && languageSelector.secondary && (\n\t\t\t\t\t\t<Separator vertical />\n\t\t\t\t\t)}\n\t\t\t\t\t{renderLanguages(languageSelector.secondary)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"syndicated-language-selector__footer\">\n\t\t\t\t\t<Separator section=\"language\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\taccessibleText={languageSelector.button?.accessibilityText}\n\t\t\t\t\t\tclassName=\"syndicated-language-selector__close\"\n\t\t\t\t\t\tonClick={() => setModal(false)}\n\t\t\t\t\t\tsecondary={!isMobileView}\n\t\t\t\t\t\ttitle={languageSelector.button?.title}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tif (!languageSelector) return null;\n\n\treturn (\n\t\t<div className=\"syndicated-language-selector\">\n\t\t\t<button\n\t\t\t\taria-label={selection}\n\t\t\t\tclassName=\"syndicated-language-selector__open\"\n\t\t\t\tonClick={() => setModal({ content: modalContent() })}\n\t\t\t>\n\t\t\t\t<Icon icon={languageSelector.icon || \"global-languages\"} />\n\t\t\t\t<span>{selection}</span>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default LanguageSelector;\n","import Flyout from \"../Flyout\";\nimport useCheckMediaQuery from \"hooks/useCheckMediaQuery\";\nimport SectionTitle from \"components/header/navigation/section/Title\";\nimport LinkGroup from \"./LinkGroup\";\nimport { useRef } from \"react\";\nimport useKeyboardNav from \"hooks/useKeyboardNav\";\nimport { mobileMediaQuery, sectionsConfiguration } from \"config.json\";\n\nconst Section = ({\n\tid,\n\ttitle,\n\ticon,\n\tlink,\n\tprimary,\n\tsecondary,\n\tshowFlyout = true,\n\tcollapse,\n\taccessibiltyText,\n\tsetCollapsedSection,\n\tisMenuActive,\n\tsetIsMenuActive,\n\tstore,\n\tbrand,\n}) => {\n\tconst isMobileView = useCheckMediaQuery(mobileMediaQuery);\n\tconst sectionRef = useRef(null);\n\tconst {\n\t\tonFocus,\n\t\thandleKeyDown,\n\t\thandleOnFocus,\n\t\thandleOnBlur,\n\t} = useKeyboardNav(sectionRef, isMenuActive, setIsMenuActive);\n\n\tconst mainClass = \"syndicated-section\";\n\tlet classes = mainClass;\n\tif (id) classes += ` ${mainClass}--${id}`;\n\tif (brand) classes += ` ${mainClass}--${brand}`;\n\tif (isMobileView && collapse) classes += ` ${mainClass}--open`;\n\tif (!showFlyout) classes += ` ${mainClass}--no-flyout`;\n\tif (isMenuActive && onFocus) classes += ` ${mainClass}--onfocus`;\n\tif (store) classes += ` ${mainClass}--store`;\n\n\tconst handleCollapse = (e) => {\n\t\tif (isMobileView) {\n\t\t\te.preventDefault();\n\t\t\tsetCollapsedSection((currentCollapsedSection) =>\n\t\t\t\tcurrentCollapsedSection === id ? \"\" : id\n\t\t\t);\n\t\t}\n\t};\n\n\tif (!title) return null;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classes}\n\t\t\ttabIndex={-1}\n\t\t\tref={sectionRef}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t\tonFocus={handleOnFocus}\n\t\t\tonBlur={handleOnBlur}\n\t\t>\n\t\t\t<SectionTitle\n\t\t\t\tcollapse={collapse}\n\t\t\t\tlink={{\n\t\t\t\t\t...link,\n\t\t\t\t\thandleClick: showFlyout ? handleCollapse : null,\n\t\t\t\t}}\n\t\t\t\ticon={icon}\n\t\t\t\ttitle={title}\n\t\t\t\tname={id}\n\t\t\t\tisMobileView={isMobileView}\n\t\t\t\taccessibiltyText={accessibiltyText}\n\t\t\t/>\n\t\t\t{showFlyout && collapse && (\n\t\t\t\t<Flyout\n\t\t\t\t\tright={sectionsConfiguration.right.includes(id)}\n\t\t\t\t\tcolumn={sectionsConfiguration.column.includes(id)}\n\t\t\t\t\tname={id}\n\t\t\t\t\tstore={store}\n\t\t\t\t>\n\t\t\t\t\t{primary && (\n\t\t\t\t\t\t<Flyout.Primary name={id} isMobileView={isMobileView}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`${mainClass}__content ${mainClass}__content--${id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<LinkGroup\n\t\t\t\t\t\t\t\t\t{...primary}\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tmainClass={`${mainClass}__content--${id}__primary`}\n\t\t\t\t\t\t\t\t\tisMobileView={isMobileView}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Flyout.Primary>\n\t\t\t\t\t)}\n\t\t\t\t\t{secondary && (\n\t\t\t\t\t\t<Flyout.Secondary name={id} theme={\"blue\"}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`${mainClass}__content ${mainClass}__content--${id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<LinkGroup\n\t\t\t\t\t\t\t\t\t{...secondary}\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tmainClass={`${mainClass}__content--${id}__secondary`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Flyout.Secondary>\n\t\t\t\t\t)}\n\t\t\t\t</Flyout>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Section;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport Icon from \"components/shared/Icon\";\r\nimport Link from \"components/shared/Link\";\r\nimport { Context } from \"Context\";\r\nimport Button from \"components/shared/Button\";\r\nimport { getCdn, mapString } from \"utils\";\r\nimport { searchService } from \"config.json\";\r\n\r\nconst { origin, pathname } = window.location;\r\nconst iconsCdn = getCdn(true);\r\n\r\nconst SearchBar = () => {\r\n\tconst {\r\n\t\theaderData: { chrome },\r\n\t\tconfig: { basePath, searchBar },\r\n\t\tprofileData: { userType },\r\n\t} = useContext(Context);\r\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\r\n\tconst [searchParams, setSearchParams] = useState(null);\r\n\tconst [fetchTrigger, setFetchTrigger] = useState(0);\r\n\tconst [showSuggestions, setShowSuggestions] = useState(false);\r\n\tconst { response } = useFetch(\r\n\t\tsearchParams ? `${basePath}${searchService.apiUrl}` : \"\",\r\n\t\tsearchParams,\r\n\t\t0,\r\n\t\tfetchTrigger\r\n\t);\r\n\tconst ref = useRef(null);\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tif (event.key === \"Enter\" && searchQuery) {\r\n\t\t\twindow.location.assign(\r\n\t\t\t\t`${origin}${basePath}/search/?searchQuery=${searchQuery\r\n\t\t\t\t\t.trim()\r\n\t\t\t\t\t.replace(/ +/g, \"+\")}`\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fullWordsEllipsis = (text = \"\") => {\r\n\t\tif (text.length > 40) {\r\n\t\t\tconst fitText = text.substring(0, 36);\r\n\t\t\ttext = fitText.substring(0, fitText.lastIndexOf(\" \")) + \"...\";\r\n\t\t}\r\n\t\treturn text;\r\n\t};\r\n\r\n\tconst extractIcon = (iconSource) => {\r\n\t\treturn iconSource.split('<span class=\"icon__')[1].split(\" \")[0];\r\n\t};\r\n\r\n\tconst handleInnerClick = () => {\r\n\t\tif (searchQuery && response?.links?.length > 0) {\r\n\t\t\tsetShowSuggestions(true);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst loadResultsTimeout = setTimeout(() => {\r\n\t\t\tconst validSearchQuery = searchQuery.trim().replace(/  +/g, \" \");\r\n\t\t\tif (validSearchQuery.replace(/  +/g, \"\").length > 1) {\r\n\t\t\t\tconst pageName =\r\n\t\t\t\t\tpathname\r\n\t\t\t\t\t\t.split(\"/\")\r\n\t\t\t\t\t\t.filter((part) => part.length)\r\n\t\t\t\t\t\t.join(\"_\") || \"homepage\";\r\n\t\t\t\tsetSearchParams({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tbody: mapString(\r\n\t\t\t\t\t\tsearchService.baseParams,\r\n\t\t\t\t\t\tuserType || \"GUEST\",\r\n\t\t\t\t\t\tpageName,\r\n\t\t\t\t\t\tvalidSearchQuery\r\n\t\t\t\t\t),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tsetFetchTrigger((fetch) => fetch + 1);\r\n\t\t\t} else if (validSearchQuery.length === 0) {\r\n\t\t\t\tsetShowSuggestions(false);\r\n\t\t\t}\r\n\t\t}, 600);\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(loadResultsTimeout);\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [searchQuery]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (response && response.links?.length > 0 && searchQuery) {\r\n\t\t\tsetShowSuggestions(true);\r\n\t\t} else if (!response || response.links?.length === 0) {\r\n\t\t\tsetShowSuggestions(false);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [response]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleClickOutside = (event) => {\r\n\t\t\tif (!ref.current?.contains(event.target)) {\r\n\t\t\t\tsetShowSuggestions(false);\r\n\t\t\t}\r\n\t\t};\r\n\t\tdocument.addEventListener(\"click\", handleClickOutside, true);\r\n\t\treturn () => window.removeEventListener(\"click\", handleClickOutside, true);\r\n\t}, []);\r\n\r\n\treturn searchBar ? (\r\n\t\t<div ref={ref} className=\"syndicated-navigation__chrome__search\">\r\n\t\t\t<div\r\n\t\t\t\tclassName={\r\n\t\t\t\t\t\"syndicated-navigation__chrome__search__form\" +\r\n\t\t\t\t\t(showSuggestions\r\n\t\t\t\t\t\t? \" syndicated-navigation__chrome__search__form--focus\"\r\n\t\t\t\t\t\t: \"\")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Button\r\n\t\t\t\t\taccessibleText={chrome?.confirmSearch}\r\n\t\t\t\t\tclassName=\"syndicated-icon syndicated-icon--search\"\r\n\t\t\t\t\tcustomStyles\r\n\t\t\t\t\tonClick={() => handleSubmit({ key: \"Enter\" })}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackgroundImage: `url(${iconsCdn}/icons/pep/search.svg)`,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\taria-label={chrome?.searchDisney}\r\n\t\t\t\t\tonClick={handleInnerClick}\r\n\t\t\t\t\tclassName=\"syndicated-navigation__chrome__search__form__input\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={searchQuery}\r\n\t\t\t\t\tonKeyPress={handleSubmit}\r\n\t\t\t\t\tonChange={(event) => setSearchQuery(event.target.value)}\r\n\t\t\t\t\tplaceholder={chrome?.searchDisney}\r\n\t\t\t\t\tmaxLength=\"254\"\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tname=\"searchQuery\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\taccessibleText={chrome?.clearSearch}\r\n\t\t\t\t\tclassName=\"syndicated-icon syndicated-icon--close-button\"\r\n\t\t\t\t\tcustomStyles\r\n\t\t\t\t\tdisabled={!searchQuery}\r\n\t\t\t\t\tonClick={() => setSearchQuery(\"\")}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackgroundImage: `url(${iconsCdn}/icons/pep/close-button.svg)`,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t{showSuggestions && searchQuery && (\r\n\t\t\t\t<ul className=\"syndicated-navigation__chrome__search__autosuggest\">\r\n\t\t\t\t\t<li className=\"syndicated-navigation__chrome__search__autosuggest__list-item\">\r\n\t\t\t\t\t\t{chrome?.searchResults}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t{response?.links?.map((link) => (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={link.id}\r\n\t\t\t\t\t\t\tclassName=\"syndicated-navigation__chrome__search__autosuggest__list-item\"\r\n\t\t\t\t\t\t\trole=\"presentation\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Link href={link.url}>\r\n\t\t\t\t\t\t\t\t<span className=\"syndicated-icon-container\">\r\n\t\t\t\t\t\t\t\t\t<Icon icon={extractIcon(link.webFontCode)} />\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<div className=\"syndicated-link__details\">\r\n\t\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: link.label }} />\r\n\t\t\t\t\t\t\t\t\t<div className=\"syndicated-link__details__description\">\r\n\t\t\t\t\t\t\t\t\t\t{fullWordsEllipsis(link.desc)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t) : null;\r\n};\r\n\r\nexport default SearchBar;\r\n","import { matterhorn } from \"config.json\";\nimport useScript from \"hooks/useScript\";\n\nconst createScriptConfig = () => {\n\tconst gocConfig = document.createElement(\"script\");\n\tgocConfig.id = \"gocConfig\";\n\tgocConfig.type = \"text/javascript\";\n\tgocConfig.text = `var GOC = { opts: ${JSON.stringify(\n\t\tmatterhorn.options\n\t)}, queue: [ ] };`;\n\tdocument.head.appendChild(gocConfig);\n};\n\nconst toggle = (open) => {\n\tcheckElement(\"#goc-bar\")\n\t\t.then((e) => {\n\t\t\tconst innerElem = document.querySelector(\".goc-bound\");\n\n\t\t\tconst isFirstTime =\n\t\t\t\t!document.querySelector(\".goc-bound.fade-out\") &&\n\t\t\t\t!document.querySelector(\".goc-bound.fade-in\");\n\n\t\t\tif (isFirstTime) {\n\t\t\t\te.style.display = \"none\";\n\t\t\t\te.classList.add(\"syndicated-display-matterhorn\");\n\t\t\t\tinnerElem.classList.add(\"fade-out\");\n\t\t\t} else if (!open) {\n\t\t\t\tinnerElem.classList.remove(\"fade-in\");\n\t\t\t\tinnerElem.classList.add(\"fade-out\");\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\te.style.display = \"none\";\n\t\t\t\t}, 400);\n\t\t\t} else {\n\t\t\t\te.style.display = \"\";\n\t\t\t\tinnerElem.classList.remove(\"fade-out\");\n\t\t\t\tinnerElem.classList.add(\"fade-in\");\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.error(\"error loading matterhorn\");\n\t\t});\n};\n\nconst checkElement = (selector) => {\n\tconst elem = document.querySelector(selector);\n\tif (elem === null) {\n\t\treturn onElementReady().then(() => checkElement(selector));\n\t} else {\n\t\treturn Promise.resolve(elem);\n\t}\n};\n\nconst onElementReady = () => {\n\treturn new Promise((resolve) => {\n\t\twindow.requestAnimationFrame(resolve);\n\t});\n};\n\nconst Matterhorn = ({ open }) => {\n\tconst checkGocConfig = document.querySelector(\"#gocConfig\");\n\tconst i18n = \"en\";\n\tconst scriptLang = matterhorn.scripts[0].url.replace(/i18n/g, i18n);\n\n\tif (!checkGocConfig) {\n\t\tcreateScriptConfig();\n\t}\n\n\tconst status = useScript(scriptLang, matterhorn.scripts[0].position);\n\n\tif (status === \"ready\") {\n\t\ttoggle(open);\n\t}\n\n\treturn null;\n};\n\nexport default Matterhorn;\n","import { useContext } from \"react\";\nimport Link from \"components/shared/Link\";\nimport Icon from \"components/shared/Icon\";\nimport { Context } from \"Context\";\nimport { brands } from \"config.json\";\nimport { Fragment } from \"react\";\n\nconst ShowDisney = ({ action, open, isMobileView = false }) => {\n\tconst {\n\t\tconfig: { showDisney, brand },\n\t\theaderData: { chrome },\n\t} = useContext(Context);\n\n\tconst showModal = brands[brand]?.showVisitDisneyModal || false;\n\n\tconst renderContent = (title) => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{title}\n\t\t\t\t<Icon\n\t\t\t\t\ticon=\"icon_expand-show-more\"\n\t\t\t\t\tclassName={open ? \"syndicated-icon--rotate-180\" : \"\"}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tif (isMobileView) {\n\t\treturn chrome?.visitDisney ? (\n\t\t\t<div className=\"syndicated-show-disney\">\n\t\t\t\t<Link\n\t\t\t\t\t{...chrome?.visitDisney}\n\t\t\t\t\tclassName=\"syndicated-show-disney__link\"\n\t\t\t\t></Link>\n\t\t\t</div>\n\t\t) : null;\n\t}\n\n\tif (!showDisney) return null;\n\n\tif (typeof open === \"undefined\") {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"syndicated-navigation__chrome__disney\"\n\t\t\tonClick={showModal ? null : action}\n\t\t>\n\t\t\t{showModal\n\t\t\t\t? chrome?.visitDisney && (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t{...chrome.visitDisney}\n\t\t\t\t\t\t\tclassName=\"syndicated-navigation__chrome__disney\"\n\t\t\t\t\t\t\ttitle={chrome?.showDisney}\n\t\t\t\t\t\t/>\n\t\t\t\t  )\n\t\t\t\t: open\n\t\t\t\t? renderContent(chrome?.hideDisney)\n\t\t\t\t: renderContent(chrome?.showDisney)}\n\t\t</div>\n\t);\n};\n\nexport default ShowDisney;\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport { Context } from \"Context\";\nimport Link from \"components/shared/Link\";\nimport Container from \"components/shared/Container\";\nimport SectionCart from \"./section/cart/Cart\";\nimport LanguageSelector from \"./LanguageSelector\";\nimport Section from \"./section/Section\";\nimport SearchBar from \"./SearchBar\";\nimport useCheckMediaQuery from \"hooks/useCheckMediaQuery\";\nimport { mobileMediaQuery, brands, focusableElements } from \"config.json\";\nimport { getCdn } from \"utils\";\nimport Profile from \"../profile/Profile\";\nimport { Fragment } from \"react\";\nimport AccessibleText from \"components/shared/AccessibleText\";\nimport Button from \"components/shared/Button\";\nimport Matterhorn from \"../Matterhorn\";\nimport ShowDisney from \"../ShowDisney\";\n\nconst syndicatedNavigationClass = \"syndicated-navigation\";\nconst syndicatedNavigationNavClass = `${syndicatedNavigationClass}__nav`;\nconst syndicatedNavigationChromeClass = `${syndicatedNavigationClass}__chrome`;\nconst syndicatedCdn = getCdn();\nconst iconsCdn = getCdn(true);\n\nconst scrollTopAndLeft = (top = 0, left = 0) => {\n\twindow.scrollTo({\n\t\ttop,\n\t\tleft,\n\t\tbehavior: \"smooth\",\n\t});\n};\n\nconst Navigation = ({ headerRef, showLogo }) => {\n\tconst {\n\t\tconfig: {\n\t\t\tbasePath,\n\t\t\tbrand,\n\t\t\tchrome: showChrome,\n\t\t\tchromeLinks,\n\t\t\tlanguageSelector,\n\t\t\tlogo,\n\t\t\tnavigation: showNavigation,\n\t\t\tposition,\n\t\t\tsearchBar,\n\t\t\tshowDisney,\n\t\t\tshowSections,\n\t\t\tstore,\n\t\t},\n\t\theaderData: { navigation, chrome },\n\t\tprofileData: { openedOneIdModal, userType },\n\t\tmodal,\n\t} = useContext(Context);\n\n\tconst navRef = useRef(null);\n\tconst sectionNavRef = useRef(null);\n\tconst [isMenuActive, setIsMenuActive] = useState(false);\n\tconst [menuToggle, setMenuToggle] = useState(false);\n\tconst [searchBarToggle, setSearchBarToggle] = useState(false);\n\tconst isMobileView = useCheckMediaQuery(mobileMediaQuery);\n\tconst [collapsedSection, setCollapsedSection] = useState(\"\");\n\tconst [openMatterhorn, setOpenMatterhorn] = useState(false);\n\tconst brandLogoSrc = `${syndicatedCdn}/logos/${\n\t\tbrands[brand].logo || `${brand}.svg`\n\t}`;\n\tconst brandLogo = (\n\t\t<img src={brandLogoSrc} alt={`${brands[brand]?.name} Logo`} />\n\t);\n\tconst brandLogoClasses = `${syndicatedNavigationNavClass}__logo ${syndicatedNavigationNavClass}__logo--${brand}${\n\t\tlogo ? \"\" : ` ${syndicatedNavigationNavClass}__logo--hide`\n\t}`;\n\tconst showSearchBar =\n\t\t!store &&\n\t\tsearchBar &&\n\t\t!brands[brand]?.hideSearchBarForUserTypes?.includes(userType);\n\n\tuseEffect(() => {\n\t\tif (isMobileView) {\n\t\t\tdocument.addEventListener(\"click\", handleOutsideClick, true);\n\t\t\tdocument.addEventListener(\"focus\", handleOutsideClick, true);\n\t\t}\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"click\", handleOutsideClick, true);\n\t\t\tdocument.removeEventListener(\"focus\", handleOutsideClick, true);\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst handleOutsideClick = (e) => {\n\t\t!sectionNavRef.current?.contains(e.target) &&\n\t\t\t!e.target.classList.contains(\n\t\t\t\t\"syndicated-navigation__nav__toggle--menu\"\n\t\t\t) &&\n\t\t\thandleCloseMenu();\n\t};\n\n\tconst handleCloseMenu = () => {\n\t\tdocument.body.classList.remove(\"navigation-nav-open\");\n\t\tsetMenuToggle(false);\n\t};\n\n\tconst handleMenuToggle = () => {\n\t\tdocument.body.classList.toggle(\"navigation-nav-open\");\n\t\tscrollTopAndLeft();\n\t\tsetMenuToggle((prevState) => !prevState);\n\t};\n\n\tconst handleSearchBarToggle = () => {\n\t\tsetSearchBarToggle((prevState) => !prevState);\n\t};\n\n\tconst handleSkipNavigation = () => {\n\t\tconst header = headerRef;\n\t\tconst headerHeight = header?.current?.scrollHeight || 0;\n\t\tconst matterhorn = document.getElementById(\"goc-bar\");\n\t\tconst matterhornHeight = matterhorn?.scrollHeight || 0;\n\t\tconst totalHeight = headerHeight + matterhornHeight;\n\t\tscrollTopAndLeft(position === \"sticky\" ? matterhornHeight : totalHeight);\n\t};\n\n\tconst renderSections = () => {\n\t\treturn (\n\t\t\tshowSections &&\n\t\t\tnavigation?.map((section, key) => {\n\t\t\t\treturn section.id === \"cart\" ? (\n\t\t\t\t\t<SectionCart\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t{...section}\n\t\t\t\t\t\tisMenuActive={isMenuActive}\n\t\t\t\t\t\tsetIsMenuActive={setIsMenuActive}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<Section\n\t\t\t\t\t\t{...section}\n\t\t\t\t\t\tsetCollapsedSection={setCollapsedSection}\n\t\t\t\t\t\tcollapse={\n\t\t\t\t\t\t\t!isMobileView || (isMobileView && collapsedSection === section.id)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\tisMenuActive={isMenuActive}\n\t\t\t\t\t\tsetIsMenuActive={setIsMenuActive}\n\t\t\t\t\t\tstore={store}\n\t\t\t\t\t\tbrand={brand}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})\n\t\t);\n\t};\n\n\tconst renderBrandLogo = () => {\n\t\treturn store ? (\n\t\t\t<div className={brandLogoClasses}>{brandLogo}</div>\n\t\t) : (\n\t\t\t<Link\n\t\t\t\thref={`${window.location.origin}${basePath}`}\n\t\t\t\tclassName={brandLogoClasses}\n\t\t\t>\n\t\t\t\t{brandLogo}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\tconst handleShowDisney = () => {\n\t\tsetOpenMatterhorn((prevState) => !prevState);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isMobileView) {\n\t\t\tsetSearchBarToggle(false);\n\t\t}\n\t}, [isMobileView]);\n\n\tuseEffect(() => {\n\t\tif ((modal || openedOneIdModal) && menuToggle) {\n\t\t\thandleMenuToggle();\n\t\t}\n\t}, [modal, openedOneIdModal, menuToggle]);\n\n\tuseEffect(() => {\n\t\tif (isMobileView && menuToggle) {\n\t\t\tconst focusable = sectionNavRef?.current?.querySelector(\n\t\t\t\tfocusableElements\n\t\t\t);\n\t\t\tfocusable.focus();\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [menuToggle]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={\n\t\t\t\tsyndicatedNavigationClass +\n\t\t\t\t(store ? ` ${syndicatedNavigationClass}--store` : \"\")\n\t\t\t}\n\t\t\tref={navRef}\n\t\t>\n\t\t\t<div id=\"goc\" />\n\t\t\t{showChrome && showDisney && !brands[brand].showVisitDisneyModal && (\n\t\t\t\t<Matterhorn open={openMatterhorn} />\n\t\t\t)}\n\t\t\t<Container>\n\t\t\t\t{showChrome && (\n\t\t\t\t\t<div className={syndicatedNavigationChromeClass}>\n\t\t\t\t\t\t<ShowDisney open={openMatterhorn} action={handleShowDisney} />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={`${syndicatedNavigationChromeClass}__skip-navigation`}\n\t\t\t\t\t\t\tcustomStyles\n\t\t\t\t\t\t\tonClick={handleSkipNavigation}\n\t\t\t\t\t\t\ttabIndex={1}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{chrome?.skipNavigation}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`${syndicatedNavigationChromeClass}__links ${syndicatedNavigationChromeClass}__links--${brand}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!isMobileView && (\n\t\t\t\t\t\t\t\t<Profile username reservation userStatusLinks />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{languageSelector && <LanguageSelector />}\n\t\t\t\t\t\t\t{chromeLinks &&\n\t\t\t\t\t\t\t\tchrome?.elements?.map((element, key) =>\n\t\t\t\t\t\t\t\t\telement.link ? (\n\t\t\t\t\t\t\t\t\t\t<div key={key}>\n\t\t\t\t\t\t\t\t\t\t\t<Link {...element.link} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!isMobileView && showSearchBar && <SearchBar />}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{(showNavigation || showLogo) && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`${syndicatedNavigationNavClass} ${syndicatedNavigationNavClass}--${brand}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{showNavigation && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tariaExpanded={menuToggle}\n\t\t\t\t\t\t\t\taccessibleText={chrome?.accessibiltyTextShowNavigation}\n\t\t\t\t\t\t\t\tclassName={`${syndicatedNavigationNavClass}__toggle ${syndicatedNavigationNavClass}__toggle--menu`}\n\t\t\t\t\t\t\t\tcustomStyles\n\t\t\t\t\t\t\t\tonClick={handleMenuToggle}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${iconsCdn}/icons/pep/menu-global-nav.svg)`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{renderBrandLogo()}\n\t\t\t\t\t\t<div id=\"logoSchema\" itemType=\"http://schema.org/Organization\">\n\t\t\t\t\t\t\t<link itemProp=\"url\" href={window.location.origin} />\n\t\t\t\t\t\t\t<link itemProp=\"logo\" href={brandLogoSrc} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{showNavigation && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<nav\n\t\t\t\t\t\t\t\t\trole=\"menubar\"\n\t\t\t\t\t\t\t\t\tref={sectionNavRef}\n\t\t\t\t\t\t\t\t\tclassName={`${syndicatedNavigationNavClass}__sections ${\n\t\t\t\t\t\t\t\t\t\tmenuToggle\n\t\t\t\t\t\t\t\t\t\t\t? `${syndicatedNavigationNavClass}__sections--open`\n\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AccessibleText role=\"heading\" ariaLevel=\"1\">\n\t\t\t\t\t\t\t\t\t\t{chrome?.accessibiltyTextNavigationLinks}\n\t\t\t\t\t\t\t\t\t</AccessibleText>\n\t\t\t\t\t\t\t\t\t{isMobileView && <Profile username />}\n\t\t\t\t\t\t\t\t\t{renderSections()}\n\t\t\t\t\t\t\t\t\t{isMobileView && !store && (\n\t\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{languageSelector && <LanguageSelector />}\n\t\t\t\t\t\t\t\t\t\t\t<Profile reservation userStatusLinks showIcon />\n\t\t\t\t\t\t\t\t\t\t\t<ShowDisney isMobileView></ShowDisney>\n\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tariaExpanded={searchBarToggle}\n\t\t\t\t\t\t\t\t\taccessibleText={chrome?.accessibiltyTextShowSearch}\n\t\t\t\t\t\t\t\t\tclassName={`${syndicatedNavigationNavClass}__toggle ${syndicatedNavigationNavClass}__toggle--search ${\n\t\t\t\t\t\t\t\t\t\tshowSearchBar\n\t\t\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t\t\t: `${syndicatedNavigationNavClass}__toggle--search--hidden`\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tcustomStyles\n\t\t\t\t\t\t\t\t\tonClick={handleSearchBarToggle}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${iconsCdn}/icons/pep/search.svg)`,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={!showSearchBar}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{isMobileView && searchBarToggle && showNavigation && showSearchBar && (\n\t\t\t\t\t<SearchBar />\n\t\t\t\t)}\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default Navigation;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { objectIsEmpty, getCdn } from \"utils\";\nimport { getCookie, setCookie } from \"utils/cookie\";\nimport { Context } from \"Context\";\n\nconst SecondaryMessage = () => {\n\tconst AFFILIATION_TYPE_NAME = \"CASTAWAYCLUB\";\n\tconst GENERIC_MESSAGE = \"DEFAULT\";\n\tconst TRAVEL_AGENT = \"TRAVELAGENT\";\n\tconst dismissedCookieName = \"earlyBookingMessageClosed\";\n\tconst travelAgentCookieName = \"TICKET_DATA_jar\";\n\n\tconst {\n\t\theaderData: { secondaryMessage },\n\t\tprofileData: { user },\n\t} = useContext(Context);\n\tconst [bannerMessage, setBannerMessage] = useState(null);\n\tconst [dismissed, setDismissed] = useState(null);\n\tconst [isTravelAgent, setIsTravelAgent] = useState(null);\n\n\tconst generateBanner = (banner) => {\n\t\tif (objectIsEmpty(banner)) {\n\t\t\tbanner = secondaryMessage?.descriptions.find(\n\t\t\t\t({ id }) => id === GENERIC_MESSAGE\n\t\t\t);\n\t\t}\n\t\tconst firstName = user?.firstName;\n\t\tconst closeAriaLabel = banner?.closeAriaLabel;\n\t\tconst message =\n\t\t\tbanner?.body &&\n\t\t\tbanner?.body\n\t\t\t\t// eslint-disable-next-line no-template-curly-in-string\n\t\t\t\t.replace(\"${firstName}\", firstName)\n\t\t\t\t.replace(/\\[\\[/gi, \"<\")\n\t\t\t\t.replace(/\\]\\]/gi, \">\");\n\t\tfirstName && message && setBannerMessage({ message, closeAriaLabel });\n\t};\n\n\tconst higherAffiliationsReducer = (\n\t\thigherAffiliationLevelIndex,\n\t\t{ level, affiliationType }\n\t) => {\n\t\tif (affiliationType !== AFFILIATION_TYPE_NAME)\n\t\t\treturn higherAffiliationLevelIndex;\n\n\t\tconst secondaryMessageIndex = secondaryMessage?.descriptions.findIndex(\n\t\t\t({ id }) => id === level\n\t\t);\n\n\t\treturn secondaryMessageIndex < higherAffiliationLevelIndex\n\t\t\t? secondaryMessageIndex\n\t\t\t: higherAffiliationLevelIndex;\n\t};\n\n\tconst closeBannerHandler = () => {\n\t\tsetCookie(dismissedCookieName, \"true\");\n\t\tsetBannerMessage(null);\n\t\tsetDismissed(true);\n\t};\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\tconst dismissedCookie = getCookie(dismissedCookieName);\n\t\t\tconst travelAgentCookie = getCookie(travelAgentCookieName);\n\t\t\tdismissedCookie && setDismissed(dismissedCookie === \"true\");\n\t\t\ttravelAgentCookie && setIsTravelAgent(travelAgentCookie);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (secondaryMessage) {\n\t\t\tconst affiliations = user?.affiliations;\n\n\t\t\tconst higherAffiliation = isTravelAgent\n\t\t\t\t? secondaryMessage?.descriptions.findIndex(\n\t\t\t\t\t\t({ id }) => id === TRAVEL_AGENT\n\t\t\t\t  )\n\t\t\t\t: affiliations?.reduce(higherAffiliationsReducer, 100);\n\n\t\t\tif (higherAffiliation !== undefined) {\n\t\t\t\tconst banner = secondaryMessage?.descriptions[higherAffiliation];\n\t\t\t\tgenerateBanner(banner);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [user, isTravelAgent, secondaryMessage]);\n\n\tif (dismissed || !bannerMessage || !user) return null;\n\n\treturn (\n\t\t<div className=\"syndicated-secondary-message\">\n\t\t\t<div className=\"syndicated-secondary-message__content\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"syndicated-secondary-message__message guestSensitive\"\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: bannerMessage.message }}\n\t\t\t\t/>\n\t\t\t\t{bannerMessage.closeAriaLabel && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"syndicated-secondary-message__close\"\n\t\t\t\t\t\tonClick={closeBannerHandler}\n\t\t\t\t\t\taria-label={bannerMessage.closeAriaLabel}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage: `url(${getCdn(\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t)}/icons/secondary-message/close.svg)`,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default SecondaryMessage;\n","import { useContext, useEffect, useState, useRef } from \"react\";\nimport { Context } from \"Context\";\nimport SmartBanner from \"./SmartBanner\";\nimport MessageCenter from \"./MessageCenter\";\nimport TravelTrade from \"./TravelTrade\";\nimport Navigation from \"./navigation/Navigation\";\nimport SecondaryMessage from \"./SecondaryMessage\";\nimport useFetch from \"hooks/useFetch\";\nimport { content, defaultParkHoursTimeZone, brands } from \"config.json\";\nimport Loading from \"components/shared/Loading\";\nimport { mapString, isTravelAgent } from \"utils\";\nimport { getCurrentDateInSelectedLocale } from \"utils/date\";\n\nconst cacheMinutes = 5;\nconst mainClass = \"syndicated-header\";\n\nconst Header = () => {\n\tconst {\n\t\tconfig,\n\t\theaderData,\n\t\tsetHeaderData,\n\t\tsetConfig,\n\t\tprofileData: { userType },\n\t} = useContext(Context);\n\tconst [headerUrl, setHeaderUrl] = useState(\"\");\n\tconst brandConfig = brands?.[config.brand];\n\tconst parkHoursTimeZone =\n\t\tbrandConfig?.defaultParkHoursTimeZone || defaultParkHoursTimeZone;\n\tconst isUserTypeRequired = brandConfig?.isUserTypeRequiredForContentRequest;\n\tconst { response, error } = useFetch(headerUrl, {}, cacheMinutes, headerUrl);\n\tconst headerRef = useRef(null);\n\n\tlet classes = mainClass;\n\tif (config.position) {\n\t\tclasses += ` ${mainClass}--${config.position}`;\n\n\t\tif (config.position === \"sticky\") {\n\t\t\tconst parentDiv = document.querySelector(\".syndicated-header-parent\");\n\t\t\tparentDiv.classList.add(\"syndicated-header-parent--sticky\");\n\t\t}\n\t}\n\n\tif (config.store) {\n\t\tclasses += ` ${mainClass}__store ${mainClass}__store--${config.store}`;\n\t}\n\n\tif (config.theme) {\n\t\tclasses += ` syndicated-theme--${config.theme}`;\n\t}\n\n\tuseEffect(() => {\n\t\tif (!isUserTypeRequired || (isUserTypeRequired && userType)) {\n\t\t\tconst headerBaseUrl = mapString(\n\t\t\t\tcontent.apiUrl.header,\n\t\t\t\tgetCurrentDateInSelectedLocale(parkHoursTimeZone, \"ISO\", \"en-us\")\n\t\t\t);\n\t\t\tsetHeaderUrl(\n\t\t\t\tisUserTypeRequired && userType\n\t\t\t\t\t? `${headerBaseUrl}&userType=${userType}`\n\t\t\t\t\t: headerBaseUrl\n\t\t\t);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [userType, config.brand]);\n\n\tuseEffect(() => {\n\t\tif (response) {\n\t\t\tsetHeaderData(response);\n\t\t\tsetConfig((config) => ({\n\t\t\t\t...config,\n\t\t\t\t...(response.context || {}),\n\t\t\t}));\n\t\t} else if (error) {\n\t\t\tsetHeaderData({ error: true, loading: false });\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [error, response]);\n\n\treturn (\n\t\t<div className={classes} ref={headerRef}>\n\t\t\t{config.smartBanner && <SmartBanner />}\n\t\t\t{config.travelTrade &&\n\t\t\t\t(config.store || (isUserTypeRequired && isTravelAgent(userType))) && (\n\t\t\t\t\t<TravelTrade />\n\t\t\t\t)}\n\t\t\t{config.messageCenter && <MessageCenter />}\n\t\t\t{headerData.loading && <Loading />}\n\t\t\t{!headerData.loading && !headerData.error && (\n\t\t\t\t<Navigation\n\t\t\t\t\theaderRef={headerRef}\n\t\t\t\t\tshowLogo={!config.navigation && !config.chrome}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{config.secondaryMessage && <SecondaryMessage />}\n\t\t</div>\n\t);\n};\n\nexport default Header;\n","import { useContext, useEffect, useState, useRef, Fragment } from \"react\";\nimport { Context } from \"Context\";\nimport Separator from \"./Separator\";\nimport Button from \"./Button\";\nimport { focusableElements } from \"config.json\";\n\nconst bodyOnModalOpen = \"syndicated-overflow-hidden\";\nconst escapeKey = 27;\nconst tabKey = 9;\n\nconst syndicatedModalClass = \"syndicated-modal\";\nconst syndicatedModalContainerClass = `${syndicatedModalClass}__container`;\nconst syndicatedModalTitleClass = `${syndicatedModalClass}__title`;\nconst syndicatedModalContentClass = `${syndicatedModalClass}__content`;\nconst syndicatedModalFooterClass = `${syndicatedModalClass}__footer`;\n\nconst Modal = () => {\n\tconst [focusableModalElements, setFocusableModalElements] = useState(null);\n\tconst [firstElement, setFirstElement] = useState(null);\n\tconst [lastElement, setLastElement] = useState(null);\n\n\tconst modalRef = useRef(null);\n\tconst {\n\t\tmodal,\n\t\tsetModal,\n\t\tconfig: { brand },\n\t} = useContext(Context);\n\n\tconst handleClose = () => setModal(false);\n\n\tconst handleTabKey = (e) => {\n\t\tif (!e.shiftKey && document.activeElement === lastElement) {\n\t\t\tfirstElement.focus();\n\t\t\treturn e.preventDefault();\n\t\t}\n\n\t\tif (e.shiftKey && document.activeElement === firstElement) {\n\t\t\tlastElement.focus();\n\t\t\te.preventDefault();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (modalRef.current) {\n\t\t\tsetFocusableModalElements(\n\t\t\t\tmodalRef.current.querySelectorAll(focusableElements)\n\t\t\t);\n\t\t}\n\t}, [modal]);\n\n\tuseEffect(() => {\n\t\tif (focusableModalElements) {\n\t\t\tsetFirstElement(focusableModalElements[0]);\n\t\t\tsetLastElement(focusableModalElements[focusableModalElements.length - 1]);\n\t\t}\n\t}, [focusableModalElements]);\n\n\tconst keyListener = (e) => {\n\t\tif (![escapeKey, tabKey].includes(e.keyCode)) return null;\n\t\tconst listener = e.keyCode === tabKey ? handleTabKey : handleClose;\n\t\treturn listener(e);\n\t};\n\n\tuseEffect(() => {\n\t\tif (modal) {\n\t\t\tmodalRef.current.focus();\n\t\t\tdocument.body.classList.add(bodyOnModalOpen);\n\t\t}\n\t\treturn () => {\n\t\t\tdocument.body.classList.remove(bodyOnModalOpen);\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [modal]);\n\n\tconst renderContent = ({\n\t\ttitle,\n\t\tdescription,\n\t\tcontent,\n\t\tprimaryButton,\n\t\tsecondaryButton,\n\t\thref,\n\t\ttarget,\n\t}) => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{title && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`${syndicatedModalTitleClass} ${syndicatedModalTitleClass}--${brand}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{description && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`${syndicatedModalContentClass} ${syndicatedModalContentClass}--${brand}`}\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: description }}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{content && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`${syndicatedModalContentClass} ${syndicatedModalContentClass}--${brand}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{content}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{(primaryButton || secondaryButton) && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`${syndicatedModalFooterClass} ${syndicatedModalFooterClass}--${brand}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{secondaryButton && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tsecondary={true}\n\t\t\t\t\t\t\t\t\ttitle={secondaryButton}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{primaryButton && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttitle={primaryButton}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\thref && window.open(href, target);\n\t\t\t\t\t\t\t\t\t\thandleClose();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\treturn modal ? (\n\t\t<div\n\t\t\tclassName={`${syndicatedModalClass} ${syndicatedModalClass}--${brand}`}\n\t\t\trole=\"dialog\"\n\t\t\taria-modal=\"true\"\n\t\t\tref={modalRef}\n\t\t\ttabIndex=\"-1\"\n\t\t\tonKeyDown={keyListener}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={`${syndicatedModalContainerClass} ${syndicatedModalContainerClass}--${brand}`}\n\t\t\t>\n\t\t\t\t{modal && renderContent(modal)}\n\t\t\t</div>\n\t\t</div>\n\t) : null;\n};\n\nexport default Modal;\n","import { useContext } from \"react\";\nimport Footer from \"components/footer/Footer\";\nimport Header from \"components/header/Header\";\nimport Legal from \"components/legal/Legal\";\nimport MessageCenter from \"components/header/MessageCenter\";\nimport Modal from \"components/shared/Modal\";\nimport ReactDOM from \"react-dom\";\nimport { urlParams, validateParam } from \"utils/paramsValidation\";\nimport { Context } from \"Context\";\nconst headerComponent = \"header\";\nconst messageCenterComponent = \"message-center\";\nconst legalComponent = \"legal\";\nconst footerComponent = \"footer\";\n\nconst App = () => {\n\tconst {\n\t\tconfig: { header, footer, legal },\n\t} = useContext(Context);\n\n\tconst renderComponent = (targetContainer, component) => {\n\t\tlet targetId = urlParams.get(`${targetContainer}Container`);\n\n\t\tif (!targetId && targetContainer === legalComponent) {\n\t\t\ttargetId = urlParams.get(`${footerComponent}Container`);\n\t\t}\n\n\t\tconst elementToRender = document.getElementById(\n\t\t\ttargetId || `syndicated-${targetContainer}`\n\t\t);\n\n\t\tif (!elementToRender) return null;\n\n\t\tif (targetContainer === headerComponent) {\n\t\t\telementToRender.classList.add(\"syndicated-header-parent\");\n\t\t}\n\n\t\treturn ReactDOM.createPortal(component, elementToRender);\n\t};\n\n\treturn (\n\t\t<div id=\"syndicated-root__app\">\n\t\t\t{validateParam(messageCenterComponent) &&\n\t\t\t\trenderComponent(messageCenterComponent, <MessageCenter />)}\n\t\t\t{header && renderComponent(headerComponent, <Header />)}\n\t\t\t{footer && renderComponent(footerComponent, <Footer />)}\n\t\t\t{legal && renderComponent(legalComponent, <Legal />)}\n\t\t\t<Modal />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import config from \"../config.json\";\n\nconst Logger = class {\n\tconstructor() {\n\t\tthis.apiUrl = config.logger.apiUrl || false;\n\t\tthis.maxStringLength = config.logger.maxStringLength || false;\n\t\tthis._log = console.log;\n\t\tthis._error = console.error;\n\t\tthis._warn = console.warn;\n\t\tthis._debug = console.debug;\n\t}\n\n\tlog(message, ...args) {\n\t\tconst messages = this.parseMessage(args);\n\t\tthis._log(message, ...messages);\n\t}\n\n\twarn(message, ...args) {\n\t\tconst messages = this.parseMessage(args);\n\t\tthis._warn(message, ...messages);\n\t}\n\n\tdebug(message, ...args) {\n\t\tconst messages = this.parseMessage(args);\n\t\tthis._debug(message, ...messages);\n\t}\n\n\terror(message, ...args) {\n\t\tconst messages = this.parseMessage(args);\n\t\tthis._error(message, ...messages);\n\n\t\tif (this.apiUrl) {\n\t\t\tthis.send(message, ...args);\n\t\t}\n\t}\n\n\tasync send(...args) {\n\t\tconst logMessage = this.truncateMessageObject(args);\n\n\t\tconst response = await fetch(this.apiUrl, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify(logMessage),\n\t\t});\n\n\t\treturn response.json();\n\t}\n\n\ttruncateMessageObject(logMessage, depth = 4) {\n\t\tfor (const prop in logMessage) {\n\t\t\tif (\n\t\t\t\ttypeof logMessage[prop] === \"string\" &&\n\t\t\t\tlogMessage[prop].length > this.maxStringLength\n\t\t\t) {\n\t\t\t\t// protect against assignment errors on\n\t\t\t\t// non-writable properties in strict mode\n\t\t\t\ttry {\n\t\t\t\t\tlogMessage[prop] = this.maxStringLength\n\t\t\t\t\t\t? this.truncateMessageString(logMessage[prop])\n\t\t\t\t\t\t: logMessage[prop];\n\t\t\t\t} catch (error) {\n\t\t\t\t\t// fail silently\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\ttypeof logMessage[prop] === \"object\" &&\n\t\t\t\tlogMessage[prop] !== null &&\n\t\t\t\tdepth\n\t\t\t) {\n\t\t\t\t// condition is also true for arrays\n\t\t\t\tthis.truncateMessageObject(logMessage[prop], depth);\n\t\t\t}\n\t\t}\n\t\treturn logMessage;\n\t}\n\n\ttruncateMessageString(str) {\n\t\treturn str.substr(0, this.maxStringLength) + \"...[truncated]\";\n\t}\n\n\tparseMessage(args) {\n\t\tlet messages;\n\n\t\t// Iterate over array\n\t\tmessages = args.map((elem) => {\n\t\t\tif (typeof elem !== \"string\") {\n\t\t\t\treturn elem;\n\t\t\t}\n\t\t\tlet str;\n\t\t\ttry {\n\t\t\t\t// Try to parse JSON and access message prop\n\t\t\t\t// Fallback to whole JSON object\n\t\t\t\tconst data = JSON.parse(elem);\n\t\t\t\tstr = data.message || elem;\n\t\t\t} catch (e) {\n\t\t\t\t// Plain string - Eat the error\n\t\t\t\tstr = elem;\n\t\t\t}\n\t\t\treturn str;\n\t\t});\n\t\treturn messages;\n\t}\n};\n\nexport default new Logger();\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles/main.scss\";\nimport ContextProvider from \"./Context\";\nimport Logger from \"./utils/logger\";\nimport { cleanExpiredCache } from \"./utils/cache\";\n\nif (false && process.env.NODE_ENV !== \"development\") {\n\tconsole.log = (...args) => {\n\t\tLogger.log(...args);\n\t};\n\tconsole.warn = (...args) => {\n\t\tLogger.warn(...args);\n\t};\n\tconsole.debug = (...args) => {\n\t\tLogger.error(...args);\n\t};\n\tconsole.error = (...args) => {\n\t\tLogger.error(...args);\n\t};\n}\n\nconst render = () => {\n\tconst root = document.createElement(\"div\");\n\troot.id = \"syndicated-root\";\n\tdocument.body.appendChild(root);\n\n\tReactDOM.render(\n\t\t<React.StrictMode>\n\t\t\t<ContextProvider>\n\t\t\t\t<App />\n\t\t\t</ContextProvider>\n\t\t</React.StrictMode>,\n\t\troot\n\t);\n};\n\ncleanExpiredCache();\nrender();\n","import { cdn } from \"config.json\";\n\nconst productionEnvironment = \"prod\";\nconst latestEnvironment = \"latest\";\nconst developmentEnvironment = \"development\";\nconst localEnvironment = \"localhost\";\nconst hostnamesAllowed = [\n\tlocalEnvironment,\n\tlatestEnvironment,\n\t\"stage\",\n\t\"lt01\",\n\tproductionEnvironment,\n];\nconst syndicatedPathname = \"/media/layout/syndicated/\";\nconst helpUiPathname = \"/media/layout/help-ui/\";\nconst developmentSubdomains = [\n\tlocalEnvironment,\n\t\"versions\",\n\t\"pep-local\",\n\t\"dev\",\n];\n\nexport const isCdnPage = () => {\n\treturn (\n\t\twindow.location.pathname.includes(syndicatedPathname) ||\n\t\twindow.location.pathname.includes(helpUiPathname)\n\t);\n};\n\nexport const objectIsEmpty = (object) => !Object.keys(object || {}).length;\n\nexport const arrayIsEmpty = (array = []) => array.length === 0;\n\nexport const mapString = (target = \"\", ...args) => {\n\tlet index = -1;\n\treturn target.replace(/{[a-zA-Z0-9._-]+}/gi, () => {\n\t\tindex++;\n\t\treturn args[index];\n\t});\n};\n\nexport const getEnvironment = () => {\n\tconst { hostname, pathname } = window.location;\n\tlet mainSubdomain = hostname.split(\".\")[0];\n\n\tif (isCdnPage()) {\n\t\tmainSubdomain = pathname.split(\"/\")[4];\n\t}\n\n\tif (developmentSubdomains.includes(mainSubdomain))\n\t\treturn developmentEnvironment;\n\telse if (hostnamesAllowed.includes(mainSubdomain)) return mainSubdomain;\n\telse return productionEnvironment;\n};\n\nexport const elementIsDisplayed = (element) =>\n\t!!(element?.offsetHeight && element?.offsetWidth);\n\nexport const isDevelopmentEnvironment = (\n\tenvironment = process?.env?.NODE_ENV\n) => {\n\treturn environment === developmentEnvironment;\n};\n\nexport const getCdn = (isIconsUrl = false) => {\n\tconst baseUrl = cdn.baseUrl;\n\tconst iconsCdn = `${baseUrl}${cdn.assets}`;\n\tconst syndicatedCdn = `${baseUrl}${cdn.syndicated}`;\n\tlet env = getEnvironment();\n\tif (env === developmentEnvironment) env = latestEnvironment;\n\n\treturn !isIconsUrl && isDevelopmentEnvironment()\n\t\t? \"/assets\"\n\t\t: mapString(\n\t\t\t\tisIconsUrl ? iconsCdn : syndicatedCdn,\n\t\t\t\tenv === productionEnvironment ? \"\" : `stage.`,\n\t\t\t\tenv\n\t\t  );\n};\n\nexport const getLoginUrl = (pathname) => {\n\tconst targetUrl = window.location.href.replace(window.location.origin, \"\");\n\treturn `${pathname}?appRedirect=${targetUrl}`;\n};\n\nexport const isTravelAgent = (userType) => {\n\treturn (\n\t\tuserType &&\n\t\t![\"GUEST\", \"GUEST_B2B2C\", \"TRAVEL_AGENT_NOT_SIGNED_IN\"].includes(userType)\n\t);\n};\n"],"sourceRoot":""}